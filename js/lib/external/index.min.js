!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.libraryStarter=t():e.libraryStarter=t()}(this,(()=>(()=>{var e,t,r,a,n={494:(e,t)=>{var r;r=function(e){e.version="1.3.1",e.bstr=function(e,t){var r=1,a=0,n=e.length,i=0;"number"==typeof t&&(r=65535&t,a=t>>>16);for(var o=0;o<n;){for(i=Math.min(n-o,2654)+o;o<i;o++)a+=r+=255&e.charCodeAt(o);r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},e.buf=function(e,t){var r=1,a=0,n=e.length,i=0;"number"==typeof t&&(r=65535&t,a=t>>>16&65535);for(var o=0;o<n;){for(i=Math.min(n-o,2654)+o;o<i;o++)a+=r+=255&e[o];r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521},e.str=function(e,t){var r=1,a=0,n=e.length,i=0,o=0,s=0;"number"==typeof t&&(r=65535&t,a=t>>>16);for(var p=0;p<n;){for(i=Math.min(n-p,2918);i>0;)(o=e.charCodeAt(p++))<128?r+=o:o<2048?(a+=r+=192|o>>6&31,--i,r+=128|63&o):o>=55296&&o<57344?(a+=r+=240|(o=64+(1023&o))>>8&7,--i,a+=r+=128|o>>2&63,--i,a+=r+=128|(s=1023&e.charCodeAt(p++))>>6&15|(3&o)<<4,--i,r+=128|63&s):(a+=r+=224|o>>12&15,--i,a+=r+=128|o>>6&63,--i,r+=128|63&o),a+=r,--i;r=15*(r>>>16)+(65535&r),a=15*(a>>>16)+(65535&a)}return a%65521<<16|r%65521}},"undefined"==typeof DO_NOT_EXPORT_ADLER?r(t):r({})},287:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(601),n=r.n(a),i=r(314),o=r.n(i)()(n());o.push([e.id,'.bastyon_payment_button{font-family:"Segoe UI Variable","Segoe UI",SegoeUI,"Helvetica Neue",Helvetica,Arial,sans-serif;border-radius:5px !important;max-height:inherit !important;max-width:inherit !important;min-height:46px !important;min-width:200px !important;-webkit-appearance:button;appearance:button;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-touch-callout:none;border:1px solid #f6f6f6;-moz-transition:.3s !important;-o-transition:.3s !important;-webkit-transition:.3s !important;transition:.3s !important;display:flex;justify-content:center;align-items:center;padding-left:26px;padding-right:32px}.bastyon_payment_button img{height:19px}.bastyon_payment_button.black{background:#011621 !important;border-color:#011621 !important}.bastyon_payment_button.black:hover{background:#001927 !important;border-color:#001927 !important}.bastyon_payment_button.white{background:#f6f6f6 !important;border-color:#f6f6f6 !important}.bastyon_payment_button.white:hover{background:rgba(231,231,231,.9647058824) !important;border-color:rgba(231,231,231,.9647058824) !important}',""]);const s=o},314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",a=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),a&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),a&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,a,n,i){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var p=this[s][0];null!=p&&(o[p]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);a&&o[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),n&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=n):c[4]="".concat(n)),t.push(c))}},t}},601:e=>{"use strict";e.exports=function(e){return e[1]}},72:e=>{"use strict";var t=[];function r(e){for(var r=-1,a=0;a<t.length;a++)if(t[a].identifier===e){r=a;break}return r}function a(e,a){for(var i={},o=[],s=0;s<e.length;s++){var p=e[s],u=a.base?p[0]+a.base:p[0],c=i[u]||0,m="".concat(u," ").concat(c);i[u]=c+1;var l=r(m),h={css:p[1],media:p[2],sourceMap:p[3],supports:p[4],layer:p[5]};if(-1!==l)t[l].references++,t[l].updater(h);else{var f=n(h,a);a.byIndex=s,t.splice(s,0,{identifier:m,updater:f,references:1})}o.push(m)}return o}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var i=a(e=e||[],n=n||{});return function(e){e=e||[];for(var o=0;o<i.length;o++){var s=r(i[o]);t[s].references--}for(var p=a(e,n),u=0;u<i.length;u++){var c=r(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=p}}},659:e=>{"use strict";var t={};e.exports=function(e,r){var a=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var a="";r.supports&&(a+="@supports (".concat(r.supports,") {")),r.media&&(a+="@media ".concat(r.media," {"));var n=void 0!==r.layer;n&&(a+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),a+=r.css,n&&(a+="}"),r.media&&(a+="}"),r.supports&&(a+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={id:e,exports:{}};return n[e](r,r.exports,o),r.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"==typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"==typeof r.then)return r}var n=Object.create(null);o.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&a&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>r[e]));return i.default=()=>r,o.d(n,i),n},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,r)=>(o.f[r](e,t),t)),[])),o.u=e=>e+".min.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},a="libraryStarter:",o.l=(e,t,n,i)=>{if(r[e])r[e].push(t);else{var s,p;if(void 0!==n)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var m=u[c];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==a+n){s=m;break}}s||(p=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.setAttribute("data-webpack",a+n),s.src=e),r[e]=[t];var l=(t,a)=>{s.onerror=s.onload=null,clearTimeout(h);var n=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),n&&n.forEach((e=>e(a))),t)return t(a)},h=setTimeout(l.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=l.bind(null,s.onerror),s.onload=l.bind(null,s.onload),p&&document.head.appendChild(s)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{var e={57:0};o.f.j=(t,r)=>{var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var n=new Promise(((r,n)=>a=e[t]=[r,n]));r.push(a[2]=n);var i=o.p+o.u(t),s=new Error;o.l(i,(r=>{if(o.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var n=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+n+": "+i+")",s.name="ChunkLoadError",s.type=n,s.request=i,a[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var a,n,[i,s,p]=r,u=0;if(i.some((t=>0!==e[t]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);p&&p(o)}for(t&&t(r);u<i.length;u++)n=i[u],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0},r=this.webpackChunklibraryStarter=this.webpackChunklibraryStarter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),o.nc=void 0;var s={};return(()=>{"use strict";o.r(s),o.d(s,{default:()=>x});var e=o(72),t=o.n(e),r=o(825),a=o.n(r),n=o(659),i=o.n(n),p=o(56),u=o.n(p),c=o(540),m=o.n(c),l=o(113),h=o.n(l),f=o(287),d={};d.styleTagTransform=h(),d.setAttributes=u(),d.insert=i().bind(null,"head"),d.domAPI=a(),d.insertStyleElement=m(),t()(f.A,d),f.A&&f.A.locals&&f.A.locals;const y={hexEncode:function(e){for(var t=0,r="",a=0;a<e.length;a++){for((t=e.charCodeAt(a))>255&&(t-=848),t=t.toString(16);t.length<2;)t="0"+t;r+=t}return r},hexDecode:function(e){var t=0,r="";e=trim(e);for(var a=2;a<=e.length;a+=2)(t=parseInt(e.substring(a-2,a),16))>=128&&(t+=848),r+=t=String.fromCharCode("0x"+t.toString(16));return r}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var w=o(494);const _=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.configs=r,this.parameters=b({},t),this.parameters.payment||(this.parameters.payment={}),this.parameters.style||(this.parameters.style="black"),this.parameters.payment.s_url&&(this.parameters.payment.email||(this.parameters.payment.email=!0),this.parameters.payment.phone||(this.parameters.payment.phone=!0)),this.parameters.payment.anonimus&&(delete this.parameters.payment.s_url,delete this.parameters.payment.email,delete this.parameters.payment.phone),this.parameters.payment.expired&&this.parameters.payment.expired<=0&&delete this.parameters.payment.expired,this.parameters.payment.payload&&!this.parameters.payment.expired||(this.parameters.payment.date=(new Date).getTime()),"black"!=this.parameters.style&&"white"!=this.parameters.style&&(this.parameters.style="black")}var t,r;return t=e,(r=[{key:"getHash",value:function(){var e=this.parameters.payment,t=[];t.push(e.address),t.push(JSON.stringify(e.items)),e.store&&t.push(JSON.stringify(e.store)),e.payload?t.push(JSON.stringify(e.payload)):t.push(JSON.stringify(e.date));var r=w.str(t.join("_"));return r<0&&(r=-r),r+""}},{key:"makeURLParameters",value:function(){b({action:"pay"},this.parameters.payment);var e={};if(this.parameters.payment.s_url&&(e.s=this.parameters.payment.s_url),this.parameters.payment.shipmentValue&&(e.sv=this.parameters.payment.shipmentValue),this.parameters.payment.c_url&&(e.c=this.parameters.payment.c_url),this.parameters.payment.c_url_type&&"fetch"!=this.parameters.payment.c_url_type&&(e.ct=this.parameters.payment.c_url_type),this.parameters.payment.address&&(e.ad=this.parameters.payment.address),this.parameters.payment.email&&(e.e=1),this.parameters.payment.phone&&(e.p=1),this.parameters.payment.anonimus&&(e.an=1),this.parameters.payment.payload&&(e.pl=this.parameters.payment.payload),this.parameters.payment.date&&(e.d=this.parameters.payment.date),this.parameters.payment.expired&&(e.ex=this.parameters.payment.expired),this.parameters.payment.value&&(e.v=this.parameters.payment.value),this.parameters.payment.description&&(e.de=this.parameters.payment.description),e.h=this.getHash(),this.parameters.payment.store&&(e.st={},this.parameters.payment.store.name&&(e.st.n=this.parameters.payment.store.name),this.parameters.payment.store.site&&(e.st.s=this.parameters.payment.store.site)),this.parameters.payment.items&&this.parameters.payment.items.length){e.i=[];for(var t=0;t<this.parameters.payment.items.length;t++){var r=this.parameters.payment.items[t];if(r){var a={};r.image&&(a.i=r.image),r.name&&(a.n=r.name),r.value&&(a.v=r.value),e.i.push(a)}}}return b({a:"p"},e)}},{key:"makeURLHash",value:function(){var e=this.makeURLParameters();return"_"+y.hexEncode(JSON.stringify(e))}},{key:"makeURLQHash",value:function(){var e=this.makeURLParameters();return encodeURI(JSON.stringify(e))}},{key:"makeURL",value:function(e){return"https://"+this.configs.url+"/index?ext="+(e?this.makeURLQHash():this.makeURLHash())}},{key:"makeButton",value:function(){var e=this.makeDummyButton();return this.liveButton(e),e}},{key:"liveButton",value:function(e){var t=this.makeURL();e.addEventListener("click",(function(){window.open(t,"_blank").focus()}))}},{key:"makeDummyButton",value:function(){var e=document.createElement("button");return e.innerHTML='<img src="https://'+this.configs.url+"/img/logotypes/payment_logo_"+this.parameters.style+'.svg">',e.classList.add("bastyon_payment_button"),this.parameters.style&&e.classList.add(this.parameters.style),e}},{key:"makeQR",value:function(){var e=this;return o.e(583).then(o.t.bind(o,583,19)).then((function(t){return new Promise((function(r,a){t.toDataURL(e.makeURL(!0),(function(e,t){if(e)return a(e);r(t)}))}))}))}}])&&k(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();var O=function(e){return this.payments=function(t){return new _(t,e)},this};window.__BastyonLib=O;const x=O})(),s})()));