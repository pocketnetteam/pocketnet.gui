{"version":3,"sources":["webpack:///./src/components/chat/list/index.sass?924c","webpack:///./src/components/chats/assets/name.vue?cf62","webpack:///./src/components/chats/assets/icon.vue?b60b","webpack:///./src/components/chats/assets/name.vue?77a4","webpack:///./src/components/events/list/index.sass","webpack:///./src/components/chats/assets/icon.vue","webpack:///src/components/chats/assets/icon.vue","webpack:///./src/components/chats/assets/icon.vue?20b3","webpack:///./src/components/chats/assets/icon.vue?5232","webpack:///./src/components/chats/assets/icon.vue?7ee7","webpack:///./src/components/chat/list/index.vue","webpack:///./src/components/events/list/index.vue","webpack:///./src/components/events/list/index.js","webpack:///./src/components/events/list","webpack:///./src/components/events/list/index.vue?459a","webpack:///./src/components/chat/list/index.js","webpack:///./src/components/chat/list","webpack:///./src/components/chat/list/index.vue?2203","webpack:///./src/components/chats/assets/name.vue?85dd","webpack:///./src/components/events/list/index.sass?f677","webpack:///./src/components/events/list/index.sass?7f5a","webpack:///./src/components/chats/assets/icon.vue?7eb2","webpack:///./src/components/chats/assets/name.vue","webpack:///src/components/chats/assets/name.vue","webpack:///./src/components/chats/assets/name.vue?57a4","webpack:///./src/components/chats/assets/name.vue?73d3","webpack:///./src/components/chat/list/index.sass?7d5f","webpack:///./src/components/chat/list/index.sass"],"names":["render","_vm","_c","_self","staticClass","class","unknowngroupusers","groupAvatar","attrs","key","allnotifications","opacity","slidesPerView","usersinfo","status","unseen","singleAvatar","_e","staticRenderFns","name","data","single","props","chat","m_chat","hideunseen","dontuseslides","computed","f","moment","users","u","blockedCheck","_","us","content","_setup","_setupProxy","bin","pocketnet","bout","minimized","fix","active","ref","timeline","error","events","lloading","scrollType","selectedMessages","searchresults","on","updatedSize","scrollE","removeEvent","editingEvent","replyEvent","e","imageGallery","menuIsVisibleHandler","scrollToEvent","mobile","ios","menuOpen","imagesList","mousewheel","dscroll","stringifyiedError","_v","_s","$t","showerror","_l","event","i","event_id","refInFor","fromsearch","eventinsearchresult","multiSelect","showMultiSelect","selectMessage","removeMessage","galleryOpen","text","emounted","toreference","loading","directives","rawName","value","scrollbottomshow","expression","scrolldown","Object","Array","Boolean","Error","String","inject","components","type","tmt","lscroll","c","ls","voiceMessageQueue","countshow","provide","addToQueue","message","id","find","v","playNext","current","sortedVoiceMessageQueue","findIndex","next","setTime","play","watch","immediate","handler","length","notificationCount","scrollTop","getUnreadNotificationCount","scrollToNew","sortBy","a","isios","mapState","auth","state","eventsByPages","ps","pc","each","push","stringify","destroyed","menuState","set","updated","methods","scrollToReadMessages","shareEvent","$emit","$dialog","alert","okText","backdropClose","catch","dupdated","debounce","size","scroll","ddscroll","$nextTick","scrollCorrection","smoothScroll","$refs","s","scrollHeight","clientHeight","showPhotoSwipe","index","isOpen","$set","options","hidePhotoSwipe","container","scrolling","r_element","offsetTop","classList","add","setTimeout","remove","isVisible","preventDefault","target","speed","smooth","moving","pos","frame","document","body","documentElement","dest","delta","normalizeWheelDelta","Math","max","min","update","console","log","detail","wheelDelta","abs","requestFrame","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","func","filter","item","message_id","splice","reference","filterType","default","encryptedEvents","scrollingTo","cancelNextScroll","lastEvent","esize","p_b","p_f","updateTimeout","updateInterval","firstPaginate","readPromise","mounted","init","settings_read","dontreadreceipts","eventsTypes","types","toArray","currentState","members","created","setInterval","unpaginate","_eventCount","clearInterval","getLiveTimeline","wh","getEvents","lastCallAccess","pop","localRedactionEvent","getRedactionEvent","accepted","core","mtrx","me","sender","keys","getMembers","reverse","relations","replacingEventDate","getDate","Infinity","uniq","clearEventId","makeid","getEventsAndEncrypt","Promise","all","map","pcrypto","resolve","decrypted","pr","subtype","deep","einfo","getAudio","msgtype","getAudioUnencrypt","decryptEvent","then","d","ts","timelineSet","rt","getChildEventsForEvent","last","getLastReplacement","edited","block","customTimelineSet","sdk","Filter","client","getUserId","setDefinition","room","contains_url","filterId","getOrCreateFilter","credentials","userId","getOrCreateFilteredTimelineSet","getTimelineSet","TimelineWindow","load","r","autoPaginateAll","paginateToEvent","promise","paginate","autoPaginate","direction","needLoad","rnd","canPaginate","count","reject","readAll","safespace","readEvent","streamMode","byme","sendReadReceipt","readFirst","readLast","readEvents","readOne","debouncedReadAll","readError","eid","setRoomReadMarkers","roomId","readed","finally","hasFocus","hiddenInParent","getJoinedMemberCount","eventslist","pretry","$store","globalpreloader","isShowGroupIcon","convertedName","preview","getStateEvents","getContent","markMatches"],"mappings":"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","file":"matrix-element.2.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=430b7992&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"d8af4550\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".nameofchat[data-v-69b19ff9]{white-space:nowrap}.nameline[data-v-69b19ff9]{display:flex;align-items:flex-end}.iconGroup[data-v-69b19ff9]{font-size:.4em;width:16px;min-width:16px;text-align:center;height:16px;line-height:16px;border-radius:8px;background:rgb(var(--neutral-grad-2));margin-right:.5em;margin-block:.25em}.iconGroup i[data-v-69b19ff9]{color:rgb(var(--neutral-grad-1))}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=style&index=0&id=23ef1b9b&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./name.vue?vue&type=style&index=0&id=69b19ff9&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"41bfa5fd\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".eventWrapper[data-v-2066c94c] .event{padding:.25em 0}.eventWrapper[data-v-2066c94c]{transition:background .3s}.eventWrapper.fromsearch[data-v-2066c94c],.eventWrapper.fromsearch[data-v-2066c94c] .allscreen{background:rgba(var(--color-bg-ac-bright),.1)}.eventWrapper.attention[data-v-2066c94c],.eventWrapper.attention[data-v-2066c94c] .allscreen{background:rgb(var(--neutral-grad-0))}.list-enter-active[data-v-2066c94c],.list-leave-active[data-v-2066c94c]{transition:all 1s}.list-enter[data-v-2066c94c],.list-leave-to[data-v-2066c94c]{opacity:0}#events[data-v-2066c94c]{left:0;right:0;top:0;bottom:0;padding-bottom:50px;position:absolute;transition:.3s}#events.mobile[data-v-2066c94c]{padding-bottom:81px;transform:translate3d(0,calc(var(--keyboardheight, 0)*-1 - -1px),0)}#events.mobile .scrollbottom[data-v-2066c94c]{bottom:5em}.dummyheight[data-v-2066c94c]{height:100%;width:2px;left:0;right:0;top:0;bottom:0;background:rgb(var(--color-shadow-base))}.preloadingWrapper[data-v-2066c94c]{padding:2em;text-align:center;opacity:.5;color:rgb(var(--text-color))}.scrollbottom[data-v-2066c94c]{position:absolute;right:.5em;bottom:4em;cursor:pointer;border-radius:50%;background:rgb(var(--background-main));box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);color:rgb(var(--color-txt-gray-dark));width:35px;height:35px;line-height:35px;text-align:center;z-index:3}.scrollbottom i[data-v-2066c94c]{font-size:.7em}.eventsflex[data-v-2066c94c]{display:flex;flex-flow:column;overflow-y:overlay;overflow-x:hidden;max-width:640px;margin:0 auto;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;flex-wrap:nowrap;width:100%;height:100%;scroll-behavior:auto;continue:fragments;justify-content:flex-start;transform:scaleY(-1);contain:strict}.eventsflex.freeze[data-v-2066c94c]{overflow-y:hidden}.eventsflex .ewr[data-v-2066c94c]{position:relative}.eventsflex .eventspage[data-v-2066c94c],.eventsflex .ewr[data-v-2066c94c]{width:100%;display:flex;flex-flow:column;flex-wrap:nowrap;justify-content:flex-start}.eventsflex .errorWrapper[data-v-2066c94c]{padding:.5em}.eventsflex .errorWrapper .btnwrp[data-v-2066c94c]{padding-top:.5em}.eventsflex .errorWrapper .error[data-v-2066c94c]{padding:1em;border-radius:1em;background:rgb(var(--neutral-grad-0))}.eventsflex .errorWrapper[data-v-2066c94c],.eventsflex .eventWrapper[data-v-2066c94c]{width:100%;transform:scaleY(-1)}.eventsflex.mobile[data-v-2066c94c]{scroll-behavior:smooth}.eventsflex.mobile[data-v-2066c94c] .dropdown.visible{top:-55px}.eventsflex.mobile[data-v-2066c94c] .outer-div .backgr,.eventsflex.mobile[data-v-2066c94c] .outer-div .menuwrapper{position:absolute}.eventsflex.mobile.ios.menuOpen[data-v-2066c94c]{overflow:visible}.galleryRow[data-v-2066c94c]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-2066c94c]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-2066c94c]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-2066c94c]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-2066c94c]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-2066c94c]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-2066c94c]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-2066c94c]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-2066c94c]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-2066c94c]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-2066c94c]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-2066c94c]{display:block;width:100%;height:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chatIcon\",class:{ unknowngroupusers: _vm.unknowngroupusers }},[(_vm.groupAvatar)?_c('div',{staticClass:\"chatGroupIcon\"},[_c('userpic',{attrs:{\"image\":_vm.groupAvatar}})],1):_c('userspic',{key:_vm.allnotifications,class:{ opacity: _vm.groupAvatar },attrs:{\"slidesPerView\":_vm.slidesPerView,\"users\":_vm.usersinfo,\"status\":_vm.status,\"unseen\":_vm.unseen,\"single\":_vm.singleAvatar}}),(_vm.unknowngroupusers)?_c('div',{staticClass:\"unknowngroupusersicon\"},[_c('i',{staticClass:\"fas fa-question\"})]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"chatIcon\" :class=\"{ unknowngroupusers }\">\n\t\t<div v-if=\"groupAvatar\" class=\"chatGroupIcon\">\n\t\t\t<userpic :image=\"groupAvatar\"/>\n\t\t</div>\n\t\t<userspic\n\t\t\tv-else\n\t\t\t:slidesPerView=\"slidesPerView\"\n\t\t\t:users=\"usersinfo\"\n\t\t\t:status=\"status\"\n\t\t\t:unseen=\"unseen\"\n\t\t\t:key=\"allnotifications\"\n\t\t\t:single=\"singleAvatar\"\n\t\t\t:class=\"{ opacity: groupAvatar }\"\n\t\t/>\n\n\t\t<div class=\"unknowngroupusersicon\" v-if=\"unknowngroupusers\">\n\t\t\t<i class=\"fas fa-question\"></i>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped lang=\"sass\">\n.opacity\n\topacity: 0\n.chatIcon\n\twidth: 100%\n\tposition: relative\n\n.unknowngroupusersicon\n\tposition: absolute\n\tleft: 0\n\ttop: 0\n\tbottom: 0\n\tright: 0\n\tfont-size: 0.7em\n\tdisplay: flex\n\tjustify-content: center\n\talign-items: center\n\tcolor: #fff\n\ttext-shadow: 0px 0px 2px rgba(0, 11, 58, 0.714), 0 0 3px rgba(0, 8, 43, 0.519)\n\n.unknowngroupusers\n\t/deep/\n\t.bgimage\n\t\ttransform: scale(0.7)\n.chatGroupIcon\n\twidth: 100%\n\theight: 100%\n.chatGroupIcon img\n\twidth: 100%\n\theight: 100%\n\tborder-radius: 50%\n\tobject-fit: cover\n\tobject-position: 50% 50%\n\tposition: absolute\n\ttop: 0\n\tz-index: 100\n</style>\n\n<script>\nimport f from \"@/application/functions\";\n\nexport default {\n\tname: \"chatIcon\",\n\tdata: function () {\n\t\treturn {\n\t\t\tsingle: [],\n\t\t};\n\t},\n\tprops: {\n\t\tchat: {},\n\t\tm_chat: {},\n\t\tslidesPerView: Number,\n\t\thideunseen: Boolean,\n\t\tdontuseslides: Boolean,\n\t},\n\tcomputed: {\n\t\tallnotifications: function () {\n\t\t\treturn this.$store.state.allnotifications || \"0\";\n\t\t},\n\n\t\tunseen: function () {\n\t\t\tif (this.hideunseen) return 0;\n\n\t\t\tif (this.blockedCheck) return 0;\n\n\t\t\tif (this.m_chat.selfMembership === \"invite\") {\n\t\t\t\tif (\n\t\t\t\t\tf.date.addseconds(\n\t\t\t\t\t\tmoment.utc(this.m_chat.summary.lastModified).toDate(),\n\t\t\t\t\t\t86400\n\t\t\t\t\t) > new Date()\n\t\t\t\t)\n\t\t\t\t\treturn 1;\n\t\t\t}\n\n\t\t\tthis.allnotifications;\n\n\t\t\treturn this.m_chat.getUnreadNotificationCount();\n\t\t},\n\t\tusers: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\tvar u = this.core.mtrx.anotherChatUsers(this.chat.roomId);\n\n\t\t\tif (this.dontuseslides) {\n\t\t\t\tu = _.first(u, 4);\n\t\t\t}\n\n\t\t\treturn _.first(_.shuffle(u), 49);\n\t\t},\n\t\tsingleAvatar: function () {\n\t\t\tif (!this.chat && !this.m_chat) return {};\n\t\t\tif (\n\t\t\t\tthis.m_chat.getJoinRule() === \"public\" &&\n\t\t\t\tthis.m_chat.currentState.getMembers().length === 1\n\t\t\t) {\n\t\t\t\tvar member = this.m_chat.currentState.getMembers()[0];\n\t\t\t\tvar data = this.$store.state.users[f.getmatrixid(member.userId)];\n\t\t\t\tif (data) {\n\t\t\t\t\tdata.status = member.membership;\n\t\t\t\t\tdata.image = data.source.i;\n\t\t\t\t\treturn data;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {};\n\t\t},\n\t\tblockedCheck: function () {\n\t\t\tvar users = this.core.mtrx.anotherChatUsers(this.m_chat.roomId);\n\n\t\t\tif (users.length == 1) {\n\t\t\t\treturn this.core.mtrx.blockeduser(users[0].userId);\n\t\t\t}\n\t\t},\n\t\tusersinfo: function () {\n\t\t\tvar u = this.core.mtrx.chatUsersInfo(\n\t\t\t\tthis.chat.roomId,\n\t\t\t\t\"anotherChatUsers\"\n\t\t\t);\n\n\t\t\tif (this.dontuseslides) {\n\t\t\t\tu = _.first(u, 4);\n\t\t\t}\n\n\t\t\treturn _.first(_.shuffle(u), 49);\n\t\t},\n\n\t\tstatus: function () {\n\t\t\tvar us = {};\n\n\t\t\t_.each(this.users, (u) => {\n\t\t\t\tus[u.userId] = this.core.mtrx.blockeduser(u.userId)\n\t\t\t\t\t? \"blocked\"\n\t\t\t\t\t: u.membership;\n\t\t\t});\n\n\t\t\treturn us;\n\t\t},\n\n\t\tunknowngroupusers: function () {\n\t\t\treturn this.core.mtrx.kit.unknowngroupusers(this.m_chat);\n\t\t},\n\n\t\tgroupAvatar: function () {\n\t\t\tconst avatar =\n\t\t\t\tthis.m_chat.currentState.getStateEvents(\"m.room.avatar\")[0]?.event\n\t\t\t\t\t.content.avatarUrl;\n\t\t\treturn avatar !== \"\" ? avatar : \"\";\n\t\t},\n\t},\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./icon.vue?vue&type=template&id=23ef1b9b&scoped=true&\"\nimport script from \"./icon.vue?vue&type=script&lang=js&\"\nexport * from \"./icon.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./icon.vue?vue&type=style&index=0&id=23ef1b9b&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"23ef1b9b\",\n  null\n  ,true\n)\n\nexport default component.exports","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".opacity[data-v-23ef1b9b]{opacity:0}.chatIcon[data-v-23ef1b9b]{width:100%;position:relative}.unknowngroupusersicon[data-v-23ef1b9b]{position:absolute;left:0;top:0;bottom:0;right:0;font-size:.7em;display:flex;justify-content:center;align-items:center;color:#fff;text-shadow:0 0 2px rgba(0,11,58,.714),0 0 3px rgba(0,8,43,.519)}.unknowngroupusers .bgimage[data-v-23ef1b9b]{transform:scale(.7)}.chatGroupIcon[data-v-23ef1b9b],.chatGroupIcon img[data-v-23ef1b9b]{width:100%;height:100%}.chatGroupIcon img[data-v-23ef1b9b]{border-radius:50%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%;position:absolute;top:0;z-index:100}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:{\n\t\tbin: _vm.pocketnet,\n\t\tbout: !_vm.pocketnet,\n\t\tminimized: _vm.minimized,\n\t\tfix: _vm.pocketnet,\n\t\tactive: _vm.active,\n\t},attrs:{\"id\":\"chatList\"}},[_c('div',{ref:\"work\",staticClass:\"work\"},[_c('div',{ref:\"events\",staticClass:\"timeLineWrapper\"},[(_vm.timeline)?_c('events',{ref:\"eventslist\",attrs:{\"error\":_vm.error,\"timeline\":_vm.timeline,\"events\":_vm.events,\"chat\":_vm.chat,\"loading\":_vm.lloading,\"scrollType\":_vm.scrollType,\"selectedMessages\":_vm.selectedMessages,\"searchresults\":_vm.searchresults},on:{\"updated\":_vm.updatedSize,\"scroll\":_vm.scrollE,\"removeEvent\":_vm.removeEvent,\"editingEvent\":_vm.editingEvent,\"replyEvent\":_vm.replyEvent,\"galleryEventOpen\":(e) => _vm.imageGallery(e),\"menuIsVisible\":_vm.menuIsVisibleHandler,\"toreference\":_vm.scrollToEvent}}):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"maskedtop\",class:{\n\t\tmobile: _vm.mobile,\n\t\tios: _vm.ios,\n\t\tmenuOpen: _vm.menuOpen,\n\t\timagesList: this.scrollType === 'custom' ? 'imagesList' : '',\n\t},attrs:{\"id\":\"events\"}},[_c('div',{ref:\"container\",staticClass:\"eventsflex\",class:{ mobile: _vm.mobile, ios: _vm.ios, menuOpen: _vm.menuOpen },on:{\"wheel\":_vm.mousewheel,\"scroll\":_vm.dscroll}},[_c('div',{staticClass:\"ewr\"},[(_vm.stringifyiedError)?_c('div',{staticClass:\"errorWrapper\"},[_c('div',{staticClass:\"error\"},[_c('div',[_vm._v(_vm._s(_vm.$t(\"sendingerror\")))]),_c('div',{staticClass:\"btnwrp\"},[_c('button',{staticClass:\"button small\",on:{\"click\":_vm.showerror}},[_vm._v(\" \"+_vm._s(_vm.$t(\"details\"))+\" \")])])])]):_vm._e(),_vm._l((_vm.events),function(event,i){return _c('div',{key:event.event.event_id,ref:event.event.event_id,refInFor:true,staticClass:\"eventWrapper\",class:{fromsearch : _vm.eventinsearchresult(event)},attrs:{\"event\":event.event.event_id}},[_c('eventsEvent',{attrs:{\"event\":event,\"prevevent\":_vm.events[i + 1],\"galleryData\":_vm.events,\"chat\":_vm.chat,\"timeline\":_vm.timeline,\"multiSelect\":_vm.multiSelect,\"selectedMessages\":_vm.selectedMessages},on:{\"showMultiSelect\":_vm.showMultiSelect,\"selectMessage\":_vm.selectMessage,\"removeMessage\":_vm.removeMessage,\"openImageEvent\":(e) => _vm.galleryOpen(e),\"removeEvent\":(e) => _vm.removeEvent(event),\"editing\":(text) => _vm.editingEvent({ event, text }),\"reply\":(e) => _vm.replyEvent({ event }),\"mounted\":_vm.emounted,\"menuIsVisible\":_vm.menuIsVisibleHandler,\"toreference\":_vm.toreference}})],1)})],2),(_vm.loading)?_c('div',{staticClass:\"preloadingWrapper\"},[_c('linepreloader')],1):_vm._e()]),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scrollbottomshow),expression:\"scrollbottomshow\"}],staticClass:\"scrollbottom\",on:{\"click\":_vm.scrolldown}},[_c('i',{staticClass:\"fas fa-chevron-down\"})])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\nimport f from \"@/application/functions\";\n\nexport default {\n\tname: \"events\",\n\tprops: {\n\t\ttimeline: Object,\n\t\tevents: Array,\n\t\tchat: Object,\n\t\tloading: Boolean,\n\t\tscrollType: \"\",\n\t\tsearchresults : null,\n\t\terror: [Object, Error, String],\n\t\tselectedMessages: [],\n\t},\n\tinject: [\n\t\t\"matches\",\n\t\t\"menuState\"\n\t],\n\tcomponents: {},\n\tdata: function () {\n\t\treturn {\n\t\t\ttype: \"\",\n\t\t\ttmt: null,\n\t\t\tlscroll: null,\n\t\t\tmenuOpen: false,\n\t\t\tc: 1,\n\t\t\tls: 0,\n\t\t\tvoiceMessageQueue: [],\n\t\t\tcountshow: 0,\n\t\t\tmultiSelect: false,\n\t\t};\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\taddToQueue: (message, id) => {\n\t\t\t\tvar f = _.find(this.voiceMessageQueue, (v) => {\n\t\t\t\t\treturn v.id == id;\n\t\t\t\t});\n\n\t\t\t\tif (!f)\n\t\t\t\t\tthis.voiceMessageQueue = [...this.voiceMessageQueue, { message, id }];\n\t\t\t},\n\t\t\tplayNext: (id) => {\n\t\t\t\tlet current = this.sortedVoiceMessageQueue.findIndex((i) => {\n\t\t\t\t\treturn i.id === id;\n\t\t\t\t});\n\t\t\t\tlet next =\n\t\t\t\t\tcurrent === -1 ? null : this.sortedVoiceMessageQueue[current + 1];\n\t\t\t\tif (next) {\n\t\t\t\t\tnext.message.setTime(0);\n\t\t\t\t\tnext.message.play();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\t},\n\n\twatch: {\n\t\tevents: function () { },\n\n\t\tselectedMessages: {\n\t\t\timmediate: true,\n\t\t\thandler: function () {\n\t\t\t\tif (this.selectedMessages.length === 0) {\n\t\t\t\t\tthis.multiSelect = false;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\n\t\tnotificationCount: function () {\n\t\t\tif (\n\t\t\t\tthis.lscroll &&\n\t\t\t\tthis.lscroll.scrollTop < 180 &&\n\t\t\t\tthis.chat &&\n\t\t\t\tthis.chat.getUnreadNotificationCount()\n\t\t\t) {\n\t\t\t\tthis.scrollToNew();\n\t\t\t}\n\t\t},\n\t},\n\tcomputed: {\n\t\tsortedVoiceMessageQueue() {\n\t\t\treturn _.sortBy(this.voiceMessageQueue, (a) => {\n\t\t\t\treturn a.id;\n\t\t\t});\n\t\t},\n\n\t\tios() {\n\t\t\treturn f.isios();\n\t\t},\n\n\t\t...mapState({\n\t\t\tauth: (state) => state.auth,\n\t\t\tmobile: (state) => state.mobile,\n\t\t\tscrollbottomshow: function () {\n\t\t\t\treturn this.lscroll && this.lscroll.scrollTop > 500;\n\t\t\t},\n\t\t\tminimized: (state) => state.minimized,\n\t\t\tnotificationCount: (state) => state.allnotifications,\n\t\t}),\n\n\t\teventsByPages: function () {\n\t\t\tvar ps = [];\n\t\t\tvar pc = 0;\n\n\t\t\t_.each(this.events, function (e) {\n\t\t\t\tif (!pc) ps.push([]);\n\n\t\t\t\tps[ps.length - 1].push(e);\n\n\t\t\t\tpc++;\n\n\t\t\t\tif (pc > 19) pc = 0;\n\t\t\t});\n\n\t\t\treturn ps;\n\t\t},\n\n\t\tstringifyiedError: function () {\n\t\t\treturn f.stringify(this.error);\n\t\t},\n\t},\n\tdestroyed: function () {\n\t\t/*this.core.menu(null);*/\n\t\tthis.menuState.set(null);\n\t},\n\tupdated: function () {\n\t\t/*if(this.countshow === 0) {\n\t  this.scrollToReadMessages();\n\t}\n\tthis.countshow = 1;*/\n\t},\n\tmethods: {\n\t\teventinsearchresult : function(event){\n\n\t\t\tif(this.searchresults){\n\t\t\t\treturn _.find(this.searchresults, (e) => {\n\t\t\t\t\treturn e.event.event_id == event.event.event_id\n\t\t\t\t})\n\t\t\t}\n\n\t\t\treturn false\n\t\t},\n\t\tscrollToReadMessages: function () {\n\t\t\t/*if(this.notificationCount > 0) {\n\t\tconst elem = document.getElementById(\"eventWrapper_\" + (this.notificationCount + 1));\n\n\t\tif(elem)\n\t\t  elem.scrollIntoView()\n\t  }*/\n\t\t},\n\t\tshareEvent: function ({ event }) {\n\t\t\tthis.$emit(\"shareEvent\", { event });\n\t\t},\n\t\tshowerror: function () {\n\t\t\t// stringifyiedError\n\n\t\t\treturn this.$dialog\n\t\t\t\t.alert(this.stringifyiedError, {\n\t\t\t\t\tokText: \"Ok\",\n\t\t\t\t\tbackdropClose: true,\n\t\t\t\t})\n\t\t\t\t.catch((e) => { });\n\t\t},\n\n\t\tdupdated: _.debounce(function () {\n\t\t\tthis.$emit(\"updated\", this.size());\n\t\t}, 75),\n\n\t\tdscroll: _.debounce(function () {\n\t\t\treturn this.scroll();\n\t\t}, 35),\n\n\t\tddscroll: function (e) {\n\t\t\t/*var _ls = this.$refs['container'].scrollTop\n\n\t\t\tif (Math.abs(_ls - this.ls) > 500 && this.c * _ls < this.c * this.ls){\n\t\t\t}\n\t\t\telse{\n\t\t\t\tthis.ls = _ls\n\t\t\t}*/\n\n\t\t\tthis.dscroll();\n\t\t},\n\n\t\temounted: function () {\n\t\t\tthis.$nextTick(function () {\n\t\t\t\tthis.scrollCorrection();\n\t\t\t\tthis.dupdated();\n\t\t\t});\n\n\t\t\tnew this.smoothScroll(this.$refs[\"container\"], 120, 15);\n\t\t},\n\t\tscroll: function () {\n\t\t\tthis.$emit(\"scroll\", this.size());\n\t\t},\n\n\t\tsize: function () {\n\t\t\tvar s = {\n\t\t\t\tscrollHeight: 0,\n\t\t\t\tscrollTop: 0,\n\t\t\t\tclientHeight: 0,\n\t\t\t};\n\n\t\t\tif (this.$refs[\"container\"]) {\n\t\t\t\ts.scrollHeight = this.$refs[\"container\"].scrollHeight;\n\t\t\t\ts.scrollTop = this.c * this.$refs[\"container\"].scrollTop;\n\t\t\t\ts.clientHeight = this.$refs[\"container\"].clientHeight;\n\t\t\t}\n\n\t\t\tthis.lscroll = s;\n\n\t\t\treturn s;\n\t\t},\n\n\t\teditingEvent: function ({ event, text }) {\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\n\t\t},\n\n\t\treplyEvent: function ({ event }) {\n\t\t\tthis.$emit(\"replyEvent\", { event });\n\t\t},\n\n\t\tremoveEvent: function (event) {\n\t\t\tthis.$emit(\"removeEvent\", event);\n\t\t},\n\n\t\tshowPhotoSwipe(index) {\n\t\t\tthis.isOpen = true;\n\t\t\tthis.$set(this.options, \"index\", index);\n\t\t},\n\n\t\thidePhotoSwipe() {\n\t\t\tthis.isOpen = false;\n\t\t},\n\n\t\tgalleryOpen(e) {\n\t\t\tthis.$emit(\"galleryEventOpen\", e);\n\t\t},\n\n\t\tscrolldown() {\n\t\t\tthis.scrollToNew(0);\n\t\t},\n\n\t\tscrollCorrection() {\n\t\t\t//this.scrollToNew(this.c * this.ls)\n\t\t},\n\t\tscrollToNew(s) {\n\t\t\tconst container = this.$refs[\"container\"];\n\t\t\tif (container.scrolling) {\n\t\t\t\tcontainer.scrolling(-1, -container.scrollHeight);\n\t\t\t}\n\t\t},\n\n\t\tscrollToEvent(e) {\n\t\t\tif (this.$refs[e.event.event_id]){\n\t\t\t\tvar r_element = this.$refs[e.event.event_id][0]\n\t\t\t\tthis.scrollToNew(r_element.offsetTop - this.lscroll.clientHeight / 2 + r_element.clientHeight / 2)\n\t\t\t\t\n\t\t\t\tr_element.classList.add('attention')\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tr_element.classList.remove('attention')\n\t\t\t\t}, 1000)\n\t\t\t}\n\t\t\t//this.scrollToNew(120);\n\t\t},\n\n\t\tmenuIsVisibleHandler: function (isVisible) {\n\t\t\tthis.menuOpen = isVisible;\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\n\t\t},\n\n\t\tmousewheel: function (e) {\n\t\t\tif (this.scrollType === \"custom\") {\n\t\t\t\treturn;\n\t\t\t} else {\n\n\t\t\t\t/*if(this.$refs[\"container\"].scrollTop >= this.$refs[\"container\"].scrollHeight - this.$refs[\"container\"].clientHeight - 1 && e.deltaY < 0) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tif(this.$refs[\"container\"].scrollTop == 0 && e.deltaY > 0) {\n\t\t\t\t\treturn\n\t\t\t\t}*/\n\n\t\t\t\te.preventDefault();\n\n\t\t\t\t/* this.$refs[\"container\"].scrollTop += -e.deltaY; */\n\t\t\t\tconst container = this.$refs[\"container\"];\n\t\t\t\tif (container.scrolling) {\n\t\t\t\t\tcontainer.scrolling(e);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\t\t},\n\t\tsmoothScroll: function(target, speed, smooth) {\n\t\t\tlet\n\t\t\t\tmoving = false,\n\t\t\t\tpos = target.scrollTop,\n\t\t\t\tframe = target === document.body \n\t\t\t\t\t\t\t\t\t&& document.documentElement \n\t\t\t\t\t\t\t\t\t? document.documentElement \n\t\t\t\t\t\t\t\t\t: target // safari is the new IE\n\n\t\t\ttarget.scrolling = function(e, dest) {\n\t\t\t\tlet delta = normalizeWheelDelta(e);\n\t\t\n\t\t\t\tpos += delta * speed;\n\t\t\t\tpos = Math.max(0, Math.min(pos, dest || (target.scrollHeight - frame.clientHeight))); // limit scrolling\n\t\t\n\t\t\t\tif (!moving) update();\n\t\t\t\tconsole.log(delta, pos)\n\t\t\t}\n\t\t\n\t\t\tfunction normalizeWheelDelta(e) {\n\t\t\t\tif (e.detail) {\n\t\t\t\t\tif (e.wheelDelta) {\n\t\t\t\t\t\treturn e.wheelDelta/e.detail/40 * (e.detail>0 ? 1 : -1) // Opera\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn -e.detail/3 // Firefox\n\t\t\t\t\t}\n\t\t\t\t} else if (e.wheelDelta) {\n\t\t\t\t\treturn e.wheelDelta/120 // IE,Safari,Chrome\n\t\t\t\t} else {\n\t\t\t\t\treturn e;\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tfunction update() {\n\t\t\t\tmoving = true\n\t\t\t\t\n\t\t\t\tlet delta = (pos - target.scrollTop) / smooth\n\t\t\t\t\n\t\t\t\ttarget.scrollTop += delta\n\t\t\t\t\n\t\t\t\tif (Math.abs(delta) > 0.5) {\n\t\t\t\t\trequestFrame(update)\n\t\t\t\t} else {\n\t\t\t\t\tmoving = false\n\t\t\t\t}\n\t\t\t}\n\t\t\n\t\t\tlet requestFrame = function() { // requestAnimationFrame cross browser\n\t\t\t\treturn (\n\t\t\t\t\twindow.requestAnimationFrame ||\n\t\t\t\t\twindow.webkitRequestAnimationFrame ||\n\t\t\t\t\twindow.mozRequestAnimationFrame ||\n\t\t\t\t\twindow.oRequestAnimationFrame ||\n\t\t\t\t\twindow.msRequestAnimationFrame ||\n\t\t\t\t\tfunction(func) {\n\t\t\t\t\t\twindow.setTimeout(func, 1000 / 50);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}()\n\t\t},\n\t\tshowMultiSelect() {\n\t\t\tthis.multiSelect = true;\n\t\t},\n\t\tselectMessage(message) {\n\t\t\tif (\n\t\t\t\tthis.selectedMessages.filter(\n\t\t\t\t\t(item) => item.message_id === message.message_id\n\t\t\t\t).length === 0\n\t\t\t) {\n\t\t\t\tthis.selectedMessages.push(message);\n\t\t\t}\n\t\t},\n\t\tremoveMessage(message) {\n\t\t\tconst index = this.selectedMessages.findIndex(\n\t\t\t\t(item) => item.message_id === message.message_id\n\t\t\t);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.selectedMessages.splice(index, 1);\n\t\t\t}\n\t\t},\n\n\t\ttoreference(reference) {\n\n\t\t\tthis.$emit(\"toreference\", reference);\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2066c94c&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=2066c94c&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2066c94c\",\n  null\n  ,true\n)\n\nexport default component.exports","import { mapState } from \"vuex\";\n\nimport events from \"@/components/events/list/index.vue\";\nimport time from \"../../chats/assets/time\";\nimport f from \"@/application/functions\";\n\nexport default {\n\tname: \"chatList\",\n\tprops: {\n\t\tchat: Object,\n\t\tfilterType: String,\n\t\terror: [Object, Error, String],\n\t\tselectedMessages: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => {\n\t\t\t\treturn [];\n\t\t\t},\n\t\t},\n\t\tsearchresults : null\n\t},\n\n\tcomponents: {\n\t\tevents,\n\t},\n\t\n\tinject: ['streamMode'],\n\n\tdata: function () {\n\t\treturn {\n\t\t\tencryptedEvents: [],\n\t\t\tloading: false,\n\t\t\tscrolling: false,\n\t\t\tscrollingTo: 0,\n\t\t\tcancelNextScroll: false,\n\t\t\ttimeline: null,\n\t\t\tlastEvent: {},\n\t\t\tscrollType: String,\n\t\t\tesize: {},\n\t\t\tp_b: false,\n\t\t\tp_f: false,\n\n\t\t\tupdateTimeout: null,\n\t\t\tupdateInterval: null,\n\t\t\tevents: [],\n\t\t\tfirstPaginate: true,\n\t\t\treadPromise : null\n\t\t};\n\t},\n\n\tmounted: function () {\n\t\tthis.init();\n\n\t\tif (this.chat) {\n\t\t\t// this.readAll()\n\t\t}\n\t},\n\n\twatch: {\n\t\t//$route: 'getdata'\n\n\t\tactive: function () {\n\t\t\t// if(this.minimized && !this.active){\n\t\t\t//   this.scrollToNew(0)\n\t\t\t// }\n\t\t\t// if(this.minimized && this.active){\n\t\t\t//   this.readAll();\n\t\t\t// }\n\t\t},\n\n\t\tfilterType: function (value) {\n\t\t\tthis.init();\n\t\t}\n\t},\n\tcomputed: mapState({\n\t\tlloading: function () {\n\t\t\treturn this.loading || this[\"p_f\"] || this[\"p_b\"];\n\t\t},\n\n\t\tauth: (state) => state.auth,\n\n\t\tsettings_read: (state) => !state.dontreadreceipts,\n\n\t\teventsTypes: function () {\n\t\t\tvar types = {\n\t\t\t\t\"m.room.message\": true,\n\t\t\t\t\"p.room.encrypt.message\": true,\n\t\t\t\t\"p.room.\": true,\n\t\t\t\t\"m.room.image\": true,\n\t\t\t\t\"m.room.audio\": true,\n\t\t\t\t\"m.room.file\": true,\n\t\t\t\t\"m.call.invite\": true,\n\t\t\t\t\"m.room.request_calls_access\": true,\n\t\t\t\t\"m.call.hangup\": true,\n\t\t\t\t\"m.call.reject\": true,\n\t\t\t\t\"m.fully_read\": true,\n\t\t\t};\n\n\t\t\tif (\n\t\t\t\t_.toArray((this.chat && this.chat.currentState.members) || {}).length >\n\t\t\t\t2\n\t\t\t) {\n\t\t\t\ttypes[\"m.room.member\"] = true;\n\t\t\t\ttypes[\"m.room.power_levels\"] = true;\n\t\t\t}\n\n\t\t\treturn types;\n\t\t},\n\n\t\tpocketnet: (state) => state.pocketnet,\n\t\tminimized: (state) => state.minimized,\n\t\tactive: (state) => state.active,\n\n\t\tbin: function (state) {\n\t\t\treturn state.pocketnet;\n\t\t},\n\t}),\n\n\tcreated() {\n\t\tthis.updateInterval = setInterval(this.update, 300);\n\t},\n\tdestroyed() {\n\t\tif (this.timeline) {\n\t\t\tthis.timeline.unpaginate(this.timeline._eventCount, true);\n\t\t}\n\n\t\tclearInterval(this.updateInterval);\n\t},\n\n\tmethods: {\n\t\t\n\t\teditingEvent: function ({ event, text }) {\n\t\t\tthis.$emit(\"editingEvent\", { event, text });\n\t\t},\n\t\treplyEvent: function ({ event }) {\n\t\t\tthis.$emit(\"replyEvent\", { event });\n\t\t},\n\n\t\tremoveEvent: function (event) {\n\t\t\tthis.chat.getLiveTimeline().removeEvent(event.event.event_id);\n\t\t},\n\t\twh: function () {\n\t\t\tif (this.esize.clientHeight) return this.esize.clientHeight;\n\t\t},\n\t\tgetEvents: function () {\n\t\t\tvar events = this.timeline.getEvents();\n\n\t\t\tvar lastCallAccess = events\n\t\t\t\t.filter((e) => {\n\t\t\t\t\treturn e.event.type === \"m.room.request_calls_access\";\n\t\t\t\t})\n\t\t\t\t.pop();\n\n\t\t\tevents = _.filter(events, (e) => {\n\t\t\t\tvar type = e.event.type;\n\n\t\t\t\tif (e.localRedactionEvent() || e.getRedactionEvent()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (e.event.type === \"m.room.request_calls_access\") {\n\t\t\t\t\tif (e.event.event_id === lastCallAccess.event.event_id) {\n\t\t\t\t\t\tif (e.event.content.accepted !== null) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (this.core.mtrx.me(e.event.sender)) {\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\te.event.type === \"m.room.power_levels\" &&\n\t\t\t\t\tObject.keys(e.event.content.users).length === 1\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tthis.chat.currentState.getMembers().length <= 2 &&\n\t\t\t\t\te.event.type === \"m.room.member\" &&\n\t\t\t\t\t\"m.room.power_levels\"\n\t\t\t\t) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn !this.eventsTypes || this.eventsTypes[type];\n\t\t\t});\n\n\t\t\tevents = events.reverse();\n\n\t\t\tthis.relations(events);\n\n\t\t\tevents = _.sortBy(events, function (e) {\n\t\t\t\treturn e.replacingEventDate() || e.getDate() || Infinity;\n\t\t\t});\n\n\t\t\tevents = events.reverse();\n\n\t\t\tevents = _.uniq(events, (e) => {\n\t\t\t\treturn this.core.mtrx.clearEventId(e) || f.makeid();\n\t\t\t});\n\n\t\t\tevents = _.sortBy(events, function (e) {\n\t\t\t\treturn e.getDate() || Infinity;\n\t\t\t});\n\n\t\t\tevents = events.reverse();\n\n\t\t\tthis.$emit(\"getEvents\", events);\n\t\t\t// events = _.filter(events, function (e) {\n\t\t\t//   return e.ty\n\t\t\t// })\n\n\t\t\treturn events;\n\t\t},\n\n\t\tgetEventsAndEncrypt: function () {\n\t\t\tvar events = this.getEvents();\n\n\t\t\treturn Promise.all(\n\t\t\t\t_.map(events, (e) => {\n\t\t\t\t\tif (!this.chat.pcrypto) return Promise.resolve();\n\n\t\t\t\t\tif (e.event.decrypted) return Promise.resolve();\n\n\t\t\t\t\tvar pr = null;\n\t\t\t\t\tvar subtype = f.deep(e, \"event.content.msgtype\");\n\n\t\t\t\t\t//if(f.deep(e, 'event.content.msgtype') != 'm.encrypted') return Promise.resolve()\n\n\t\t\t\t\tvar einfo =\n\t\t\t\t\t\tf.deep(e, \"event.content.info.secrets\") ||\n\t\t\t\t\t\tf.deep(e, \"event.content.pbody.secrets\");\n\n\t\t\t\t\tif (einfo) {\n\t\t\t\t\t\tif (subtype == \"m.image\") {\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudio(this.chat, e).catch((error) => {\n\t\t\t\t\t\t\t\tconsole.error(error);\n\n\t\t\t\t\t\t\t\te.event.decrypted = {\n\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (subtype == \"m.audio\") {\n\t\t\t\t\t\t\tpr = this.core.mtrx.getAudioUnencrypt(this.chat, e);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (subtype == \"m.encrypted\") {\n\n\t\t\t\t\t\t\tpr = this.chat.pcrypto\n\t\t\t\t\t\t\t\t.decryptEvent(e.event)\n\t\t\t\t\t\t\t\t.then((d) => {\n\t\t\t\t\t\t\t\t\te.event.decrypted = d;\n\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\te.event.decrypted = {\n\t\t\t\t\t\t\t\t\t\tmsgtype: \"m.bad.encrypted\",\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!pr) return Promise.resolve();\n\n\t\t\t\t\treturn pr.catch((e) => {\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t})\n\t\t\t).then(() => {\n\t\t\t\treturn Promise.resolve(events);\n\t\t\t});\n\t\t},\n\n\t\trelations: function (events) {\n\t\t\tvar ts = this.timeline.timelineSet;\n\n\t\t\t_.each(events, (e) => {\n\t\t\t\ttry {\n\t\t\t\t\t//if(!e.event.content.edited){\n\t\t\t\t\tvar rt = ts.relations.getChildEventsForEvent(\n\t\t\t\t\t\te.event.event_id,\n\t\t\t\t\t\t\"m.replace\",\n\t\t\t\t\t\t\"m.room.message\"\n\t\t\t\t\t);\n\n\t\t\t\t\tif (rt) {\n\t\t\t\t\t\tvar last = rt.getLastReplacement();\n\n\t\t\t\t\t\tif (last) {\n\n\t\t\t\t\t\t\tconsole.log(\"last\", last)\n\n\t\t\t\t\t\t\te.event.content.body = last.event.content.body;\n\t\t\t\t\t\t\te.event.content.edited = last.event.event_id;\n\t\t\t\t\t\t\te.event.content.block = last.event.content.block;\n\t\t\t\t\t\t\te.event.content.msgtype = last.event.content.msgtype;\n\t\t\t\t\t\t\te.event.decrypted = last.event.decrypted;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tcustomTimelineSet: async function (name, set) {\n\t\t\tif (!name) return;\n\t\t\t\n\t\t\tvar filter = new this.core.mtrx.sdk.Filter(client.getUserId());\n\n\t\t\tif (typeof set === 'function') set(filter);\n\t\t\telse {\n\t\t\t\tfilter.setDefinition({\n\t\t\t\t\troom: {\n\t\t\t\t\t\ttimeline: {\n\t\t\t\t\t\t\tcontains_url: this.filterType === \"images\",\n\t\t\t\t\t\t\ttypes: [\"m.room.message\"],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tfilter.filterId = await this.core.mtrx.client.getOrCreateFilter(\n\t\t\t\t`FILTER_${ name }_` + this.core.mtrx.client.credentials.userId,\n\t\t\t\tfilter\n\t\t\t);\n\n\t\t\treturn this.chat.getOrCreateFilteredTimelineSet(filter);\n\t\t},\n\t\tinit: async function () {\n\t\t\tthis.loading = true;\n\t\t\tthis.firstPaginate = true;\n\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\n\t\t\t\n\t\t\t\n\t\t\t//this.chat.getTimelineForEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s')\n\t\t\t\n\t\t\t\n\t\t\t//this.chat.getLiveTimeline();\n\n\t\t\tvar ts;\n\n\t\t\tswitch (this.filterType) {\n\t\t\t\tcase \"images\": {\n\t\t\t\t\tthis.scrollType = \"custom\";\n\t\t\t\t\tts = await this.customTimelineSet('FILES');\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcase \"text\": {\n\t\t\t\t\tts = await this.customTimelineSet('TEXT', (filter) => {\n\t\t\t\t\t\tfilter.setDefinition({\n\t\t\t\t\t\t\troom: {\n\t\t\t\t\t\t\t\ttimeline: {\n\t\t\t\t\t\t\t\t\ttypes: [\"m.room.message\"],\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tcase \"donate\": {\n\t\t\t\t\tts = await this.customTimelineSet('TEXT', (filter) => {\n\t\t\t\t\t\tfilter.setDefinition({\n\t\t\t\t\t\t\troom: {\n\t\t\t\t\t\t\t\ttimeline: {\n\t\t\t\t\t\t\t\t\tcontains_url: true,\n\t\t\t\t\t\t\t\t\ttypes: [\"m.room.message\"]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tdefault: {\n\t\t\t\t\tvar timeline = this.chat.getLiveTimeline();\n\t\t\t\t\tts = timeline.getTimelineSet();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.timeline = new this.core.mtrx.sdk.TimelineWindow(\n\t\t\t\tthis.core.mtrx.client,\n\t\t\t\tts\n\t\t\t);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.timeline\n\t\t\t\t\t.load(/*null, (this.wh() || 600)*/)\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\treturn this.getEventsAndEncrypt();\n\t\t\t\t\t})\n\t\t\t\t\t.then((events) => {\n\t\t\t\t\t\tthis.events = events;\n\n\t\t\t\t\t\tthis.loading = false;\n\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.autoPaginateAll();\n\t\t\t\t\t\t}, 300);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t});\n\t\t\t}, 30);\n\n\t\t\t/*setTimeout(() => {\n\t\t\t\tthis.paginateToEvent('$FXUvcjIqcvDu0meLTnz-8plloZoNHLIYEb6WGQMWO3s').then(event => {\n\t\t\t\t\tconsole.log(\"TOEVENT\", event)\n\t\t\t\t})\n\t\t\t}, 1000)*/\n\t\t},\n\n\t\tpaginateToEvent: function(event_id){\n\t\t\tvar event = _.find(this.events, (e) => {\n\t\t\t\treturn e.event.event_id == event_id\n\t\t\t})\n\n\t\t\tif (event){\n\t\t\t\treturn Promise.resolve(event)\n\t\t\t}\n\n\t\t\telse{\n\t\t\t\tvar promise = this.paginate('b')\n\n\t\t\t\tif (promise){\n\t\t\t\t\treturn promise.then(() => {\n\t\t\t\t\t\treturn this.paginateToEvent(event_id)\n\t\t\t\t\t}).catch(e => {\n\t\t\t\t\t\tconsole.error('EROR', e)\n\t\t\t\t\t\tif(!event) return Promise.resolve(null)\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\telse{\n\t\t\t\t\tif(!event) return Promise.resolve(null)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tautoPaginate: function (direction) {\n\t\t\tif (this.needLoad(direction)) {\n\t\t\t\tvar pr = this.paginate(direction)\n\n\t\t\t\tif (pr) pr.catch(e => {})\n\t\t\t}\n\t\t},\n\n\t\tpaginate: function (direction, rnd) {\n\t\t\t//$(this.$el).find('.eventsflex')[0]\n\n\t\t\tif (!this.loading && this.timeline && !this[\"p_\" + direction]) {\n\t\t\t\tif (this.timeline.canPaginate(direction) || rnd) {\n\t\t\t\t\tthis[\"p_\" + direction] = true;\n\n\t\t\t\t\tlet count = /*this.firstPaginate ? 24 : */ 20;\n\n\t\t\t\t\tvar error = null\n\n\t\t\t\t\treturn this.timeline\n\t\t\t\t\t\t.paginate(direction, count)\n\t\t\t\t\t\t.then((e) => {\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\terror = e\n\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\t\treturn this.getEventsAndEncrypt();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((events) => {\n\t\t\t\t\t\t\tthis.events = events;\n\n\t\t\t\t\t\t\tthis.firstPaginate = false;\n\n\t\t\t\t\t\t\tthis[\"p_\" + direction] = false;\n\t\t\t\t\t\t}).catch((e) => {\n\t\t\t\t\t\t\tif(e) return Promise.reject(e)\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\n\t\t\t\t} else {\n\t\t\t\t\tthis.readAll();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tautoPaginateAll: function () {\n\t\t\tif (this.filterType === \"images\") {\n\t\t\t\tthis.autoPaginate(\"b\");\n\t\t\t} else {\n\t\t\t\tthis.autoPaginate(\"b\");\n\t\t\t\tthis.autoPaginate(\"f\");\n\t\t\t}\n\t\t},\n\n\t\tneedLoad: function (direction) {\n\t\t\tvar r = false;\n\n\t\t\tvar scrollHeight = this.esize.scrollHeight || 0;\n\t\t\tvar scrollTop = this.esize.scrollTop || 0;\n\t\t\tvar clientHeight = Math.max(this.esize.clientHeight || 0, 800);\n\n\t\t\tif (direction == \"b\") {\n\t\t\t\tvar safespace = clientHeight;\n\n\t\t\t\tif (scrollHeight - scrollTop < clientHeight + safespace) r = true;\n\t\t\t} else {\n\t\t\t\tif (scrollTop < clientHeight) r = true;\n\t\t\t}\n\n\t\t\treturn r;\n\t\t},\n\n\t\treadEvent: function (event) {\n\t\t\tif (this.streamMode) return;\n\t\t\t\n\t\t\tvar byme = this.core.mtrx.me(event.event.sender);\n\n\t\t\tif (byme) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.core.mtrx.client.sendReadReceipt(event);\n\t\t},\n\n\t\treadFirst: function () {\n\t\t\tif (this.streamMode) return;\n\n\t\t\tvar events = this.timeline.getEvents();\n\n\t\t\tthis.readEvent(events[0]);\n\t\t},\n\n\t\treadLast: function () {\n\t\t\tif (this.streamMode) return;\n\n\t\t\tvar events = this.timeline.getEvents();\n\n\t\t\tthis.readEvent(events[events.length - 1]);\n\t\t},\n\n\t\treadEvents: function (events) {\n\t\t\tif (this.streamMode) return;\n\n\t\t\t_.each(events, (e) => {\n\t\t\t\tthis.readEvent(e);\n\t\t\t});\n\t\t},\n\t\treadOne() {\n\t\t\tif (this.streamMode) return;\n\n\t\t\tthis.core.mtrx\n\t\t\t\t.client(this.chat.timeline[this.chat.timeline.length - 1])\n\t\t\t\t.then((r) => {\n\t\t\t\t\treturn r;\n\t\t\t\t});\n\t\t},\n\t\tdebouncedReadAll : _.debounce(function(){\n\n\t\t\tif (!this.chat || this.streamMode) return;\n\t\t\tif (this.readPromise) return\n\n\t\t\tvar i = this.chat.timeline.length - 1;\n\t\t\tvar event = null;\n\n\t\t\tevent = this.chat.timeline[i]\n\n\t\t\t/*while (i >= 0 && !event) {\n\t\t\t\tvar e = this.chat.timeline[i];\n\n\t\t\t\tvar type = (e.event.type || \"\")\n\n\t\t\t\tif (type.indexOf('m.call') > -1){\n\t\t\t\t\tif(type.indexOf('candidates') > -1 ) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(e.readed) return\n\n\t\t\t\tif (!this.core.mtrx.me(e.sender.userId)) {\n\n\t\t\t\t\tif(!this.core.mtrx.isReaded(e)){\n\t\t\t\t\t\tevent = e;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\ti--;\n\t\t\t}*/\n\n\t\t\tif (event) {\n\n\t\t\t\tif (event.readError){\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tvar eid = event.event.event_id\n\n\t\t\t\tthis.readPromise = this.streamMode || this.core.mtrx.client\n\t\t\t\t\t.setRoomReadMarkers(this.chat.currentState.roomId, eid, event/*, {\n\t\t\t\t\t\thidden: !this.settings_read ? true : false,\n\t\t\t\t\t}*/).then((r) => {\n\t\t\t\t\t\tevent.readed = true\n\t\t\t\t\t\treturn r;\n\t\t\t\t\t}).catch(e => {\n\t\t\t\t\t\tconsole.error(e)\n\t\t\t\t\t\tevent.readError = e\n\t\t\t\t\t})\n\t\t\t\t\t.finally(() => {\n\t\t\t\t\t\tthis.readPromise = null\n\t\t\t\t\t});\n\t\t\t}\n\t\t}, 100),\n\t\treadAll: function () {\n\t\t\tif (\n\t\t\t\tdocument.hasFocus() &&\n\t\t\t\t(!this.pocketnet || this.active) &&\n\t\t\t\t!this.core.hiddenInParent &&\n\t\t\t\tthis.chat &&\n\t\t\t\tthis.chat.getJoinedMemberCount() > 0 &&\n\t\t\t\tthis.chat.getUnreadNotificationCount() !== 0\n\t\t\t){\n\t\t\t\tthis.debouncedReadAll()\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\t//////////////\n\n\t\tscrollE: function (size) {\n\t\t\tthis.updatedSize(size);\n\t\t\tthis.$emit(\"scroll\", size);\n\t\t},\n\n\t\tupdatedSize: function (size) {\n\t\t\tthis.esize = size;\n\t\t},\n\n\t\tupdate: function (e) {\n\t\t\tif (!this.scrolling) {\n\t\t\t\tthis.autoPaginateAll();\n\t\t\t} else {\n\t\t\t\t// e.preventDefault()\n\t\t\t}\n\t\t},\n\n\t\tscrollToNew: function (s) {\n\t\t\tthis.scrolling = true;\n\n\t\t\tthis.$refs.eventslist.scrollToNew(s);\n\n\t\t\tthis.scrolling = false;\n\t\t},\n\n\t\timageGallery: function (e) {\n\t\t\tthis.$emit(\"eventImage\", e);\n\t\t},\n\n\t\tmenuIsVisibleHandler: function (isVisible) {\n\t\t\tthis.$emit(\"menuIsVisible\", isVisible);\n\t\t},\n\n\t\tscrollToEvent: function(reference){\n\n\t\t\tf.pretry(() => {\n\t\t\t\treturn (!this.loading && this.timeline && !this[\"p_b\"])\n\t\t\t}).then(() => {\n\n\t\t\t\tthis.$store.state.globalpreloader = true;\n\t\t\t\t\n\t\t\t\treturn this.paginateToEvent(reference.event.event_id)\n\t\t\t}).then(event => {\n\n\t\t\t\tif (event){\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$refs.eventslist.scrollToEvent(event)\n\t\t\t\t\t}, 300)\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}).catch(e => {\n\t\t\t\tconsole.error(e)\n\t\t\t}).finally(() => {\n\t\t\t\tthis.$store.state.globalpreloader = false;\n\n\t\t\t})\n\t\t}\n\n\t\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=430b7992&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=430b7992&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"430b7992\",\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./name.vue?vue&type=style&index=0&id=69b19ff9&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=2066c94c&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"c1ac29e0\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=2066c94c&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./icon.vue?vue&type=style&index=0&id=23ef1b9b&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"c1b31c62\", content, shadowRoot)\n};","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"nameline\"},[(_vm.isShowGroupIcon)?_c('div',{staticClass:\"iconGroup\"},[_c('i',{staticClass:\"fas fa-user-friends\"})]):_vm._e(),_c('div',{staticClass:\"nameofchat\"},[_vm._v(_vm._s(_vm.convertedName))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"nameline\">\n\t\t<div class=\"iconGroup\" v-if=\"isShowGroupIcon\">\n\t\t\t<i class=\"fas fa-user-friends\"></i>\n\t\t</div>\n\t\t<div class=\"nameofchat\" >{{convertedName}}</div>\n\t</div>\n</template>\n\n<style scoped lang=\"sass\">\n.nameofchat\n  white-space: nowrap\n.nameline\n  display: flex\n  align-items: flex-end\n\n.iconGroup\n  font-size: 0.4em\n  width: 16px\n  min-width: 16px\n  text-align: center\n  height: 16px\n  line-height: 16px\n  border-radius: 8px\n  background: srgb(--neutral-grad-2)\n  margin-right: $r\n  margin-block: 0.5 * $r\n  i\n    color: srgb(--neutral-grad-1)\n</style>\n\n<script>\nexport default {\n\tname: \"chatName\",\n\n\tprops: {\n\t\tchat: Object,\n\t\tpreview: Boolean,\n\t\tm_chat: {},\n\t},\n\tinject: [\"matches\", \"markText\"],\n\tdata: function () {\n\t\treturn {\n\t\t\t//convertedName: ''\n\t\t};\n\t},\n\tcomputed: {\n\t\tusers: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\treturn this.core.mtrx.anotherChatUsers(this.chat.roomId);\n\t\t},\n\n\t\tconvertedName: function () {\n\t\t\tif (\n\t\t\t\tthis.m_chat &&\n\t\t\t\tthis.m_chat.getJoinRule() === \"public\" &&\n\t\t\t\tthis.m_chat.currentState.getStateEvents(\"m.room.name\").length > 0\n\t\t\t) {\n\t\t\t\treturn this.m_chat.currentState\n\t\t\t\t\t.getStateEvents(\"m.room.name\")[0]\n\t\t\t\t\t.getContent().name;\n\t\t\t}\n\t\t\tvar users = _.filter(this.users, (user) => {\n\t\t\t\treturn user.userId != this.core.user.userinfo.id;\n\t\t\t});\n\n\t\t\tvar names = _.filter(\n\t\t\t\t_.map(users, (user) => {\n\t\t\t\t\tif (this.$store.state.users[user.userId])\n\t\t\t\t\t\treturn this.$store.state.users[user.userId].name;\n\t\t\t\t}),\n\t\t\t\tfunction (name) {\n\t\t\t\t\treturn name;\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (!names.length) {\n\t\t\t\tif (this.core.mtrx.chatUsers(this.chat.roomId).length) {\n\t\t\t\t\treturn \"Empty chat: \" + this.chat.roomId;\n\t\t\t\t}\n\n\t\t\t\treturn \"-\";\n\t\t\t}\n\n\t\t\tif (this.m_chat.name.indexOf(\"@\") == 0)\n\t\t\t\treturn this.m_chat.name.replace(\"@\", \"\");\n\n\t\t\treturn names.join(\", \");\n\t\t},\n\n\t\tmarkMatches: function () {\n\n\n\n\t\t\treturn this.markText ? this.markText(this.convertedName, true) : this.convertedName;\n\t\t},\n\n\t\tisShowGroupIcon() {\n\t\t\treturn this.m_chat.name.slice(0, 1) === \"@\";\n\t\t},\n\t},\n\n\tmounted: function () {},\n};\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./name.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./name.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./name.vue?vue&type=template&id=69b19ff9&scoped=true&\"\nimport script from \"./name.vue?vue&type=script&lang=js&\"\nexport * from \"./name.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./name.vue?vue&type=style&index=0&id=69b19ff9&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"69b19ff9\",\n  null\n  ,true\n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=430b7992&prod&scoped=true&lang=sass&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[data-v-430b7992] .eventMember{text-align:left}[data-v-430b7992] .eventMember span{font-size:.9em}.pswp img[data-v-430b7992]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-430b7992]{padding-left:.5em}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}