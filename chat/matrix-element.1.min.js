(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[1],{"001d":function(t,e,a){"use strict";a.r(e);var i=a("fe98");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"0417":function(t,e,a){var i=a("4cd5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("5d90cea9",i,t)}},"0826":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"typingBlock",staticStyle:{position:"relative"}},[e("div",{staticClass:"typingBlockWrapper"},[e("div",[e("span",[t._v(t._s(t.$t("caption.typing")))])]),e("div",[e("PulseLoader",{attrs:{color:t.color,size:t.size,loading:!0}})],1)])])},o=[],r=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[e("div",{staticClass:"v-pulse v-pulse1",style:[t.spinnerStyle,t.spinnerDelay1]}),e("div",{staticClass:"v-pulse v-pulse2",style:[t.spinnerStyle,t.spinnerDelay2]}),e("div",{staticClass:"v-pulse v-pulse3",style:[t.spinnerStyle,t.spinnerDelay3]})])},s=[],n={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},c=n,l=a("2877");function d(t){var e=a("2e6b");e.__inject__&&e.__inject__(t)}var m=Object(l["a"])(c,r,s,!1,d,null,null,!0),u=m.exports,h={name:"typing",props:{},components:{PulseLoader:u},data:()=>({color:"#868686",size:"2px",loading:!0}),methods:{},computed:{}},p=h;function f(t){var e=a("8228");e.__inject__&&e.__inject__(t)}var v=Object(l["a"])(p,i,o,!1,f,null,null,!0);e["a"]=v.exports},"1d46":function(t,e,a){var i=a("fed7");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("41437a0b",i,t)}},"1ede":function(t,e,a){"use strict";a.r(e);var i=a("aec7");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"1f51":function(t,e,a){var i=a("c9065");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("25730222",i,t)}},"244d":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".chatInfoMedia .emptyBlock[data-v-e573d086]{text-align:center;padding:1.5em 0}.chatInfoMedia .emptyBlock span[data-v-e573d086]{font-size:.9em}.chatInfoMedia .roomAboutWrapper[data-v-e573d086]{display:flex;justify-content:flex-start;flex-wrap:wrap;padding:0 .8em;position:relative;height:430px}.chatInfoMedia .roomAboutWrapper #chatList[data-v-e573d086]{width:100%}.chatInfoMedia .roomAboutWrapper .roomAboutImage[data-v-e573d086]{cursor:pointer;padding:.5em .2em;position:relative}.chatInfoMedia .roomAboutWrapper .roomAboutImage img[data-v-e573d086]{display:block;width:100px;height:100px;-o-object-fit:cover;object-fit:cover;border-radius:1em}.chatInfoMedia .roomAboutWrapper .roomAboutImage .encryptedDataIcon[data-v-e573d086]{left:0;top:0;position:absolute;color:rgb(var(--text-on-bg-shadow-color));opacity:.3;padding:.25em .5em;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.chatInfoMedia .roomAboutWrapper .roomAboutImage .encryptedDataIcon i[data-v-e573d086]{font-size:.7em}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events{padding-bottom:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .scrollbottom{display:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex{transform:none;padding:1em 0;overscroll-behavior:auto}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr{display:flex;padding:0 1em;row-gap:5px;-moz-column-gap:5px;column-gap:5px;flex-direction:row;flex-wrap:wrap;transform:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper{padding:0;transform:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow{padding:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageAudio,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .voiceMessage{width:100%}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageAudio .voiceMessage_wrapper,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .voiceMessage .voiceMessage_wrapper{justify-content:space-between;flex-grow:2}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .actionsWrapper,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .fromimagesfiles,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .iconWrapper,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .timeWrapper{display:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageImg{width:100%;padding:0;margin:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageImg .imgMsg .abswrapper{border-radius:1em}",""]),t.exports=e},"266d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page chatInfo"},[t.chat?e("topheader",{staticClass:"topheader",attrs:{chat:t.chat}}):t._e(),e("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[t.chat?e("chatInfo",{attrs:{chat:t.chat}}):t._e()]},proxy:!0}])})],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"chatTopheader"}},[e("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[e("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[t.chat&&t.cog?e("router-link",{attrs:{to:"/chatSettings?id="+t.chat.roomId.replace("!","%")}},[e("span",[t._v(t._s(t.$t("caption.Info")))])]):e("span",[t._v(t._s(t.$t("caption.Info")))])]},proxy:!0},{key:"right",fn:function(){return[t.chat&&t.cog?e("router-link",{attrs:{to:"/chatSettings?id="+t.chat.roomId.replace("!","%")}},[e("i",{staticClass:"fas fa-cog"})]):t._e()]},proxy:!0}])})],1)},s=[],n={data:function(){return{cog:!1}},props:{chat:{}},mounted(){var t=this.core.mtrx.client.getRoom(this.chat.roomId);100!==t.getMember(this.core.mtrx.client.credentials.userId).powerLevel||t.tetatet||(this.cog=!0)}},c=n,l=a("2877");function d(t){}var m=Object(l["a"])(c,r,s,!1,d,"028211f1",null,!0),u=m.exports,h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"maskedtop",class:{minimized:t.minimized,active:t.active},attrs:{id:"chatInfo"}},[e("info",{attrs:{chat:t.chat}})],1)},p=[],f=a("2f62"),v=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"aboutRoom"},[e("div",{staticClass:"roomInfoWrapper noSwipe"},[e("div",{class:{chatIconWrapper:"chatIconWrapper"}},[e("chatIcon",{attrs:{slidesPerView:4,dontuseslides:t.minimized&&!t.active,chat:t.chat,m_chat:t.m_chat,hideunseen:!0}})],1),e("chatName",{staticClass:"roomNameLine",attrs:{preview:!0,chat:t.chat,m_chat:t.m_chat}}),t.topicTxt?e("div",{staticClass:"roomInfo"},[e("span",{staticClass:"topicTxt"},[t._v(t._s(t.topicTxt))])]):t._e()],1),e("div",{staticClass:"roomAccordionsList"},[t._l(t.accordionList,(function(a,i){return e("div",{key:i,staticClass:"accordion",class:{active:t.isActive===i}},[e("div",{staticClass:"aHeader",on:{click:function(e){return t.toggleItem(i)}}},[e("div",{staticClass:"head"},[e("div",{staticClass:"leftBlock"},["members"===a.id?e("i",{staticClass:"fas fa-users"}):t._e(),"media"===a.id?e("i",{staticClass:"far fa-image"}):t._e(),"files"===a.id?e("i",{staticClass:"fas fa-folder"}):t._e(),t._v(" "+t._s(a.title)+" ")]),"members"===a.id?e("div",{staticClass:"rightBlock"},[t.membersList?e("div",{staticClass:"membersCount"},[e("span",[t._v(t._s(t.membersList.length))])]):t._e()]):t._e()])]),e("div",{staticClass:"body"},[t.isActive===i&&"members"===a.id?e("members",{attrs:{membersList:t.membersList},on:{admin:t.makeAdmin,kick:t.kickUser,ban:t.banUser}}):t._e(),t.isActive===i&&"media"===a.id?e("images",{attrs:{chat:t.m_chat}}):t._e(),t.isActive===i&&"files"===a.id?e("files",{attrs:{chat:t.m_chat,fileEvents:t.fileEvents}}):t._e()],1)])})),t.public?e("div",{staticClass:"publicRoomElements"},[e("div",{staticClass:"linkwrapper"},[e("div",{staticClass:"linkPlace"},[e("i",{staticClass:"fas fa-link",on:{click:function(e){return t.copyShareLink()}}}),e("span",{on:{click:function(e){return t.copyShareLink()}}},[t._v(t._s(t.shareRoomLink))])]),e("div",{staticClass:"sharelink"},[e("button",{staticClass:"button small rounded ghost",on:{click:t.sharelink}},[t._v(" Share "),e("i",{staticClass:"fas fa-share-alt"})])])])]):t._e()],2),e("div",{staticClass:"roomActionsList"},[t.canInvite?e("button",{staticClass:"button small rounded",on:{click:t.modalInviteUser}},[t._v(" "+t._s(t.$t("caption.add"))+" "),e("i",{staticClass:"fas fa-user-plus"})]):t._e(),e("button",{staticClass:"button small black rounded",on:{click:t.muteRoom}},[t.roomMuted?t._e():e("span",[t._v(" "+t._s(t.$t("caption.mute"))+" "),e("i",{staticClass:"fas fa-bell-slash"})]),t.roomMuted?e("span",[t._v(" "+t._s(t.$t("caption.unmute"))+" "),e("i",{staticClass:"fas fa-bell"})]):t._e()]),t.tetatet?e("button",{staticClass:"button small black rounded",on:{click:t.muteCalls}},[t.roomCallsDisabled?t._e():e("span",[t._v(" "+t._s(t.$t("caption.disableCalls"))+" "),e("i",{staticClass:"fas fa-video-slash"})]),t.roomCallsDisabled?e("span",[t._v(" "+t._s(t.$t("caption.enableCalls"))+" "),e("i",{staticClass:"fas fa-video"})]):t._e()]):t._e(),t.tetatet?t._e():e("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.forgetRoom()}}},[t._v(" "+t._s(t.$t("caption.leave"))+" "),e("i",{staticClass:"fas fa-sign-out-alt"})]),t.tetatet&&!t.blockedCheck?e("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.blockUser()}}},[t._v(" "+t._s(t.$t("button.block"))+" "),e("i",{staticClass:"fas fa-sign-out-alt"})]):t._e(),t.tetatet&&t.blockedCheck?e("button",{staticClass:"button small rounded",on:{click:function(e){return t.unblock()}}},[t._v(" "+t._s(t.$t("button.unblock"))+" "),e("i",{staticClass:"fas fa-sign-out-alt"})]):t._e(),t.curation?e("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.complain()}}},[t._v(" "+t._s(t.$t("button.Complain"))+" "),e("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e()]),e("transition",{attrs:{name:"fademodal"}},[t.inviteUserOpened?e("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",[t._v(t._s(t.$t("caption.inviteUser")))])]},proxy:!0},{key:"body",fn:function(){return[e("invite",{attrs:{chatRoomId:t.chat.roomId},on:{completed:t.closeContactModal}})]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,2878587737)}):t._e()],1)],1)},b=[],g=(a("14d9"),a("1da1")),x=a("aa20"),w=a("3094"),y=a("0826"),I=a("71da"),k=a("3139"),C={name:"chatTopheader",props:{chat:Object,u:String,roomInfo:!1,aboutUser:!1,search:String,process:String,searchresults:null,focusedevent:null},inject:["matches"],components:{chatName:x["a"],chatIcon:w["a"],chatTyping:y["a"],contacts:I["a"]},data:function(){return{menuItems:[{click:"callupVideoHandler",title:this.$i18n.t("caption.videocall"),icon:"fas fa-camera"},{click:"callupHandler",title:this.$i18n.t("caption.call"),icon:"fas fa-phone"}],menuItemsRoom:[{click:"AddMember",title:this.$i18n.t("caption.add"),icon:"fas fa-user-plus"},{click:"MuteRoom",title:this.$i18n.t("caption.mute"),icon:"fas fa-bell-slash"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"}],menuItemsRoomMuted:[{click:"AddMember",title:this.$i18n.t("caption.add"),icon:"fas fa-user-plus"},{click:"MuteRoom",title:this.$i18n.t("caption.unmute"),icon:"fas fa-bell"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"}],oneToOne:[{click:"MuteRoom",title:this.$i18n.t("caption.mute"),icon:"fas fa-bell-slash"},{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],oneToOneMuted:[{click:"MuteRoom",title:this.$i18n.t("caption.unmute"),icon:"fas fa-bell"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"},{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],donateMenu:[{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],wait:!1,loading:!1,typing:!1,userinfo:null,aboutUserShow:!1,roomBanned:!1,roomMuted:!1,searchactive:!1,donateUserOpened:!1,receiver:null,donationAmount:0,donationMessage:"",calculatedFees:null,showFeesError:"",showTransactionError:"",calculatingFees:!1,sending:!1,feesDirection:"include",feesDirectionPossibleValues:[{value:"include",label:this.$i18n.t("caption.toBePaidByReceiver")},{value:"exclude",label:this.$i18n.t("caption.toBePaidBySender")}],hoverEncrypt:!1}},watch:{},mounted:function(){this.getuserinfo(),this.search&&(this.searchactive=!0)},computed:Object(f["c"])({focusedeventIndex:function(){if(!this.searchresults||!this.focusedevent)return null;var t=-1;return _.find(this.searchresults,(e,a)=>{if(e.event.event_id==this.focusedevent.event.event_id)return t=a,!0}),t},callsEnabled:t=>t.isCallsEnabled,checkCallsEnabled:function(){var t,e;return null!==(t=this.$store.state.ChatStatuses[this.m_chat.roomId])&&void 0!==t&&t.enabled?(this.wait=!1,!0):null!==(e=this.$store.state.ChatStatuses[this.m_chat.roomId])&&void 0!==e&&e.isWaiting?"wait":(this.wait=!1,!1)},isGroup:function(){var t;return"@"===(null===(t=this.m_chat)||void 0===t?void 0:t.name.slice(0,1))},auth:t=>t.auth,isCallsActive:t=>t.isCallsActive,m_chat:function(){if(this.chat&&this.chat.roomId){let e=this.core.mtrx.client.pushProcessor.getPushRuleById(this.chat.roomId);null!==e&&(this.roomMuted=!0);var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}},m_chat_typing:function(){if(!this.chat)return!1;var t=this.chat.roomId,e=this.$store.state.typing[t]||{},a=_.find(e,(t,e)=>{var a;if(t)return e!=(null===(a=this.core.user.userinfo)||void 0===a?void 0:a.id)});return a||!1},totalDonationAmount:function(){return"include"==this.feesDirection?this.donationAmount:this.donationAmount+this.calculatedFees}}),methods:{searchControlKey:function(t){"up"==t&&this.tobottomsearch(),"down"==t&&this.toupsearch()},toupsearch:function(){if(this.searchresults){var t=this.focusedeventIndex;t<=this.searchresults.length-2?this.$emit("tosearchevent",this.searchresults[this.focusedeventIndex+1]):this.$emit("tosearchevent",this.searchresults[0])}},tobottomsearch:function(){if(this.searchresults||!this.searchresults.length){var t=this.focusedeventIndex;t>0?this.$emit("tosearchevent",this.searchresults[this.focusedeventIndex-1]):this.$emit("tosearchevent",this.searchresults[this.searchresults.length-1])}},backfromsearch:function(){this.process?this.$router.push("chats?process="+this.process).catch(t=>{}):(this.searchactive=!1,this.searching(""))},tosearch:function(){this.searchactive=!0,setTimeout(()=>{this.$refs.search&&this.$refs.search.focus()},100)},searching:function(t){this.$emit("searching",t),t||(this.searchactive=!1)},bcCall:function(){if(!this.checkCallsEnabled)return void this.$dialog.confirm(this.$t("caption.request"),{okText:this.$t("yes"),cancelText:this.$t("cancel")}).then(()=>{this.core.mtrx.client.sendStateEvent(this.chat.roomId,"m.room.callsEnabled",{enabled:!0},this.core.user.userinfo.id),this.wait=!0,this.requestCallsAccess()});if("wait"===this.checkCallsEnabled)return;let t=document.querySelector("body");this.core.mtrx.bastyonCalls.initCall(this.chat.roomId,t).then(t=>{console.log("matrixCall",t)}).catch(t=>{console.log("error",t)})},requestCallsAccess(){this.core.mtrx.client.sendStateEvent(this.m_chat.roomId,"m.room.request_calls_access",{accepted:null})},navigateToProfile(t){this.$router.push({path:"/contact?id="+k["a"].getmatrixid(t)}).catch(t=>{})},getuserinfo:function(){this.u&&this.core.user.usersInfo(this.u).then(t=>{this.userinfo=t[0]})},findOtherUser:function(){let t,e=this.m_chat.myUserId,a=this.m_chat.currentState.getMembers();return a.forEach((function(a){a&&a.userId!==e&&(t=a)})),t},addMember(){this.modalInviteUser()},menuItemClickHandler(t,e){if("AddMember"===t.click&&(this.$emit("addMember",!0),this.$refs.dropdownMenu.hidePopup()),"MuteRoom"===t.click){var a=this.chat.roomId;this.core.mtrx.client.deviceId;let t=this,e=this.core.mtrx.client.pushProcessor.getPushRuleById(this.chat.roomId);null!==e?(t.core.mtrx.client.deletePushRule("global","room",a),this.roomMuted=!1):(t.core.mtrx.client.setRoomMutePushRule("global",a,"true"),this.roomMuted=!0),this.$refs.dropdownMenu.hidePopup()}if("LeaveFromRoom"===t.click){this.core.mtrx.client.leave(this.chat.roomId).then(t=>{this.core.mtrx.client.forget(this.chat.roomId,!0).then(t=>{this.$store.commit("DELETE_ROOM",this.chat.roomId)}).then(t=>{this.$router.push({path:"/chats"}).catch(t=>{})})}),this.$refs.dropdownMenu.hidePopup()}if("BanRoom"===t.click){let t="",e=this.findOtherUser();e&&e.userId&&(t=e.userId);let a=this.chat.roomId;this.core.mtrx.client.ban(a,t,"ban").then(t=>{}),this.roomBanned=!0,this.$refs.dropdownMenu.hidePopup()}if("Unban"===t.click){let t="",e=this.findOtherUser();e&&e.userId&&(t=e.userId),this.core.mtrx.client.unban(this.chat.roomId,t).then(e=>{this.core.mtrx.client.invite(this.chat.roomId,t)}),this.roomBanned=!1,this.$refs.dropdownMenu.hidePopup()}if("Donate"===t.click){this.donateUserOpened=!0,this.$refs.dropdownMenu.hidePopup();let t=this.findOtherUser();this.receiver=t?this.$f.deep(this,"$store.state.users."+this.$f.getmatrixid(t.name)):null}},closeDonateModal(){this.donateUserOpened=!1},onCalculateFeesClick(){this.calculatingFees=!0,this.calculateFees().finally(()=>this.calculatingFees=!1)},calculateFees(){var t=this;return this.showFeesError="",new Promise((e,a)=>{if(this.donationAmount<=0||!this.receiver||!this.receiver.source||!this.receiver.source.address)return this.showFeesError="invalid",a("Missing amount or receiver");try{var i=window.POCKETNETINSTANCE.platform.sdk;i.node.fee.estimate((function(o){var r=[{address:t.receiver.source.address,amount:t.donationAmount}];i.wallet.txbase([i.address.pnet().address],r,0,t.feesDirection,(function(r,s,n){if(r)return console.error(r),t.showFeesError=r,a(r);var c=i.node.transactions.create.wallet(s,n),l=Math.min(c.virtualSize()*o.feerate,.0999);return t.calculatedFees=l,e()}))}))}catch(o){return console.error(o),t.showFeesError=o,a(o)}})},sendDonation(){var t=this;return Object(g["a"])((function*(){var e=t;t.sending=!0,t.showTransactionError="";try{yield t.calculateFees()}catch(i){return t.showTransactionError="error",void(t.sending=!1)}var a=window.POCKETNETINSTANCE.platform.sdk;a.node.transactions.get.canSpend(a.address.pnet().address,t=>{if(!t||isNaN(t)||t<e.totalDonationAmount)return e.showTransactionError="balance too low",void(e.sending=!1);try{var o=[{address:e.receiver.source.address,amount:e.donationAmount}];a.wallet.embed(o,e.donationMessage),a.wallet.txbase([a.address.pnet().address],o,e.calculatedFees,e.feesDirection,(function(t,i,o){if(t)return console.error(t),e.showTransactionError="error",e.sending=!1,reject(t);var r=a.node.transactions.create.wallet(i,o);i.forEach(t=>{t.cantspend=!0}),a.node.transactions.send(r,(function(t,r){if(r)return a.node.transactions.releaseCS(i),e.showTransactionError="error",void(e.sending=!1);var s=i.map(t=>t.txid);a.node.transactions.clearUnspents(s),a.wallet.saveTempInfoWallet(t,i,o),e.core.mtrx.client.sendEvent(e.chat.roomId,"m.room.message",{from:e.$f.getmatrixid(e.m_chat.myUserId),to:e.receiver.id,amount:e.donationAmount,txId:t,msgtype:"m.notice"},""),e.closeDonateModal()}))}))}catch(i){console.error(i),e.showTransactionError="error",e.sending=!1}})}))()},resetDonation(){this.calculatedFees=null,this.showFeesError="",this.showTransactionError=""}}},M=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{class:{minimized:t.minimized,active:t.active},attrs:{id:"chatinvite"}},[e("div",{staticClass:"selectedtype"},[e("div",{staticClass:"completewrapper"},[e("button",{staticClass:"button small rounded",class:{orange:t.cancomplete,ghost:!t.cancomplete},on:{click:function(e){return t.complete()}}},[t._v(" Invite ")])])]),e("div",{staticClass:"creationbody"},[e("div",{staticClass:"contactswrapper"},[e("contacts",{attrs:{mode:"Selectmany"},on:{selectedUsers:t.selectedUsers}})],1)])])},R=[],A={name:"chatinvite",props:{chatRoomId:String},components:{contacts:I["a"]},data:function(){return{loading:!1,selected:{}}},created:()=>{},watch:{},computed:Object(f["c"])({auth:t=>t.auth,cancomplete:function(){return this.selectedLength},selectedLength:function(){return _.toArray(this.selected).length},active:t=>t.active,minimized:t=>t.minimized}),methods:{selectedUsers:function(t){this.selected=t},complete(){this.inviteUserAction(this.selected).then(()=>{this.$emit("completed"),this.$store.commit("icon",{icon:"success",message:""})}).catch(t=>{console.error(t);var e="An unexpected error occurred";"cancomplete"==t&&(e="Please select at least one contact"),this.$store.commit("icon",{icon:"error",message:e})})},inviteUserAction(t){if(!this.chatRoomId)return Promise.reject("chatRoomId");if(!this.cancomplete)return Promise.reject("cancomplete");var e=this.chatRoomId;return Promise.all(_.map(t,t=>{var a="@"+t+":"+this.core.domain;return this.core.mtrx.client.invite(e,a)})).then(t=>Promise.resolve())}}},$=A;function L(t){var e=a("1ede");e.__inject__&&e.__inject__(t)}var E=Object(l["a"])($,M,R,!1,L,"846c09ac",null,!0),W=E.exports,S=a("ecec"),j={name:"userspic",props:{users:Array,single:{},unseen:Number,slidesPerView:Number,status:{type:Object,default:{}}},data:function(){return{}},components:{many:S["a"]}},P=function(){var t=this,e=t._self._c;t._self._setupProxy;return t.membersList?e("div",{staticClass:"membersList"},t._l(t.membersList,(function(a,i){return e("div",{key:a.userId,staticClass:"roomMember",class:a.membership},[e("div",{staticClass:"leftWrapper",on:{click:function(e){t.core.mtrx.opencontact(t.userinfo(a))}}},[e("div",{staticClass:"avatarNameWrapper"},[e("userpic",{attrs:{userinfo:t.userinfo(a),status:a.membership}})],1),e("div",{staticClass:"nameRole"},[e("span",{staticClass:"name"},[t._v(t._s(t.userinfo(a).name||""))]),a.powerLevel?e("span",{staticClass:"memberRole"},[t._v(t._s(t.$t("caption."+t.role(a))))]):t._e(),a.userId==t.meid?e("span",{staticClass:"memberRole"},[t._v("You")]):t._e()])]),t.menu(a).length?e("div",[e("div",{staticClass:"rightWrapper"},[e("i",{staticClass:"fas fa-ellipsis-h setmenu",on:{click:e=>t.setmenu(a)}})])]):t._e()])})),0):e("div",{staticClass:"empty"},[e("span",[t._v("List Empty")])])},O=[],z={components:{chatIcon:w["a"]},data:function(){return{moderItems:[{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],menuItems:[{click:"adminMakeModer",title:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}]}},props:{membersList:Array},computed:{meid:function(){return this.core.user.userinfo.id},me:function(){return _.find(this.membersList,t=>t.userId==this.core.user.userinfo.id)||{}}},methods:{userinfo:function(t){return k["a"].deep(this,"core.store.state.users."+t.userId)||{}},role:function(t){var e="member";return t.powerLevel>=50&&(e="moderator"),t.powerLevel>=100&&(e="admin"),e},menu:function(t){var e={setAdmin:{action:()=>this.setAdmin(t),text:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},kick:{action:()=>this.kick(t),text:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"},ban:{action:()=>this.ban(t),text:"ban"===t.membership?this.$i18n.t("caption.removeBan"):this.$i18n.t("caption.ban"),icon:"fas fa-user-times"}},a=[];return 0===t.powerLevel&&this.me.powerLevel>=50&&this.core.user.userinfo.id!==t.id&&(a=[e.ban]),0===t.powerLevel&&100===this.me.powerLevel&&this.core.user.userinfo.id!==t.id&&(a=[e.setAdmin,e.ban]),50===t.powerLevel&&this.core.user.userinfo.id!==t.id&&100===this.me.powerLevel&&(e.setAdmin.text=this.$i18n.t("caption.cancelModeration"),a=[e.setAdmin,e.ban]),a},dropDownMenuShow:function(t){setTimeout(()=>{this.setmenu(t)},200)},setmenu:function(t){this.core.menu({items:this.menu(t),item:{}})},navigateToProfile(t){this.$router.push({path:"/contact?id="+k["a"].getmatrixid(t)}).catch(t=>{})},menuItemClickHandler(t,e,a){return this[t.click]?(this["menu"+t.click](e).then(t=>{a.hidePopup()}).catch(t=>{a.showPopup()}),this[t.click](e.user)):Promise.resolve()},setAdmin(t){return this.$emit("admin",t),Promise.resolve()},kick(t){return this.$emit("kick",t),Promise.resolve()},ban(t){return this.$emit("ban",t),Promise.resolve()}}},T=z;function D(t){var e=a("e715");e.__inject__&&e.__inject__(t)}var F=Object(l["a"])(T,P,O,!1,D,"5aaa38b4",null,!0),U=F.exports,N=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"chatInfoMedia"},[t.empty?e("div",{staticClass:"emptyBlock"},[e("span",[t._v(t._s(t.$t("caption.noImages")))])]):e("imageEvents",{ref:"list",staticClass:"roomAboutWrapper",attrs:{chat:t.chat,filterType:"images"},on:{eventImage:e=>t.galleryImage(e),getEvents:t.eventsList}})],1)},B=[],H=a("4e29"),K={data:function(){return{events:[],empty:!1}},components:{imageEvents:H["a"]},props:{images:Array,chat:Object},computed:{},mounted:function(){this.core.mtrx.kit.prepareChat(this.chat).then(t=>{_.each(this.imageEvents,t=>{this.encrypted(t)&&this.core.mtrx.getImage(this.chat,t).catch(t=>{console.error(t)})})})},methods:{galleryImage(t){this.core.store.dispatch("SHOW_GALLERY_FROMEVENTS",{events:this.events,event:t})},eventsList(t){0===t.length&&(this.empty=!0),this.events=t},showPhotoSwipe(t){this.core.store.dispatch("SHOW_GALLERY_FROMEVENTS",{events:this.imageEvents,event:t})},encrypted:function(t){return!!k["a"].deep(t,"event.content.info.secrets")}}},q=K;function V(t){var e=a("001d");e.__inject__&&e.__inject__(t)}var G=Object(l["a"])(q,N,B,!1,V,"e573d086",null,!0),Y=G.exports,J=function(){var t=this,e=t._self._c;return e("div",[0!==t.fileEvents.length?e("div",{staticClass:"aboutRoomFileWrapper"},t._l(t.fileEvents,(function(a){return e("div",{key:a.event_id,staticClass:"aboutRoomFile"},[e("div",{staticClass:"filePreview"},[e("fileMessage",{attrs:{encryptedData:t.encryptedData(a),file:t.file(a)},on:{download:e=>t.download(a)}}),t.encryptedData?e("div",{staticClass:"encryptedDataIcon"},[e("i",{staticClass:"fas fa-lock"})]):t._e()],1)])})),0):e("div",{staticClass:"emptyBlock"},[e("span",[t._v(t._s(t.$t("caption.noFiles")))])])])},X=[],Q=a("696c"),Z={props:{fileEvents:Array,chat:Object},components:{fileMessage:Q["a"]},computed:{},methods:{encryptedData:function(t){return!(!k["a"].deep(t,"event.content.info.secrets")&&!k["a"].deep(t,"event.content.pbody.secrets"))},jsonConvertor(t){return JSON.parse(t)},humanReadableSize(t){return k["a"].formatBytes(t)},content:function(t){return t.event.content},file:function(t){if("m.file"===this.content(t).msgtype)return this.body(t)},body:function(t){var e=t.event.content;return"m.encrypted"==t.event.content.msgtype&&(e=this.decryptEvent),e.pbody||e.body||""},download(t){this.downloading=!0,this.core.mtrx.downloadFile(this.chat,t).then(t=>{this.$store.commit("icon",{icon:"success",message:"Downloaded"})}).catch(t=>(this.error=t.toString(),this.$store.commit("icon",{icon:"error",message:"Downloading Failed"}),Promise.resolve(t))).finally(()=>{this.downloading=!1})}}},tt=Z;function et(t){var e=a("8720");e.__inject__&&e.__inject__(t)}var at=Object(l["a"])(tt,J,X,!1,et,"6772f6ee",null,!0),it=at.exports,ot=function(){var t=this,e=t._self._c;return t.membersList.length>1?e("div",{staticClass:"aboutRoomAvatar"},[2===t.membersList.length?e("div",{staticClass:"userspicwrapper twoAvatars"},[t._l(t.membersList,(function(a){return"invite"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage invited",attrs:{src:a.image}}):t._e()})),t._l(t.membersList,(function(a){return"join"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage",attrs:{src:a.image}}):t._e()}))],2):t._e(),3===t.membersList.length?e("div",{staticClass:"userspicwrapper threeAvatars"},[t._l(t.membersList,(function(a){return"invite"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage invited",attrs:{src:a.image}}):t._e()})),t._l(t.membersList,(function(a){return"join"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage",attrs:{src:a.image}}):t._e()}))],2):t._e(),4===t.membersList.length?e("div",{staticClass:"userspicwrapper fourAvatars"},[t._l(t.membersList,(function(a){return"invite"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage invited",attrs:{src:a.image}}):t._e()})),t._l(t.membersList,(function(a){return"join"===a.roomStatus?e("bgimage",{key:a.id,staticClass:"bgImage",attrs:{src:a.image}}):t._e()}))],2):t._e(),t.membersList.length>4?e("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.membersList,(function(a){return e("swiper-slide",{key:a.id},["join"===a.roomStatus?e("div",{staticClass:"imageSwiper"},[e("img",{attrs:{src:a.image,alt:""}})]):t._e(),"invite"===a.roomStatus?e("div",{staticClass:"imageSwiper invited"},[e("img",{attrs:{src:a.image,alt:""}})]):t._e()])})),e("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1):t._e()},rt=[],st=a("7212"),nt={props:{membersList:Array},data:function(){return{swiperOption:{watchSlidesProgress:!0,watchSlidesVisibility:!0,slidesPerView:5,direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0}}}},components:{Swiper:st["Swiper"],SwiperSlide:st["SwiperSlide"]}},ct=nt;function lt(t){var e=a("a45b");e.__inject__&&e.__inject__(t)}var dt=Object(l["a"])(ct,ot,rt,!1,lt,"5c24f3fe",null,!0),mt=dt.exports,ut={data:function(){return{usr:{},ind:0,topicTxt:"",roomMuted:!1,roomCallsDisabled:!1,publicRoom:{},public:!1,encryptedEvents:[],imageEvents:[],pics:!1,fileEvents:[],inputActive:!1,menuItems:[{click:"adminMakeModer",title:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],menuItemsModer:[{click:"moderBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban"},{click:"moderKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],admin:String,imagesList:[],localRoomName:"",humanSize:Number,inviteUserOpened:!1,msList:[],isOpen:!1,actionMemberShow:!1,options:{index:0,arrowEl:!1,fullscreenEl:!1,shareEl:!1},roomName:"",nameEdit:!1,accordionList:[{title:this.$i18n.t("caption.members"),id:"members"},{title:this.$i18n.t("caption.media"),id:"media"},{title:this.$i18n.t("caption.files"),id:"files"}],isActive:null,isActiveAction:null,currentUser:"",actionUser:{},actionUserMenu:!1,chatMembers:[]}},props:{chat:{}},components:{images:Y,members:U,files:it,topheader:C,avatarsList:mt,invite:W,userspic:j,contacts:I["a"],chatName:x["a"],chatIcon:w["a"]},watch:{m_chat:{immediate:!0,handler:function(){this.m_chat&&!_.isEmpty(this.m_chat)&&this.core.mtrx.kit.prepareChat(this.m_chat).then(t=>{this.ready=!0,this.encrypted=this.m_chat.pcrypto.canBeEncrypt()})}},chat:{immediate:!0,handler:function(){if(this.chat?this.$store.commit("SET_CURRENT_ROOM",this.chat.roomId):this.$store.commit("SET_CURRENT_ROOM",!1),this.chat&&this.chat.roomId){let t=this.core.mtrx.client.pushProcessor.getPushRuleById(this.chat.roomId);null!==t&&(this.roomMuted=!0)}}}},computed:{...Object(f["c"])(["minimized","active"]),curation:function(){if(window.POCKETNETINSTANCE&&window.POCKETNETINSTANCE.curation())return!0},canchangeChatName:function(){return!this.tetatet&&this.me.powerLevel>0},canInvite:function(){return!this.tetatet&&this.me.powerLevel>0},shareRoomLink:function(){return"https://bastyon.com/welcome?publicroom="+this.chat.roomId},me:function(){return _.find(this.membersList,t=>t.userId==this.core.user.userinfo.id)||{}},events:function(){var t=this.core.mtrx.client.pushProcessor.getPushRuleById(this.chat.roomId);let e=this.m_chat.currentState.getStateEvents("m.room.callsEnabled").find(t=>{var e,a,i;return!!this.core.mtrx.me(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.sender)&&(null===t||void 0===t||null===(a=t.event)||void 0===a?void 0:a.sender.split(":")[0].replace("@",""))===(null===t||void 0===t||null===(i=t.event)||void 0===i?void 0:i.state_key)});return null!==t&&(this.roomMuted=!0),e&&(this.roomCallsDisabled=!e.event.content.enabled),this.m_chat.timeline||{}},customRoomType:function(){var t=this.core.mtrx.customRoomType(this.chat.roomId);return t},blockedCheck:function(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);if(1==t.length)return this.core.mtrx.blockeduser(t[0].userId)},membersCount:function(){return this.users.length},users:function(){var t;return this.core.mtrx.chatUsersInfo(null===(t=this.chat)||void 0===t?void 0:t.roomId)||[]},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}},galleryImages:function(){var t=[];return this.imageEvents.forEach((function(e){"m.image"===e.event.content.msgtype&&t.push({src:e.event.content.url,w:e.event.content.info.w,h:e.event.content.info.h})})),t},membersList:function(){return this.core.mtrx.chatUsers(this.chat.roomId).filter(t=>"leave"!==t.membership)},tetatet:function(){return this.core.mtrx.kit.tetatetchat(this.m_chat)},changeRoomName:function(){var t=this.m_chat.name;return t.replace("_"," ")},groupAvatar:function(){if(this.m_chat.currentState.getStateEvents("m.room.avatar")[0])return this.m_chat.currentState.getStateEvents("m.room.avatar")[0].event.content.avatarUrl}},mounted(){this.events;this.eventsList(),"public"===this.m_chat.getJoinRule()&&(this.public=!0,this.getPublicRoom())},methods:{complain:function(){if(this.curation){var t={address1:this.core.user.userinfo.source.address};if(this.tetatet){var e=_.find(this.core.mtrx.chatUsersInfo(this.chat.roomId)||[],t=>t.id!=this.core.user.userinfo.id);e&&(t.address2=e.source.address)}else t.roomid=this.chat.roomId;this.core.mtrx.complain(this.$t("button.Complain"),t)}},getPublicRoom(){this.core.mtrx.client.publicRooms().then(t=>{if(this.publicRoom=t.chunk.filter(t=>t.room_id===this.chat.roomId)[0],this.publicRoom.topic)return this.topicTxt=this.publicRoom.topic.replace(/_/g," ")})},banForgetRoom(){var t="",e=this.m_chat.myUserId,a=this.m_chat.currentState.getMembers();a.forEach((function(a){a!==e&&(t=a.userId)})),this.core.mtrx.client.ban(this.chat.roomId,t,"leave").then(t=>t)},muteCalls(){let t=this.chat.roomId;const e=this;e.roomCallsDisabled=!e.roomCallsDisabled,e.roomCallsDisabled||e.core.mtrx.client.sendStateEvent(t,"m.room.request_calls_access",{accepted:!0}),e.core.mtrx.client.sendStateEvent(t,"m.room.callsEnabled",{enabled:!e.roomCallsDisabled},this.core.user.userinfo.id)},muteRoom(){var t=this.chat.roomId,e=(this.core.mtrx.client.deviceId,this);this.roomMuted?(e.core.mtrx.client.deletePushRule("global","room",t),e.roomMuted=!1):(e.core.mtrx.client.setRoomMutePushRule("global",t,"true"),e.roomMuted=!0)},blockUser(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);t.length>1||this.core.mtrx.blockUser(t[0].userId).catch(t=>{})},unblock(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);t.length>1||this.core.mtrx.unblockUser(t[0].userId).catch(t=>{})},eventsList(){"function"==typeof this.events.filter&&(this.imageEvents=this.events.filter(t=>"m.image"===t.event.content.msgtype||"m.room.encrypted"===t.event.type&&"m.image"===t.getClearContent().msgtype),this.fileEvents=this.events.filter(t=>"m.file"===t.event.content.msgtype))},toggleItem(t){this.isActive=this.isActive===t?null:t,this.actionMemberShow=null},forgetRoom(){this.$dialog.confirm("Do you really want to leave room?",{okText:this.$i18n.t("yes"),cancelText:this.$i18n.t("cancel")}).then(t=>{this.core.mtrx.client.leave(this.chat.roomId).then(t=>{this.core.mtrx.client.forget(this.chat.roomId,!0).then(t=>t).then(t=>{this.$store.commit("DELETE_ROOM",this.chat.roomId),this.$router.push({path:"/chats"}).catch(t=>{})})})})},changeName(){this.localRoomName=this.m_chat.name.replace(/@/g,""),this.localRoomName.replace("_"," ")},saveRoomName(){this.nameEdit=!1,this.inputActive=!1,this.core.mtrx.client.setRoomName(this.m_chat.roomId,"@"+this.roomName.replace(/[@]*/g,""))},banUser(t){var e=null;this.$store.state.globalpreloader=!0,e="ban"===t.membership?this.core.mtrx.client.unban(this.m_chat.roomId,k["a"].getMatrixIdFull(t.userId,this.core.domain)).then(e=>{this.core.mtrx.client.invite(this.m_chat.roomId,k["a"].getMatrixIdFull(t.userId,this.core.domain)).then(t=>{})}):this.core.mtrx.client.ban(this.m_chat.roomId,k["a"].getMatrixIdFull(t.userId,this.core.domain),"admin ban").then(t=>{}),e.finally(()=>{this.$store.state.globalpreloader=!1})},kickUser(t){this.$store.state.globalpreloader=!0,this.core.mtrx.client.kick(this.m_chat.roomId,k["a"].getMatrixIdFull(t.userId,this.core.domain),"admin kicked").then(this.$nextTick((function(){}))).finally(()=>{this.$store.state.globalpreloader=!1})},makeAdmin(t){var e=50;50===t.powerLevel&&(e=0);var a=this.m_chat.currentState.getStateEvents("m.room.power_levels");this.$store.state.globalpreloader=!0,this.core.mtrx.client.setPowerLevel(this.m_chat.roomId,k["a"].getMatrixIdFull(t.userId,this.core.domain),e,a[0]).finally(t=>{this.$store.state.globalpreloader=!1})},showEditRoomName(){this.nameEdit=!0,this.roomName=this.m_chat.name,this.inputActive=!0},editRoomName(){},showPhotoSwipe(t){this.isOpen=!0,this.$set(this.options,"index",t)},accordion:function(t){t.target.classList.toggle("active")},hidePhotoSwipe(){this.isOpen=!1},focus(){return $event.target.select()},showUserAbout(t){this.$emit("showAbout",t)},getClick(t){this.$emit("showRoomInfo",t)},modalInviteUser(){this.inviteUserOpened=!0},closeModal(){this.inviteUserOpened=!1},closeContactModal(t){this.inviteUserOpened=t},addTopic(){this.core.mtrx.client.setRoomTopic(this.chat.roomId,this.topicTxt.replace(/ /g,"_")).then(t=>{this.getPublicRoom()})},copyShareLink(){this.$f.copytext(this.shareRoomLink),this.core.sitemessage("The link was copied successfully")},sharelink(){this.core.share({urls:[this.shareRoomLink],route:"chatInfo?id="+this.chat.roomId})}}},ht=ut;function pt(t){var e=a("b046");e.__inject__&&e.__inject__(t)}var ft=Object(l["a"])(ht,v,b,!1,pt,"23f8fb88",null,!0),vt=ft.exports,bt={name:"chatInfo",components:{info:vt},props:{chat:{},events:{}},data:function(){return{}},created(){},mounted(){this.$store.commit("blockactive",{value:!0,item:"chatinfo"})},destroyed(){this.$store.commit("blockactive",{value:!1,item:"chatinfo"})},watch:{},computed:Object(f["c"])({pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,active:t=>t.active,auth:t=>t.auth,m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}}})},gt=bt;function _t(t){var e=a("d13d");e.__inject__&&e.__inject__(t)}var xt=Object(l["a"])(gt,h,p,!1,_t,"ba78a86e",null,!0),wt=xt.exports,yt=a("d3ff"),It={name:"chatinfo",data:function(){return{}},components:{topheader:u,contact:yt["default"],chatInfo:wt},computed:Object(f["c"])({pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,u(){return this.$route.query.u},chat(){var t=this.$route.query.id;return this.$store.state.chatsMap[t]}}),methods:{}},kt=It;function Ct(t){var e=a("d82e");e.__inject__&&e.__inject__(t)}var Mt=Object(l["a"])(kt,i,o,!1,Ct,"eae8d188",null,!0);e["default"]=Mt.exports},"2e6b":function(t,e,a){"use strict";a.r(e);var i=a("467a");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"467a":function(t,e,a){var i=a("5f4b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("9a086d26",i,t)}},4746:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.membersList[data-v-5aaa38b4]{list-style:none;margin:0;padding:0}.membersList .setmenu[data-v-5aaa38b4]{padding:0 .5em}.membersList .roomMember[data-v-5aaa38b4]{padding:1em;padding-right:0;display:flex;align-items:center;cursor:pointer;justify-content:space-between;border-bottom:1px solid rgb(var(--background-main))}.membersList .roomMember[data-v-5aaa38b4]:last-child{border-bottom:0}.membersList .roomMember:hover .leftWrapper .nameRole .name[data-v-5aaa38b4]{color:rgb(var(--neutral-grad-3))}.membersList .roomMember .leftWrapper[data-v-5aaa38b4]{display:flex;justify-content:flex-start;align-items:center;width:90%}.membersList .roomMember .leftWrapper .avatarNameWrapper[data-v-5aaa38b4]{display:flex;justify-content:flex-start;align-items:center;width:44px;height:44px;font-size:.5em}.membersList .roomMember .leftWrapper .nameRole[data-v-5aaa38b4]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin-left:15px}.membersList .roomMember .leftWrapper .nameRole .memberRole[data-v-5aaa38b4]{font-size:.7em;color:rgb(var(--neutral-grad-3))}.membersList .roomMember .rightWrapper[data-v-5aaa38b4]{padding-right:.5em}.membersList .roomMember .rightWrapper[data-v-5aaa38b4] .icon{width:100%;text-align:center}.membersList .roomMember .rightWrapper .adminActionsList .fa-caret-up[data-v-5aaa38b4]{font-size:2em;left:0;color:rgb(var(--neutral-grad-1));z-index:99;top:10px}.invitedAvatar[data-v-5aaa38b4]:after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(var(--color-txt-ac),.5);border-radius:50%}',""]),t.exports=e},"4cd5":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:rgb(var(--neutral-grad-3));opacity:.8}",""]),t.exports=e},"4e16a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".encryptedDataIcon[data-v-6772f6ee]{position:absolute;color:#fff;opacity:.3;padding:.25em .5em;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);left:0;top:0}.encryptedDataIcon i[data-v-6772f6ee]{font-size:.7em}.filePreview[data-v-6772f6ee]{position:relative}.filePreview .encryptedDataIcon[data-v-6772f6ee]{color:rgb(var(--neutral-grad-3));text-shadow:none;right:0;left:auto}.aboutRoomFileWrapper .aboutRoomFile[data-v-6772f6ee]{display:flex;justify-content:flex-start;align-items:flex-start;margin-bottom:.5em;padding:.5em}.aboutRoomFileWrapper .aboutRoomFile .filePreview[data-v-6772f6ee]{border:1px solid rgb(var(--background-main));border-radius:10px;position:relative;overflow:hidden}.aboutRoomFileWrapper .aboutRoomFile .fileName[data-v-6772f6ee]{font-size:1.2em;margin-top:4px}.aboutRoomFileWrapper .aboutRoomFile .fileSize[data-v-6772f6ee]{font-size:.8em;font-weight:700}.aboutRoomFileWrapper .aboutRoomFile a[data-v-6772f6ee]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:.2em 0}.emptyBlock[data-v-6772f6ee]{text-align:center;padding:1.5em 0}.emptyBlock span[data-v-6772f6ee]{font-size:.9em}",""]),t.exports=e},"5ac5":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".minimized[data-v-ba78a86e]:not(.active) .roomActionsList{display:none}.minimized[data-v-ba78a86e]:not(.active) .chatIconWrapper{width:100%}.minimized[data-v-ba78a86e]:not(.active) .aboutRoom .roomInfoWrapper{width:52px;background:transparent!important}.minimized[data-v-ba78a86e]:not(.active) .aboutRoom .nameline{display:none}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .body{display:none!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .aHeader .head{padding:1em 0;border-bottom:0!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .aHeader .head i{text-align:center;width:52px!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper{padding:1em 0;border-bottom:0!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper .linkPlace{padding-left:0}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper i{text-align:center;width:52px!important;font-size:.9em;opacity:.7}",""]),t.exports=e},"5cf8":function(t,e,a){var i=a("5ac5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("c5750f28",i,t)}},"5e12":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".namebuttoncreate[data-v-846c09ac],.selectedtype[data-v-846c09ac],.type[data-v-846c09ac]{padding:1em;display:flex;align-items:center;border-bottom:1px solid rgb(var(--neutral-grad-0));white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.namebuttoncreate .icon i[data-v-846c09ac],.selectedtype .icon i[data-v-846c09ac],.type .icon i[data-v-846c09ac]{width:30px;opacity:.7;font-size:.8em}.namebuttoncreate span[data-v-846c09ac],.selectedtype span[data-v-846c09ac],.type span[data-v-846c09ac]{font-size:.9em}.namebuttoncreate button[data-v-846c09ac],.selectedtype button[data-v-846c09ac],.type button[data-v-846c09ac]{white-space:nowrap;min-width:0!important;width:100%}.namebuttoncreate input[data-v-846c09ac],.selectedtype input[data-v-846c09ac],.type input[data-v-846c09ac]{width:auto}.namebuttoncreate .completewrapper[data-v-846c09ac],.selectedtype .completewrapper[data-v-846c09ac],.type .completewrapper[data-v-846c09ac]{flex-grow:1;text-align:right}.namebuttoncreate[data-v-846c09ac]{padding-top:0;padding-bottom:0}.namebuttoncreate>div[data-v-846c09ac]{flex-grow:1}.namebuttoncreate input[data-v-846c09ac]{width:100%;padding-top:1em;padding-bottom:1em}.selectedtype[data-v-846c09ac]{background:rgb(var(--background-total-theme));position:sticky;top:-1px;z-index:12}.selectedtype .label[data-v-846c09ac]{font-weight:700;font-size:.8em}.contactswrapper[data-v-846c09ac] .namebuttoncreate{display:none}.contactswrapper[data-v-846c09ac] .searchWrapperEA{background:rgb(var(--background-total-theme));position:sticky;top:-1px;z-index:12;padding-bottom:.5em}",""]),t.exports=e},"5f4b":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"@keyframes v-pulseStretchDelay{0%,80%{transform:scale(1);-webkit-opacity:1;opacity:1}45%{transform:scale(.1);-webkit-opacity:.7;opacity:.7}}",""]),t.exports=e},"6d87":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".linkwrapper[data-v-23f8fb88]{position:relative;display:flex;align-items:center}.linkwrapper button[data-v-23f8fb88]{min-width:0;width:100px;text-align:right;padding-right:1em}.linkPlace[data-v-23f8fb88]{padding:1em;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.linkPlace i[data-v-23f8fb88]{width:30px}.linkPlace span[data-v-23f8fb88]{font-size:.8em;text-align:left;max-width:400px}.linkPlace .shareLink[data-v-23f8fb88]:hover{color:rgb(var(--color-bg-ac))}.chatIconWrapper[data-v-23f8fb88]{width:90%;margin:0 auto;padding:.5em 0}.chatIconWrapper[data-v-23f8fb88] .swiperWrapperFlex .imageSwiper{width:100px;height:100px;line-height:100px}.chatIconWrapper[data-v-23f8fb88] .chatGroupIcon{width:50%;margin:0 auto}.chatIconWrapper[data-v-23f8fb88] .swiperWrapperFlex{padding-bottom:1em}.chatIconWrapper[data-v-23f8fb88] .fourAvatars,.chatIconWrapper[data-v-23f8fb88] .threeAvatars,.chatIconWrapper[data-v-23f8fb88] .twoAvatars{width:50%;padding-bottom:50%;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);background:rgba(var(--background-total-theme),.3)}.chatIconWrapper[data-v-23f8fb88] .oneuser{width:50%;margin:0 auto}.chatIconWrapper[data-v-23f8fb88] .bgimage{box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.aboutRoom[data-v-23f8fb88]{padding-bottom:100px}.aboutRoom .roomInfoWrapper[data-v-23f8fb88]{background:rgb(var(--background-secondary-theme));padding:1em 0}.aboutRoom .roomInfoWrapper .roomNameLine[data-v-23f8fb88]{text-overflow:ellipsis;overflow:hidden;width:90%;height:1.2em;font-weight:500;white-space:nowrap;text-align:center;margin:0 auto;display:block}.aboutRoom .roomInfoWrapper .namewrapper[data-v-23f8fb88]{position:relative;text-align:center;padding:1em 0}.aboutRoom .roomInfoWrapper .namewrapper input[data-v-23f8fb88]{text-align:center;font-weight:700}.aboutRoom .roomInfoWrapper .namewrapper .active[data-v-23f8fb88]{border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomInfoWrapper .namewrapper .iconwrapper[data-v-23f8fb88]{position:absolute;right:1em;top:50%;bottom:0;transform:translateY(-50%)}.aboutRoom .roomInfoWrapper .userpicWrapper[data-v-23f8fb88]{border-bottom:1px solid rgb(var(--neutral-grad-0));padding:1em}.aboutRoom .roomInfoWrapper .roomInfo[data-v-23f8fb88]{position:relative}.aboutRoom .roomInfoWrapper .roomInfo .name label[data-v-23f8fb88]{display:flex;justify-content:space-between;align-items:center;width:100%;height:60px;border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomInfoWrapper .roomInfo .name label input[data-v-23f8fb88]{padding:.1em;display:block;border:0;height:90%;width:90%;font-size:.6em;font-weight:700;text-align:center}.aboutRoom .roomInfoWrapper .roomInfo .name span[data-v-23f8fb88]{font-weight:700}.aboutRoom .roomInfoWrapper .topicTxt[data-v-23f8fb88]{font-weight:400;font-size:.9em;display:block;margin:10px 0;padding:0 1em;word-break:break-word}.aboutRoom .roomAccordionsList .active .body[data-v-23f8fb88]{border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomAccordionsList .accordion .membersCount[data-v-23f8fb88]{font-weight:700}.aboutRoom .roomAccordionsList .accordion .aHeader .head[data-v-23f8fb88]{cursor:pointer;display:flex;justify-content:space-between;align-items:center;padding:1em;border-bottom:1px solid rgb(var(--neutral-grad-0));transition:.3s}.aboutRoom .roomAccordionsList .accordion .aHeader .head .leftBlock[data-v-23f8fb88]{flex-grow:1;position:relative}.aboutRoom .roomAccordionsList .accordion .aHeader .head .leftBlock i[data-v-23f8fb88]{font-size:.8em;width:30px;color:#606369}.roomActionsList[data-v-23f8fb88]{padding:1em 0;padding-top:2em;background:rgb(var(--neutral-grad-1));text-align:center}.roomActionsList .button[data-v-23f8fb88]{width:80%;margin-bottom:1em}.roomActionsList .actionsItem[data-v-23f8fb88]{padding:.5em;border-radius:1em;width:80px;box-shadow:0 0 10px rgba(0,0,0,.1)}[data-v-23f8fb88] #modal .modal-wrapper{right:0}",""]),t.exports=e},"712b":function(t,e,a){var i=a("4746");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("25e36b1c",i,t)}},8228:function(t,e,a){"use strict";a.r(e);var i=a("0417");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},8720:function(t,e,a){"use strict";a.r(e);var i=a("8d19");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"8d19":function(t,e,a){var i=a("4e16a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("3ae3621c",i,t)}},a45b:function(t,e,a){"use strict";a.r(e);var i=a("1f51");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},aec7:function(t,e,a){var i=a("5e12");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("63b75b35",i,t)}},b046:function(t,e,a){"use strict";a.r(e);var i=a("ed38");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},c9065:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".aboutRoomAvatar[data-v-5c24f3fe]{padding-top:1em}.bgImage[data-v-5c24f3fe]{border-radius:50%}.threeAvatars[data-v-5c24f3fe]{position:relative;background:none;width:80px;height:80px;margin:0 auto}.threeAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px}.threeAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;left:50%;top:0;transform:translate(-50%)}.threeAvatars .bgImage[data-v-5c24f3fe]:nth-child(2){position:absolute;right:-3px;bottom:0;transform:translate(0)}.threeAvatars .bgImage[data-v-5c24f3fe]:nth-child(3){position:absolute;left:-3px;bottom:0}.twoAvatars[data-v-5c24f3fe]{background:none;position:relative;margin:0 auto;width:80px;height:80px}.twoAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px;display:flex}.twoAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;top:0;left:0}.twoAvatars .bgImage[data-v-5c24f3fe]:last-child{position:absolute;right:0;bottom:0}.fourAvatars[data-v-5c24f3fe]{background:none;position:relative;margin:0 auto;width:80px;height:80px}.fourAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px}.fourAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;top:-3px;left:-3px;transform:translate(0)}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(2){position:absolute;right:-3px;top:-3px;transform:translate(0)}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(3){position:absolute;left:-3px;bottom:-3px}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(4){position:absolute;right:-3px;bottom:-3px}.fourMore[data-v-5c24f3fe]{background:none;margin:0 auto;width:80px;height:80px}.bgImageMore[data-v-5c24f3fe]{width:40px;height:40px}.imageSwiper[data-v-5c24f3fe]{width:50px;height:50px;margin:0 auto}.imageSwiper img[data-v-5c24f3fe]{display:block;border-radius:50%;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.invited[data-v-5c24f3fe]{opacity:.5}",""]),t.exports=e},d13d:function(t,e,a){"use strict";a.r(e);var i=a("5cf8");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},d82e:function(t,e,a){"use strict";a.r(e);var i=a("1d46");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},e715:function(t,e,a){"use strict";a.r(e);var i=a("712b");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},ed38:function(t,e,a){var i=a("6d87");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("1c2c7239",i,t)}},fe98:function(t,e,a){var i=a("244d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("dad8a0dc",i,t)}},fed7:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".topheader[data-v-eae8d188]{top:0;z-index:999}",""]),t.exports=e}}]);
//# sourceMappingURL=matrix-element.1.min.js.map