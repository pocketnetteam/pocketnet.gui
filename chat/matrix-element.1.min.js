(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[1],{"002d":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .userinfoWrapper[data-v-88277646]{background:#ececec}",""]),t.exports=e},"039b":function(t,e,i){"use strict";i.r(e);var n=i("2b3a");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"0826":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"typingBlock",staticStyle:{position:"relative"}},[i("div",{staticClass:"typingBlockWrapper"},[t._m(0),i("div",[i("PulseLoader",{attrs:{color:t.color,size:t.size,loading:!0}})],1)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",[t._v("typing")])])}],o=i("8a5d"),r={name:"typing",props:{},components:{PulseLoader:o["a"]},data:function(){return{color:"#868686",size:"2px",loading:!0}},methods:{},computed:{}},c=r,s=i("2877");function d(t){var e=i("1b86");e.__inject__&&e.__inject__(t)}var l=Object(s["a"])(c,n,a,!1,d,null,null,!0);e["a"]=l.exports},"0e5b":function(t,e,i){var n=i("f174");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("1e70b03f",n,t)}},"0f40":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .fade-move[data-v-69d4bbfc]{transition:1}#matrix-root[theme=black] .galleryRow .messageImg .img[data-v-69d4bbfc],#matrix-root[theme=black] .galleryRow .messageImg .loadingImg[data-v-69d4bbfc],#matrix-root[theme=black] .galleryRow .messageImg .loadingImg .imgPreview[data-v-69d4bbfc]{border-radius:.5em}#matrix-root[theme=black] .galleryRow .messageImg .imgMsg img[data-v-69d4bbfc]{border-radius:1em}",""]),t.exports=e},"0fb5":function(t,e,i){"use strict";i.r(e);var n=i("c5ac");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"11eb":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .chatInputWrapper[data-v-4854ce66]{transition:.3s}#matrix-root[theme=classic] .chatInputWrapper.bin[data-v-4854ce66]{border-radius:5px}#matrix-root[theme=classic] .encrypted[data-v-4854ce66]{color:#06823a}#matrix-root[theme=classic] .chatEmpty[data-v-4854ce66],#matrix-root[theme=classic] .roomMuted[data-v-4854ce66]{color:#606369}#matrix-root[theme=classic] .preview-wrapper[data-v-4854ce66]{border:1px solid rgba(96,99,105,.3);border-radius:10px}",""]),t.exports=e},"154b":function(t,e,i){var n=i("2938");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("5a3b818f",n,t)}},1679:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] #topheader.minimized.fix[data-v-b9f8e6da]{background:transparent}#matrix-root[theme=black] .donationModalBody span[data-v-b9f8e6da]{color:#12488a}#matrix-root[theme=black] .donationModalBody input[data-v-b9f8e6da],#matrix-root[theme=black] .donationModalBody select[data-v-b9f8e6da]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=black] .donationModalBody input.disabled[data-v-b9f8e6da],#matrix-root[theme=black] .donationModalBody select.disabled[data-v-b9f8e6da]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=black] .donationModalBody .error[data-v-b9f8e6da]{color:#ff0c39}",""]),t.exports=e},"1af7":function(t,e,i){var n=i("640a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("5357465f",n,t)}},"1b20":function(t,e,i){var n=i("002d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("0baca174",n,t)}},"1b86":function(t,e,i){"use strict";i.r(e);var n=i("5f7e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},2122:function(t,e,i){"use strict";i.r(e);var n=i("c046");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"23e70":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .chatInputWrapper[data-v-4854ce66]{transition:.3s}#matrix-root[theme=black] .chatInputWrapper.bin[data-v-4854ce66]{border-radius:5px}#matrix-root[theme=black] .encrypted[data-v-4854ce66]{color:#068222}#matrix-root[theme=black] .chatEmpty[data-v-4854ce66],#matrix-root[theme=black] .roomMuted[data-v-4854ce66]{color:#92979d}#matrix-root[theme=black] .preview-wrapper[data-v-4854ce66]{border:1px solid rgba(146,151,157,.3);border-radius:10px}",""]),t.exports=e},2938:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .inputWrapper>div[data-v-b292b408]{transition:.3s}#matrix-root[theme=white] .inputWrapper .center[data-v-b292b408]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=white] .inputWrapper input[data-v-b292b408]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px}",""]),t.exports=e},"2b3a":function(t,e,i){var n=i("23e70");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("52b042e0",n,t)}},"2bbd":function(t,e,i){var n=i("485cc");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("43cb3084",n,t)}},"2c42":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},"2cf8":function(t,e,i){"use strict";i.r(e);var n=i("62c6");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"2ea6":function(t,e,i){var n=i("2c42");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("0b685b1a",n,t)}},"33cc":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .caption span[data-v-a3c81526]{color:#12488a}#matrix-root[theme=black] .joinAction[data-v-a3c81526]{background:#0b1520}#matrix-root[theme=black] .my-swipe[data-v-a3c81526]{color:#fff}#matrix-root[theme=black] .slide1[data-v-a3c81526]{background-color:#0089dc;color:#fff}#matrix-root[theme=black] .slide2[data-v-a3c81526]{background-color:#ffd705;color:#000}#matrix-root[theme=black] .slide3[data-v-a3c81526]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},3470:function(t,e,i){var n=i("765a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("0f1f962e",n,t)}},3780:function(t,e,i){"use strict";i.r(e);var n=i("0e5b");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"37c2":function(t,e,i){"use strict";i.r(e);var n=i("595e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},3863:function(t,e,i){var n=i("7225");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("703ecd19",n,t)}},"39cc":function(t,e,i){"use strict";i.r(e);var n=i("a17c");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"3b55":function(t,e,i){var n=i("7c65");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("df3defaa",n,t)}},"3bf8":function(t,e,i){var n=i("5de2");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("9447a9b8",n,t)}},"3f7a":function(t,e,i){var n=i("575e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("7d3b3204",n,t)}},"426d":function(t,e,i){"use strict";i.r(e);var n=i("df0c");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"42bf":function(t,e,i){"use strict";i.r(e);var n=i("1b20");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"461d":function(t,e,i){"use strict";i.r(e);var n=i("1af7");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"485cc":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".encryptedInfo[data-v-4854ce66]{position:relative;z-index:9999;display:flex;justify-content:center;align-items:center;flex-direction:column}.encryptedInfo #slide[data-v-4854ce66]{padding:0 .5em;position:absolute;left:-180px;top:0;background:#fff;border-bottom-right-radius:8px;border-top-right-radius:8px;-webkit-animation:slide-data-v-4854ce66 .1s forwards;-webkit-animation-delay:.3s;animation:slide-data-v-4854ce66 .1s forwards;animation-delay:.3s;box-shadow:0 8px 24px rgba(149,157,165,.2)}@-webkit-keyframes slide-data-v-4854ce66{to{left:0}}@keyframes slide-data-v-4854ce66{to{left:0}}.encryptedInfo button[data-v-4854ce66]{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;text-align:left}.encryptedInfo button i[data-v-4854ce66]{margin-right:5px}.encryptedInfo .encryptedTxtIcon[data-v-4854ce66]{flex-direction:column;align-items:center;justify-content:center;padding:.25em .25em;text-align:center}.encryptedInfo .encryptedTxtIcon span[data-v-4854ce66]{color:#06823a;font-size:.8em}.encryptedInfo .encryptedTxtIcon i[data-v-4854ce66]{color:#06823a;display:none}.chatInputWrapper[data-v-4854ce66]{position:absolute;z-index:3;bottom:0;background:#fff;left:0;right:0;padding-bottom:30px}.chatInputWrapper.bin[data-v-4854ce66]{position:absolute;left:1px;right:1px;bottom:1px;border-radius:5px}#chat.minimized .chatInputWrapper[data-v-4854ce66]{opacity:0;padding-bottom:0}#chat.minimized.active[data-v-4854ce66]{padding-bottom:90px}#chat.minimized.active .chatInputWrapper[data-v-4854ce66]{opacity:1}.encrypted[data-v-4854ce66]{position:absolute;left:0;top:0;z-index:2;color:#06823a;padding:.25em .5em}.encrypted i[data-v-4854ce66]{font-size:.8em;cursor:pointer}.roomMuted[data-v-4854ce66]{position:absolute;left:5px;top:20px;z-index:2;color:#606369}.roomMuted i[data-v-4854ce66]{font-size:.8em}.chatEmpty[data-v-4854ce66]{padding:4em;text-align:center;color:#606369}.chatEmpty span[data-v-4854ce66]{font-size:.8em}.preview-wrapper[data-v-4854ce66]{max-height:350px;overflow-y:auto;border:1px solid rgba(96,99,105,.3);border-radius:10px;margin:0 auto;width:98%}.preview-wrapper[data-v-4854ce66]::-webkit-scrollbar{width:0!important}",""]),t.exports=e},"4ca8":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .fade-move[data-v-69d4bbfc]{transition:1}#matrix-root[theme=white] .galleryRow .messageImg .img[data-v-69d4bbfc],#matrix-root[theme=white] .galleryRow .messageImg .loadingImg[data-v-69d4bbfc],#matrix-root[theme=white] .galleryRow .messageImg .loadingImg .imgPreview[data-v-69d4bbfc]{border-radius:.5em}#matrix-root[theme=white] .galleryRow .messageImg .imgMsg img[data-v-69d4bbfc]{border-radius:1em}",""]),t.exports=e},"4ecd":function(t,e,i){"use strict";i.r(e);var n=i("7283");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"50eb":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".nameWrapper[data-v-b9f8e6da]{display:flex;align-items:center;justify-content:center}.roomMuted[data-v-b9f8e6da]{margin-left:3px}.roomMuted i[data-v-b9f8e6da]{font-size:.7em}.editButton[data-v-b9f8e6da]{display:flex;justify-content:center;align-items:center}.editButton i[data-v-b9f8e6da]{font-size:1.5em}.nameline[data-v-b9f8e6da]{max-width:250px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#topheader.minimized.fix[data-v-b9f8e6da]{background:transparent;overflow:inherit}.donationModalBody[data-v-b9f8e6da]{padding:1em;display:flex;flex-direction:column}.donationModalBody span[data-v-b9f8e6da]{color:#12488a}.donationModalBody input[data-v-b9f8e6da],.donationModalBody select[data-v-b9f8e6da]{margin-top:.5em;margin-bottom:1.5em;border:1px solid #12488a;border-radius:3px;padding:.5em}.donationModalBody input.disabled[data-v-b9f8e6da],.donationModalBody select.disabled[data-v-b9f8e6da]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}.donationModalBody button[data-v-b9f8e6da]{margin-top:1em}.donationModalBody button i[data-v-b9f8e6da]{margin-right:.2em}.donationModalBody .totalAmount[data-v-b9f8e6da]{font-weight:700;margin-left:.5em;margin-top:.5em;margin-bottom:1em}.donationModalBody .error[data-v-b9f8e6da]{color:#ff0c39;text-align:center}.donationModalBody .linepreloader[data-v-b9f8e6da]{text-align:center;height:29px;margin-top:1em}",""]),t.exports=e},5237:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .inputWrapper>div[data-v-b292b408]{transition:.3s}#matrix-root[theme=classic] .inputWrapper .center[data-v-b292b408]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=classic] .inputWrapper input[data-v-b292b408]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px}",""]),t.exports=e},5238:function(t,e,i){"use strict";i.r(e);var n=i("154b");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"575e":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".input-component[data-v-5c7ca0b8]{width:100%;display:flex;justify-content:center;align-items:center;padding:0 1em;padding-right:0}.input-component[data-v-5c7ca0b8] .emoji-mart .emoji-mart-emoji{width:25%;height:40px;cursor:pointer}.input-component[data-v-5c7ca0b8] .emoji-mart .emoji-mart-emoji span{cursor:pointer}.input-component[data-v-5c7ca0b8] .emoji-mart .emoji-mart-emoji:hover{background:none;box-shadow:none}.input-component[data-v-5c7ca0b8] .emoji-mart .emoji-mart-emoji:hover:before{display:none}.input-component .input-wrapper[data-v-5c7ca0b8]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;position:relative;width:100%}.input-component .right[data-v-5c7ca0b8]{margin:0 .5em}.input-component .iconbutton .leftdummy[data-v-5c7ca0b8]{width:20px}.input-component .iconbutton .rightdummy[data-v-5c7ca0b8]{width:35px}.input-component .iconbutton .idummy[data-v-5c7ca0b8]{width:100%;height:35px;line-height:35px}.input-component .iconbutton .idummy i[data-v-5c7ca0b8]{line-height:35px!important}.input-component .previews[data-v-5c7ca0b8]{width:100%;max-width:198px;height:30px;display:flex;align-items:flex-start;padding:2px 0;overflow:hidden}.input-component .previews[data-v-5c7ca0b8]:first-child{margin-left:0}.input-component .textarea[data-v-5c7ca0b8]{width:100%;display:flex;justify-content:flex-start;align-items:center}.chat-input[data-v-5c7ca0b8]{width:100%;max-height:64px;overflow-y:auto;resize:none}.chat-input[data-v-5c7ca0b8]::-webkit-scrollbar{width:0!important}.fade-enter-active[data-v-5c7ca0b8],.fade-leave-active[data-v-5c7ca0b8]{transition:all .2s ease-in}.fade-enter[data-v-5c7ca0b8],.fade-leave-to[data-v-5c7ca0b8]{opacity:0}",""]),t.exports=e},"595e":function(t,e,i){var n=i("b5bb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("44128a10",n,t)}},"5a28":function(t,e,i){"use strict";i.r(e);var n=i("c9d6");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"5bd3":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},"5de2":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".caption[data-v-a3c81526]{padding:1em;text-align:center}.caption span[data-v-a3c81526]{font-size:2em;font-weight:700;color:#0a68ad}.tip[data-v-a3c81526]{padding:1.5em;text-align:center}.tip span[data-v-a3c81526]{font-size:.8em}.joinAction[data-v-a3c81526]{position:fixed;bottom:0;left:0;right:0;background:#ececec;padding:1em 0;text-align:center;z-index:2}.joinAction.bin[data-v-a3c81526]{position:sticky}.joinAction .actions[data-v-a3c81526]{display:flex}.joinAction .actions .action[data-v-a3c81526]{padding:.5em;flex-grow:1}.joinAction .actions .action button[data-v-a3c81526]{min-width:0;width:100%}.my-swipe[data-v-a3c81526]{height:200px;color:#fff;font-size:30px;text-align:center}.slide1[data-v-a3c81526]{background-color:#0089dc;color:#fff}.slide2[data-v-a3c81526]{background-color:#ffd705;color:#000}.slide3[data-v-a3c81526]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},"5ed0":function(t,e,i){"use strict";i.r(e);var n=i("3bf8");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"5f7e":function(t,e,i){var n=i("bd86");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("3c4a7888",n,t)}},"626b":function(t,e,i){"use strict";i.r(e);var n=i("3b55");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"62c6":function(t,e,i){var n=i("4ca8");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("0aaac1ed",n,t)}},"640a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .chatInputWrapper[data-v-4854ce66]{transition:.3s}#matrix-root[theme=white] .chatInputWrapper.bin[data-v-4854ce66]{border-radius:5px}#matrix-root[theme=white] .encrypted[data-v-4854ce66]{color:#06823a}#matrix-root[theme=white] .chatEmpty[data-v-4854ce66],#matrix-root[theme=white] .roomMuted[data-v-4854ce66]{color:#606369}#matrix-root[theme=white] .preview-wrapper[data-v-4854ce66]{border:1px solid rgba(96,99,105,.3);border-radius:10px}",""]),t.exports=e},6426:function(t,e,i){"use strict";i.r(e);var n=i("9c32");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"66b6":function(t,e,i){"use strict";i.r(e);var n=i("be89");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},6972:function(t,e,i){"use strict";i.r(e);var n=i("c4bb");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"6ec0":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] #topheader.minimized.fix[data-v-b9f8e6da]{background:transparent}#matrix-root[theme=white] .donationModalBody span[data-v-b9f8e6da]{color:#12488a}#matrix-root[theme=white] .donationModalBody input[data-v-b9f8e6da],#matrix-root[theme=white] .donationModalBody select[data-v-b9f8e6da]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=white] .donationModalBody input.disabled[data-v-b9f8e6da],#matrix-root[theme=white] .donationModalBody select.disabled[data-v-b9f8e6da]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=white] .donationModalBody .error[data-v-b9f8e6da]{color:#ff0c39}",""]),t.exports=e},"6ff7":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .userinfoWrapper[data-v-88277646]{background:#0b1520}",""]),t.exports=e},7225:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .fade-move[data-v-69d4bbfc]{transition:1}#matrix-root[theme=classic] .galleryRow .messageImg .img[data-v-69d4bbfc],#matrix-root[theme=classic] .galleryRow .messageImg .loadingImg[data-v-69d4bbfc],#matrix-root[theme=classic] .galleryRow .messageImg .loadingImg .imgPreview[data-v-69d4bbfc]{border-radius:.5em}#matrix-root[theme=classic] .galleryRow .messageImg .imgMsg img[data-v-69d4bbfc]{border-radius:1em}",""]),t.exports=e},7283:function(t,e,i){var n=i("9a01");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("f7eaacd8",n,t)}},"765a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#chatInput[data-v-b292b408]{padding-bottom:.5em;padding-top:.5em}.inputWrapper[data-v-b292b408]{display:flex}.inputWrapper .left[data-v-b292b408]{width:35px;text-align:center}.inputWrapper .left .iconbutton[data-v-b292b408]{width:35px}.inputWrapper .leftdummy[data-v-b292b408]{width:.5em}.inputWrapper>div[data-v-b292b408]{transition:.3s}.inputWrapper .center[data-v-b292b408]{max-height:70px;display:flex;justify-content:center;align-items:center;flex-grow:1;border:1px solid #c8c0c1;border-radius:50px;padding-right:.5em}.inputWrapper input[data-v-b292b408]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px;width:100%;padding:.5em 1em}.notready[data-v-b292b408],.waitjoined[data-v-b292b408]{padding:.5em 0;text-align:center}.waitjoined span[data-v-b292b408]{font-size:.8em}.greetings[data-v-b292b408]{padding:.5em 0}.greetings[data-v-b292b408],[data-v-b292b408] .iconWrapper{text-align:center}.menu-item[data-v-b292b408]{padding:.5em;background:#fff;line-height:44px;display:flex}.menu-item .title[data-v-b292b408]{flex-grow:2;padding-right:44px;text-align:center}.menu-item .iconWrapper[data-v-b292b408]{width:44px}",""]),t.exports=e},"7b66":function(t,e,i){"use strict";i.r(e);var n=i("3863");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"7b69":function(t,e,i){"use strict";i.r(e);var n=i("e96a");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"7c65":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .caption span[data-v-a3c81526]{color:#0035a8}#matrix-root[theme=classic] .joinAction[data-v-a3c81526]{background:#ececec}#matrix-root[theme=classic] .my-swipe[data-v-a3c81526]{color:#fff}#matrix-root[theme=classic] .slide1[data-v-a3c81526]{background-color:#0089dc;color:#fff}#matrix-root[theme=classic] .slide2[data-v-a3c81526]{background-color:#ffd705;color:#000}#matrix-root[theme=classic] .slide3[data-v-a3c81526]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},8706:function(t,e,i){"use strict";i.r(e);var n=i("2ea6");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"94d3":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".topheader[data-v-2120d13f]{width:100%;top:0;z-index:999}.aboutContact[data-v-2120d13f]{position:absolute;left:0;right:0;top:100px;bottom:0;z-index:999;background:#fff}[data-v-2120d13f] #maincontent .headerSpacerWrapper{bottom:0}",""]),t.exports=e},9585:function(t,e,i){var n=i("50eb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("156289ac",n,t)}},9774:function(t,e,i){"use strict";i.r(e);var n=i("2bbd");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},9928:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".loadingImg{max-width:100%;padding:.5em 1em}.loadingImg .imagePreview{position:relative;max-width:50%;margin:0 10px 0 auto}.loadingImg .imagePreview img{display:block;max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;opacity:.4}.loadingImg .imagePreview .previewLoader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9999}",""]),t.exports=e},"9a01":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".wrapper[data-v-1090fd1f]{position:relative}.fas[data-v-1090fd1f]{position:absolute;right:-8px;top:-8px}.preview-picture[data-v-1090fd1f]{width:50px;height:50px;border-radius:10px}",""]),t.exports=e},"9c32":function(t,e,i){var n=i("6ff7");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("6bf916f5",n,t)}},a17c:function(t,e,i){var n=i("bcc0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("21de6653",n,t)}},ad3b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"[data-v-c1128e8e] .eventMember{text-align:left}[data-v-c1128e8e] .eventMember span{font-size:.9em}.pswp img[data-v-c1128e8e]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-c1128e8e]{padding-left:.5em}",""]),t.exports=e},b5bb:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".eventWrapper[data-v-69d4bbfc]{padding:.5em 0}#events[data-v-69d4bbfc]{position:absolute;left:0;right:0;top:0;bottom:0}.eventsflex[data-v-69d4bbfc]{display:flex;flex-direction:column-reverse;width:100%;height:100%;overflow-y:auto;padding:.25em;padding-bottom:96px}.eventsflex[data-v-69d4bbfc]::-webkit-scrollbar{width:0!important}.galleryRow[data-v-69d4bbfc]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-69d4bbfc]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-69d4bbfc]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-69d4bbfc]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-69d4bbfc]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-69d4bbfc]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-69d4bbfc]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-69d4bbfc]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-69d4bbfc]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-69d4bbfc]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-69d4bbfc]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-69d4bbfc]{display:block;width:100%;height:100%}",""]),t.exports=e},b6ee:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},ba10:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] #topheader.minimized.fix[data-v-b9f8e6da]{background:transparent}#matrix-root[theme=classic] .donationModalBody span[data-v-b9f8e6da]{color:#12488a}#matrix-root[theme=classic] .donationModalBody input[data-v-b9f8e6da],#matrix-root[theme=classic] .donationModalBody select[data-v-b9f8e6da]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=classic] .donationModalBody input.disabled[data-v-b9f8e6da],#matrix-root[theme=classic] .donationModalBody select.disabled[data-v-b9f8e6da]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=classic] .donationModalBody .error[data-v-b9f8e6da]{color:#ff0c39}",""]),t.exports=e},bb36:function(t,e,i){"use strict";i.r(e);var n=i("ecfb");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},bcc0:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".previewWrapper[data-v-88277646]{padding:.5em}.userinfoWrapper[data-v-88277646]{width:100%;padding:1em;background:#ececec}.VueCarousel[data-v-88277646]{width:100%}",""]),t.exports=e},bd86:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:#707070;opacity:.8}",""]),t.exports=e},be89:function(t,e,i){var n=i("ad3b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("067ca796",n,t)}},c046:function(t,e,i){var n=i("94d3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("31c7092c",n,t)}},c110:function(t,e,i){"use strict";i.r(e);var n=i("f9f8");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},c495:function(t,e,i){"use strict";i.r(e);var n=i("cabf");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},c4bb:function(t,e,i){var n=i("6ec0");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("20bf988b",n,t)}},c5ac:function(t,e,i){var n=i("d350");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("21e1f0d0",n,t)}},c95a:function(t,e,i){"use strict";i.r(e);var n=i("3470");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},c9b0:function(t,e,i){"use strict";i.r(e);var n=i("3f7a");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},c9d6:function(t,e,i){var n=i("0f40");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("77166160",n,t)}},cabf:function(t,e,i){var n=i("9928");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("6b61ab55",n,t)}},cb17:function(t,e,i){var n=i("5237");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("54e85e9e",n,t)}},cb7f:function(t,e,i){var n=i("ba10");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("2a34a9a6",n,t)}},cef5:function(t,e,i){"use strict";i.r(e);var n=i("ee99");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},d350:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .inputWrapper>div[data-v-b292b408]{transition:.3s}#matrix-root[theme=black] .inputWrapper .center[data-v-b292b408]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=black] .inputWrapper input[data-v-b292b408]{border:1px solid rgba(121,130,132,.3);background:rgba(11,21,32,.5);border-radius:30px}",""]),t.exports=e},df0c:function(t,e,i){var n=i("e07c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("117ffc96",n,t)}},e07c:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .userinfoWrapper[data-v-88277646]{background:#ececec}",""]),t.exports=e},e411:function(t,e,i){"use strict";i.r(e);var n=i("9585");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},e67c:function(t,e,i){"use strict";i.r(e);var n=i("cb7f");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},e96a:function(t,e,i){var n=i("1679");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("ef6cf768",n,t)}},ecfb:function(t,e,i){var n=i("b6ee");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("d9517fb4",n,t)}},ee79:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page chat"},[i("topheader",{staticClass:"topheader",attrs:{u:t.u,chat:t.chat},on:{addMember:t.addMemberModal}}),t.roomInfo?t._e():i("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[i("chat",{attrs:{u:t.u,chat:t.chat},on:{sending:t.sending,newchat:t.newchat,getEvents:t.eventsRoom}})]},proxy:!0}],null,!1,2636658855)}),t.openInviteModal?i("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[i("span",[t._v("Invite User")])]},proxy:!0},{key:"body",fn:function(){return[i("contacts",{attrs:{mode:"inviteUsers",chatRoomId:t.chat.roomId},on:{closeModal:t.closeContactModal}})]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,1239787889)}):t._e()],1)},a=[],o=i("5530"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active},attrs:{id:"chat"}},[t.m_chat&&"join"===t.membership()&&t.ready?i("list",{attrs:{chat:t.m_chat,imagePreview:t.prevImage,filePrev:t.anyFilePreview},on:{eventImage:function(e){return t.galleryImage(e)},getEvents:t.events}}):t._e(),t.m_chat&&"invite"===t.membership()?i("div",{staticClass:"joinwrapper"},[i("join",{attrs:{m_chat:t.m_chat,chat:t.chat,usersinfo:t.usersinfo}})],1):t._e(),!t.m_chat&&t.usersinfo&&t.usersinfo.length?i("div",{staticClass:"chatEmpty"},[i("span",[t._v("Start chat with "+t._s(t.usersinfoNames()))])]):t._e(),t.m_chat&&"join"!==t.membership()?t._e():i("div",{staticClass:"chatInputWrapper fixedOnPageBottom",class:{bin:t.pocketnet,bout:!t.pocketnet}},[i("div",[t.urlpreview?i("div",{staticClass:"preview-wrapper"},[i("url",{attrs:{url:t.urlpreview,preview:!0}})],1):t._e(),i("chatInput",{attrs:{u:t.u,chat:t.m_chat,usersinfo:t.usersinfo},on:{sending:t.sending,newchat:t.newchat,closeMetaPreview:t.closing,inputClean:t.hidePreview,setMetaUrl:t.chatUrlHandler,filePreview:t.getFilePreview,anyFileSend:t.anyFileData,emptyInput:t.hidePreview}})],1)]),t.encrypted?i("div",{staticClass:"encrypted",on:{mouseover:function(e){t.hoverEncrypt=!0}}},[i("i",{staticClass:"fas fa-lock"})]):t._e(),t.hoverEncrypt?i("div",{staticClass:"encryptedInfo",on:{mouseover:function(e){t.hoverEncrypt=!0},mouseleave:function(e){t.hoverEncrypt=!1},click:function(e){t.hoverEncrypt=!t.hoverEncrypt}}},[t._m(0)]):t._e()],1)},c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"slide"}},[i("div",{staticClass:"encryptedTxtIcon"},[i("i",{staticClass:"fas fa-user-shield"}),i("span",[t._v("Encrypted")])])])}],s=(i("a15b"),i("d81d"),i("b0c0"),i("2f62")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active},attrs:{id:"chatList"}},[i("div",{ref:"work",staticClass:"work"},[i("div",{ref:"uspbottom",staticClass:"uspbottomSpacer "}),i("div",{ref:"direction_b",staticClass:"bottomSpacer spacer"}),i("div",{ref:"events",staticClass:"timeLineWrapper"},[t.timeline?i("events",{attrs:{events:t.events,filePreview:t.filePrev,previewImage:t.imagePreview,chat:t.chat},on:{updated:t.eventsUpdated,updatedSize:t.updatedSize,removeEvent:t.removeEvent,galleryEventOpen:function(e){return t.imageGallery(e)}}}):t._e()],1),i("div",{ref:"direction_f",staticClass:"topSpacer spacer"})])])},l=[],u=(i("4de4"),i("7db0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"events"}},[i("div",{staticClass:"eventsflex"},t._l(t.events,(function(e){return e.localRedactionEvent()||e.getRedactionEvent()?t._e():i("div",{key:e.event.event_id,staticClass:"eventWrapper"},[i("event",{attrs:{event:e,filePreview:t.filePreview,galleryData:t.events,clientWidth:t.clientWidth,chat:t.chat},on:{openImageEvent:function(e){return t.galleryOpen(e)},removeEvent:function(i){return t.removeEvent(e)},updatedSize:t.updatedSize}})],1)})),0)])}),f=[],m=i("6167"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loadingImg"},[i("div",{staticClass:"imagePreview"},[i("img",{staticClass:"imgPreview",attrs:{src:t.imagePreview,alt:""}}),i("div",{staticClass:"previewLoader"},[i("clip-loader",{staticClass:"clipLoader",attrs:{size:"25px",color:"#0035a8",loading:!0}})],1)])])},h=[],v=i("da7a"),b={props:{imagePreview:{}},components:{clipLoader:v["a"]}},g=b,x=i("2877");function y(t){var e=i("c495");e.__inject__&&e.__inject__(t)}var w=Object(x["a"])(g,p,h,!1,y,null,null,!0),j=w.exports,k={name:"events",props:{events:Array,chat:Object,previewImage:{type:Object,default:function(){return{show:!1}}},filePreview:Object},components:{event:m["default"],imgPreview:j},data:function(){return{type:"",clientWidth:1e3,loading:!1,wasupdated:{}}},created:function(){},watch:{},computed:Object(s["c"])({auth:function(t){return t.auth}}),updated:function(){},methods:{updatedSize:function(t){this.$emit("updatedSize",t)},removeEvent:function(t){this.$emit("removeEvent",t)},showPhotoSwipe:function(t){this.isOpen=!0,this.$set(this.options,"index",t)},hidePhotoSwipe:function(){this.isOpen=!1},galleryOpen:function(t){this.$emit("galleryEventOpen",t)},getClientWidth:function(){var t=this.$el.clientWidth;this.clientWidth=t}},mounted:function(){this.getClientWidth(),window.addEventListener("resize",this.getClientWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.getClientWidth)}},I=k;function M(t){var e=i("37c2");e.__inject__&&e.__inject__(t);var n=i("2cf8");n.__inject__&&n.__inject__(t);var a=i("5a28");a.__inject__&&a.__inject__(t);var o=i("7b66");o.__inject__&&o.__inject__(t)}var C=Object(x["a"])(I,u,f,!1,M,"69d4bbfc",null,!0),E=C.exports,O={name:"chatList",props:{chat:Object,to:String,prev:{},putMeta:{},filePrev:[Object,File],imagePreview:{},scrollBottom:!1},components:{events:E},data:function(){return{encryptedEvents:[],loading:!1,scrolling:!1,scrollingTo:0,cancelNextScroll:!1,timeline:null,lastEvent:{},c_uspbottomHeight:0,c_frombottomscroll:0,c_bottomWndOffset:80,c_topWndOffset:55,p_b:!1,p_f:!1,updateTimeout:null,updateInterval:null,events:[],firstPaginate:!0,container:window}},mounted:function(){this.container=$(this.$el).closest(".headerSpacer")[0],this.c_bottomWndOffset=90,this.c_topWndOffset=0,this.init(),this.chat&&this.readAll()},watch:{},computed:Object(s["c"])({auth:function(t){return t.auth},eventsTypes:function(){var t={"m.room.message":!0,"p.room.encrypt.message":!0,"m.room.image":!0,"m.room.file":!0,"m.room.member":!0,"m.fully_read":!0};return _.toArray(this.chat&&this.chat.currentState.members||{}).length>2&&(t["m.room.member"]=!0,t["m.room.power_levels"]=!0),t},pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},bin:function(t){return t.pocketnet}}),created:function(){this.container.addEventListener("wheel",this.wheel),this.updateInterval=setInterval(this.update,50)},destroyed:function(){this.container.removeEventListener("wheel",this.wheel),this.timeline&&this.timeline.unpaginate(this.timeline._eventCount,!0),clearInterval(this.updateInterval)},methods:{removeEvent:function(t){},wh:function(){return this.container?this.container.clientHeight||this.container.innerHeight:0},getEvents:function(){var t=this,e=this.timeline.getEvents();return this.$emit("getEvents",e),e=_.filter(e,(function(e){var i=e.event.type;if(!(t.chat.currentState.getMembers().length<=2&&"m.room.member"===e.event.type))return!t.eventsTypes||t.eventsTypes[i]})),e=e.reverse(),e},init:function(){var t=this;this.loading=!0,this.firstPaginate=!0;var e=this.chat.getLiveTimeline(),i=e.getTimelineSet();this.timeline=new this.core.mtrx.sdk.TimelineWindow(this.core.mtrx.client,i),this.uspBottomHeight(),this.timeline.load(null,this.wh()||600).then((function(e){t.fixBottomScroll(),t.events=t.getEvents(),t.loading=!1,setTimeout((function(){t.correctBottomScroll(),t.autoPaginateAll()}),300)})).catch((function(e){t.loading=!1}))},autoPaginate:function(t){this.needLoad(t)&&this.paginate(t)},paginate:function(t,e){var i=this,n=this.container;n=$(this.$el).find(".eventsflex")[0];if(n&&!this.loading&&this.timeline&&!this["p_"+t]&&(this.timeline.canPaginate(t)||e)){this["p_"+t]=!0;var a=this.firstPaginate?25:12;this.firstPaginate||"f"===t||n.scrollTop<700?(this.fixBottomScroll(),this.timeline.paginate(t,a).then((function(e){i.events=i.getEvents(),i.readAll(),i["p_"+t]=!1,i.correctBottomScroll()})).catch((function(e){i["p_"+t]=!1}))):this["p_"+t]=!1}},autoPaginateAll:function(){this.autoPaginate("b"),this.autoPaginate("f")},needLoad:function(t){var e=this.scroll(),i=this.eventsPosition(),n=!1,a=3*this.wh();return i&&("b"==t?i.top+a>=e&&(n=!0):Math.max(i.top+i.height-a)<=e&&(n=!0)),n},readEvent:function(t){var e=this.core.mtrx.me(t.event.sender);e||this.core.mtrx.client.sendReadReceipt(t)},readFirst:function(){var t=this.timeline.getEvents();this.readEvent(t[0])},readLast:function(){var t=this.timeline.getEvents();this.readEvent(t[t.length-1])},readEvents:function(t){var e=this;_.each(t,(function(t){e.readEvent(t)}))},readOne:function(){this.core.mtrx.client(this.chat.timeline[this.chat.timeline.length-1]).then((function(t){return t}))},readAll:function(){var t=this;!this.core.hiddenInParent&&this.chat&&this.chat.getJoinedMemberCount()>1&&0!==this.chat.getUnreadNotificationCount()&&setTimeout((function(){t.chat&&t.core.mtrx.client.setRoomReadMarkers(t.chat.currentState.roomId,t.chat["_receipts"]["m.read"][t.chat.myUserId].eventId,t.chat.timeline[t.chat.timeline.length-1]).then((function(t){return t}))}),1e3)},scroll:function(){return this.container.scrollY||this.container.scrollTop},eventsPosition:function(){return this.relativePosition(this.$refs.events.getBoundingClientRect())},workPosition:function(){return this.relativePosition(this.$refs.work.getBoundingClientRect())},relativePosition:function(t){var e=this.appBorders(),i={};return t||(t=this.defaultPosition()),_.each(this.defaultPosition(),(function(n,a){i[a]="height"!=a&&"width"!=a?t[a]-e[a]:t[a]})),i},defaultPosition:function(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},appBorders:function(){return this.container&&this.container.getBoundingClientRect?this.container.getBoundingClientRect():this.defaultPosition()},uspBottomHeight:function(){},spacerHeight:function(t){},spacersHeight:function(){this.spacerHeight("b"),this.spacerHeight("f")},wheel:function(t){this.scrolling},updatedSize:function(t){},eventsUpdated:function(t){this.spacersHeight(),this.update()},update:function(t){this.scrolling||(this.uspBottomHeight(),this.fixBottomScroll(),this.autoPaginateAll())},fixBottomScroll:function(){},correctBottomScroll:function(){},scrollTo:function(t){var e=this;t<0&&(t=0),this.scrolling&&cancelAnimationFrame(this.scrolling),this.scrollingTo=t,this.scrolling=requestAnimationFrame((function(){e.container.scroll({top:t,behavior:"instant"}),e.scrollingTo=0,e.scrolling=null}))},imageGallery:function(t){this.$emit("eventImage",t)}}},P=O;function S(t){var e=i("66b6");e.__inject__&&e.__inject__(t);var n=i("8706");n.__inject__&&n.__inject__(t);var a=i("bb36");a.__inject__&&a.__inject__(t);var o=i("cef5");o.__inject__&&o.__inject__(t)}var R=Object(x["a"])(P,d,l,!1,S,"c1128e8e",null,!0),B=R.exports,z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatInput"}},[t.ready?i("div",{staticClass:"work"},[t.chat?i("div",{staticClass:"inputWrapper"},[i("div",{staticClass:"center"},[i("InputField",{ref:"newinput",attrs:{transaction:t.transaction},on:{transaction:t.sendtransaction,chatMessage:t.sendinput,setMetaUrl:t.emitUrl,emptyInput:t.emitInputData,FilledInput:t.HideUploadPic,base64:t.pasteImage}}),t.upload&&t.chat?i("div",{staticClass:"left"},[i("div",{staticClass:"iconbutton"},[i("dropdownMenu",{ref:"dropdownMenu",attrs:{menuItems:t.menuItems,rowObject:{},icon:"fas fa-plus"},on:{itemClicked:t.menuItemClickHandler},scopedSlots:t._u([{key:"default",fn:function(e){return[e.item.upload?i("upload",{attrs:{multiple:e.item.upload.multiple,extensions:e.item.upload.extensions,images:e.item.upload.images},on:{start:function(i){return t.uploadStart(e.item,i)},uploaded:function(i){return t.uploadUploaded(e.item,i)},uploadedAll:function(i){return t.uploadUploadedAll(e.item,i)},error:function(i){return t.uploadError(e.item,i)}},scopedSlots:t._u([{key:"content",fn:function(){return[i("div",{staticClass:"menu-item"},[i("div",{staticClass:"iconWrapper"},[e.item.icon?i("i",{class:e.item.icon}):t._e()]),i("div",{staticClass:"title"},[t._v(" "+t._s(e.item.title)+" ")])])]},proxy:!0},{key:"dropzone",fn:function(){},proxy:!0}],null,!0)}):i("div",{staticClass:"menu-item",on:{click:function(i){return t.menuItemClick(e.item)}}},[i("div",{staticClass:"iconWrapper"},[e.item.icon?i("i",{class:e.item.icon}):t._e()]),i("div",{staticClass:"title"},[t._v(" "+t._s(e.item.title)+" ")])])]}}],null,!1,2831926823)})],1)]):t._e()],1)]):t._e()]):i("div",{staticClass:"notready"},[i("linepreloader")],1)])},W=[],F=i("1da1"),T=i("a34a"),A=i.n(T),U=(i("ac1f"),i("1276"),i("159b"),i("d3b7"),i("e6cf"),i("498a"),i("fb6a"),i("e260"),i("5cc6"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("caad"),i("3139")),L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-component"},[i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"textarea"},[i("textarea",{ref:"textarea",staticClass:"chat-input",attrs:{type:"text",row:"1"},domProps:{value:t.text},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.send_text(e))},keyup:t.textchange,input:t.textchange,paste:t.paste_image}}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("picker",{directives:[{name:"show",rawName:"v-show",value:t.display_emoji,expression:"display_emoji"},{name:"click-outside",rawName:"v-click-outside",value:t.close_emoji_picker,expression:"close_emoji_picker"}],style:{width:"325px",position:"absolute",bottom:"32px",right:"-60px",fontSize:"0.8em",fontFamily:"Segoe UI"},attrs:{data:t.emojiIndex,exclude:t.exclude,showPreview:!1,showSearch:!1,native:!0,set:"emojione"},on:{select:t.insert_emoji}})],1)],1)]),!t.send&&t.transaction?i("div",{staticClass:"iconbutton",on:{click:function(e){return t.send_transaction()}}},[t._m(0)]):t._e(),i("div",{staticClass:"iconbutton emojipicker",on:{click:function(e){return t.toggle_emoji_picker()}}},[i("div",{staticClass:"leftdummy"},[i("div",{staticClass:"idummy"},[t.display_emoji?i("i",{staticClass:"fas fa-times"}):i("i",{staticClass:"far fa-smile"})])])]),t.send?i("div",{staticClass:"iconbutton",on:{click:function(e){return t.send_text(e)}}},[t._m(1)]):t._e()])},D=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"leftdummy"},[i("div",{staticClass:"idummy"},[i("i",{staticClass:"fas fa-wallet"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rightdummy"},[i("div",{staticClass:"idummy"},[i("i",{staticClass:"far fa-paper-plane"})])])}],N=(i("2532"),i("466d"),i("5059")),H=i("364d"),V=(i("01ce"),i("41fb")),K=i("c28b"),J=i.n(K),Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_opened?i("div",{staticClass:"wrapper"},[i("img",{staticClass:"preview-picture",attrs:{src:t.base64,alt:"picture preview"}}),i("i",{staticClass:"fas fa-times fa-sm",on:{click:t.hide}})]):t._e()},q=[],G={name:"picturePreview",props:["base64"],data:function(){return{is_opened:!0}},methods:{hide:function(){this.is_opened=!1}}},X=G;function Q(t){var e=i("4ecd");e.__inject__&&e.__inject__(t)}var Z=Object(x["a"])(X,Y,q,!1,Q,"1090fd1f",null,!0),tt=Z.exports,et=new V["EmojiIndex"](H),it=new N["a"],nt={name:"InputField",components:{Picker:V["Picker"],picturePreview:tt},directives:{clickOutside:J.a.directive},watch:{text:{immediately:!0,handler:function(t,e){t?(this.send=!0,this.$emit("FilledInput")):(this.send=!1,this.$emit("emptyInput")),this.textarea_resize()}}},computed:{mobile:function(){return!this.$store.state.pocketnet&&this.$store.state.mobile}},methods:{textchange:function(t){this.text=t.target.value||""},focus:function(){this.mobile||this.$refs["textarea"].focus()},close_emoji_picker:function(t){"i"!==t.target.localName&&"matrix-element"!==t.target.localName&&(this.display_emoji=!1)},textarea_resize:function(){this.text?(this.$refs.textarea.style.height="1px",this.$refs.textarea.style.height=this.$refs.textarea.scrollHeight+"px",this.display_emoji=!1):this.textarea_resize_reset()},textarea_resize_reset:function(){this.$refs.textarea.style.height="26px",console.log("textarea_resize_reset")},toggle_emoji_picker:function(){this.display_emoji=!this.display_emoji},send_transaction:function(){this.$emit("transaction")},send_text:function(t){t.textContent=this.text,this.text&&"\n"!==this.text&&(this.display_emoji=!1,this.$emit("chatMessage",t),this.$emit("emptyInput"),this.send=!1,this.text="")},insert_emoji:function(t){this.text+=t.native},paste_image:function(t){this.get_base64(t)},get_base64:function(t){var e=this;if(this.pasted_data=t.clipboardData.items,this.pasted_data.length){var i=function(t){var i=e.pasted_data[t],n=e.upload.extensions.includes(i.type);n&&(a=i.getAsFile(),o=new FileReader,o.onload=function(t){var n=t.target.result;e.resize_image(n,i.type)},o.readAsDataURL(a))};for(var n in this.pasted_data){var a,o;i(n)}}},resize_image:function(t,e){var i=this;return it.autorotation(null,t).then((function(t){var n=i.upload.images.resize.type||"def";return it.resize[n](t,2048,2048,e,.8).then((function(t){i.$emit("base64",t)})).catch((function(t){return console.error("Failed to resize image",t)}))})).catch((function(t){return console.error("Failed to resize image",t)}))}},props:{transaction:Object},data:function(){return{emojiIndex:et,send:!1,toMatch:[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],isPhone:!0,heightUp:40,areaValue:"",ready:!1,text:"",exclude:["flags"],display_emoji:!1,content_height:26,pasted_data:[],upload:{multiple:!0,extensions:["image/jpg","image/jpeg","image/png"],images:{resize:{type:"fit"}}},hidden_previews:null}},creared:function(){},mounted:function(){this.$refs.textarea.focus(),this.isPhone=this.toMatch.some((function(t){return navigator.userAgent.match(t)})),this.$refs.textarea.style.height="26px"}},at=nt;function ot(t){var e=i("c9b0");e.__inject__&&e.__inject__(t)}var rt=Object(x["a"])(at,L,D,!1,ot,"5c7ca0b8",null,!0),ct=rt.exports,st=i("c46f"),dt=i("3db6"),lt="m.olm.v1.curve25519-aes-sha2",ut={name:"chatInput",props:{chat:Object,u:String},components:{InputField:ct},data:function(){return{image_file:{},encrypted:!1,upload:!0,test:[],loading:!1,text:"",file:{},fileInfo:{},ready:!1,needencrypt:!1,creating:!1,userId:"",menuItems:[{click:"cameraHandler",title:"Take photo or Video",icon:"fas fa-camera",upload:{multiple:!0,extensions:["jpg","jpeg","png"],images:{resize:{type:"fit"}}}},{click:"fileHandler",title:"Send File",icon:"fas fa-sticky-note",upload:{multiple:!0,images:{resize:{type:"fit"}}}}],anyUrlMeta:String,joinedMembers:[]}},watch:{usersForKeysHash:{handler:function(){console.log("downloadKeysHANDLER")}}},computed:Object(o["a"])(Object(o["a"])({},Object(s["c"])(["chats"])),{},{transaction:function(){return null},uusers:function(){return this.u?st["default"].map(this.u.split(","),(function(t){return t})):[]},ausers:function(){var t=this;return this.u?st["default"].map(this.u.split(","),(function(e){return t.core.user.matrixId(e)})):[]},stateChat:function(){var t=this.$route.query.id;return this.$store.state.chatsMap[t]},invited:function(){return this.chat?(this.encrypted=this.core.mtrx.client.isRoomEncrypted(this.chat.roomId),st["default"].map(st["default"].filter(this.chat.currentState.getMembers(),(function(t,e){return"invite"===t.membership})),(function(t){return t.userId}))):this.u?this.ausers:[]},joined:function(){if(!this.chat)return[];var t=this.chat.roomId,e=[];return st["default"].each(this.chats,(function(i){i.roomId===t&&i.members.forEach((function(t){"join"===t.membership&&e.push(t.userId)}))})),e}}),created:function(){},mounted:function(){console.log(this.core.mtrx.ready,"readyyyy"),this.ready=!0,this.chat||this.newchat()},methods:{wait:function(){var t=this;return this.$f.pretry((function(){return t.core.mtrx.client&&t.core.mtrx.access}))},sendtransaction:function(){var t=this.transaction;t({roomid:this.chat.roomId,address:""})},emitInputData:function(){this.$emit("emptyInput"),this.upload=!0},HideUploadPic:function(){this.upload=!1},emitUrl:function(t){this.$emit("setMetaUrl",t)},newchat:function(){var t=this;return Object(F["a"])(A.a.mark((function e(){var i,n,a;return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.u&&(t.$store.state.globalpreloader=!0,i=null,null,n=null,a="",t.creating=!0,t.core.user.usersInfo(t.uusers).then((function(e){a=t.core.mtrx.kit.tetatetid(e[0],t.core.user.userinfo),i=t.core.user.matrixId(e[0].id),t.core.user.matrixId(t.core.user.userinfo.id);var n=[{type:"m.set.encrypted",state_key:"",content:{encrypted:!0}}];return t.core.mtrx.client.createRoom({room_alias_name:a,visibility:"private",invite:[i],name:"#"+a,initial_state:n})})).then((function(e){n=e,t.$store.state.globalpreloader=!1,t.$emit("newchat",n);var a=t.core.mtrx.client.getRoom(e.room_id),o=a.currentState.getStateEvents("m.room.power_levels");return t.core.mtrx.client.setPowerLevel(n.room_id,i,100,o[0]).then((function(t){}))})).then((function(e){t.creating=!1})).catch((function(e){t.creating=!1,t.$store.state.globalpreloader=!1})));case 1:case"end":return e.stop()}}),e)})))()},maySendMessage:function(){return this.chat&&this.chat.maySendMessage()},greetings:function(){this.send("").then((function(t){return Promise.resolve(t)}))},sendinput:function(t,e){this.send(t.textContent).then((function(t){return Promise.resolve(t)}))},textCutLimit:function(t,e){return t=t.trim(),t.length<=e?t:(t=t.slice(0,e),t.trim()+"...")},send:function(t,e){var i=this,n=this.textCutLimit(t,1e3);return this.chat||this.newchat(),this.$emit("sending"),this.$refs["newinput"].focus(),this.$f.pretry((function(){return i.chat&&!i.creating})).then((function(e){return i.$emit("sent"),i.chat.pcrypto.canBeEncrypt()?i.chat.pcrypto.encryptEvent(t).then((function(t){return console.log("r",t),i.core.mtrx.client.sendEvent(i.chat.roomId,"m.room.message",t)})).catch((function(t){console.error("E",t)})):i.core.mtrx.client.sendMessage(i.chat.roomId,{body:n,msgtype:"m.text"})})).catch((function(t){}))},encryptMove:function(){var t=Object(F["a"])(A.a.mark((function t(e){var i,n,a,o,r,c,s;return A.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new Uint8Array(32),window.crypto.getRandomValues(i),t.next=4,dt["SIV"].importKey(i,"AES-SIV");case 4:return n=t.sent,a=(new TextEncoder).encode(e),o=new Uint8Array(a),r=new Uint8Array(32),window.crypto.getRandomValues(r),t.next=11,n.seal(o,r);case 11:return c=t.sent,s={body:U["a"]._arrayBufferToBase64(c.buffer),nonce:U["a"]._arrayBufferToBase64(r.buffer),key:U["a"]._arrayBufferToBase64(i.buffer),block:"1",msgtype:"m.encrypted"},t.abrupt("return",this.core.mtrx.client.sendEvent(this.chat.roomId,"m.room.message",s));case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),encrypt:function(){return this.core.mtrx.client.setRoomEncryption(this.chat.roomId,{algorithm:lt})},encryptIfNeed:function(){return Promise.resolve()},pasteImage:function(t){var e=this;fetch(t).then((function(t){return t.blob()})).then((function(t){return new File([t],"File name",{type:"image/png"})})).then((function(i){return e.image_file=i,e.$emit("previewImg",t),console.log("DATA",t),e.imageWH({base64:t}).then((function(n){return console.log("info"),e.sendImage({base64:t,file:i},n)}))})).catch((function(t){return console.log("error",t),t}))},sendImage:function(t,e){var i=this;this.$emit("sending"),this.$f.pretry((function(){return i.chat})).then((function(){return i.core.mtrx.uploadContent(t.file)})).then((function(t){return i.core.mtrx.client.sendImageMessage(i.chat.roomId,t,e,"Image"),i.$emit("previewImg",{}),i.encryptIfNeed()})).catch((function(t){}))},sendFile:function(t){var e=this;this.file=t.file,this.$emit("sending"),this.$f.pretry((function(){return e.chat})).then((function(){return e.core.mtrx.client.uploadContent(e.file)})).then((function(t){return Promise.resolve(e.core.mtrx.client.mxcUrlToHttp(t))})).then((function(t){e.fileInfo.url=t,e.fileInfo.name=e.file.name,e.fileInfo.size=e.file.size;var i=JSON.stringify(e.fileInfo);return e.core.mtrx.client.sendMessage(e.chat.roomId,{body:i,msgtype:"m.file"}),e.$emit("anyFileSend",{}),e.$emit("sent"),e.file={},e.encryptIfNeed()})).catch((function(t){}))},focus:function(){},blur:function(){},change:function(){},keyup:function(t){var e=t.target.value;""!==e?(this.$emit("inputClean",!0),this.text=e,this.anyUrlMeta=U["a"].getUrl(this.text),void 0!==this.anyUrlMeta?this.$emit("setMetaUrl",this.anyUrlMeta):this.$emit("inputClean",!1),this.chat&&this.core.mtrx.client.sendTyping(this.chat.roomId,!0,100)):this.$emit("inputClean",!1)},menuItemClickHandler:function(t,e){this[t.click](e)},menuItemLoadedHandler:function(t){return this.menuIsVisible=t,this.menuIsVisible},uploadStart:function(t,e){},uploadError:function(t,e){console.log("error",e),this.$store.commit("icon",{icon:"error",message:e.text})},getImg:function(){return this.imgs=!0},uploadSizeError:function(t){t||this.$refs.dropdownMenu.hidePopup()},uploadUploaded:function(t,e){var i=this,n=["image/gif","image/jpeg","image/png"];n.includes(e.file.type)?(this.$emit("previewImg",e),this.imageWH(e).then((function(t){return i.sendImage(e,t)})).catch((function(t){console.log("e",t)}))):(this.$emit("anyFileSend",e),this.sendFile(e))},imageWH:function(t){var e=new Image,i={};return new Promise((function(n,a){e.onload=function(){i.w=this.width,i.h=this.height,n(i)},e.onerror=function(t){a(t)},e.src=t.base64}))},uploadUploadedAll:function(t,e){this.$store.state.loading=!1,this.$refs.dropdownMenu.hidePopup()}}},ft=ut;function mt(t){var e=i("c95a");e.__inject__&&e.__inject__(t);var n=i("5238");n.__inject__&&n.__inject__(t);var a=i("0fb5");a.__inject__&&a.__inject__(t);var o=i("f307");o.__inject__&&o.__inject__(t)}var pt=Object(x["a"])(ft,z,W,!1,mt,"b292b408",null,!0),ht=pt.exports,vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatJoin"}},[t._m(0),i("chatPreview",{attrs:{usersinfo:t.usersinfo,chat:t.chat,m_chat:t.m_chat}}),t._m(1),i("div",{staticClass:"joinAction fixedOnPageBottom",class:{bin:t.pocketnet,bout:!t.pocketnet}},[i("div",{staticClass:"work"},[i("div",{staticClass:"actions"},[i("div",{staticClass:"action"},[i("button",{staticClass:"small button black rounded",on:{click:t.decline}},[t._v("Decline")])]),i("div",{staticClass:"action"},[i("button",{staticClass:"small button rounded",on:{click:t.join}},[t._v("Join")])])])])])],1)},_t=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"work"},[i("div",{staticClass:"caption"},[i("span",[t._v(" You were invited to chat with: ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tip"},[i("span",[t._v("You can join in chat or decline invitation")])])}],bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatPreview"},[i("div",{staticClass:"work"},[i("div",{staticClass:"previewWrapper"},[t.roomMembers?i("div",{staticClass:"users"},[i("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.convertedUsers,(function(e){return t._.isEmpty(e)?t._e():i("swiper-slide",{key:e["id"]},[i("div",{staticClass:"work"},[i("div",{staticClass:"userinfoWrapper"},[e.name?i("userView",{attrs:{userinfo:e}}):t._e()],1)])])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1):t._e()])])])},gt=[],xt=i("aa20"),yt=i("3094"),wt=i("42cd"),jt=i("7212"),kt=(i("bbe3"),i("0a63")),It={name:"chatPreview",props:{chat:Object,usersinfo:Array,room:{}},components:{userView:wt["a"],chatName:xt["a"],chatIcon:yt["a"],Swiper:jt["Swiper"],SwiperSlide:jt["SwiperSlide"],Carousel:kt["Carousel"],Slide:kt["Slide"]},data:function(){return{loading:!1,usersinfoLocal:[],swiperOption:{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0}},convertedUsers:[]}},computed:Object(s["c"])({auth:function(t){return t.auth},roomMembers:function(){var t=this,e=this,i=U["a"].getmatrixid(this.core.mtrx.client.credentials.userId),n=st["default"].map(e.chat.members,(function(t){return t.name}));return this.core.user.usersInfo(n).then((function(n){t.convertedUsers=st["default"].map(n,(function(t){var n={};return st["default"].map(e.chat.members,(function(a){return 2===e.chat.members.length&&t.id!==i&&a.name===t.id||e.chat.members.length>2&&a.name===t.id?n={id:t.id,name:t.name,image:t.image,status:a.status,source:t.source}:void 0})),n}))})).catch((function(t){console.log(t,"eeerror name")})),this.chat.members}})},Mt=It;function Ct(t){var e=i("39cc");e.__inject__&&e.__inject__(t);var n=i("42bf");n.__inject__&&n.__inject__(t);var a=i("6426");a.__inject__&&a.__inject__(t);var o=i("426d");o.__inject__&&o.__inject__(t)}var Et=Object(x["a"])(Mt,bt,gt,!1,Ct,"88277646",null,!0),Ot=Et.exports,Pt={name:"chatJoin",props:{chat:Object,m_chat:{},usersinfo:Array,room:Object},components:{chatPreview:Ot,Swiper:jt["Swiper"],SwiperSlide:jt["SwiperSlide"]},data:function(){return{loading:!1,joinedMembers:[]}},created:function(){},watch:{},computed:Object(s["c"])({auth:function(t){return t.auth},pocketnet:function(t){return t.pocketnet}}),mounted:function(){},methods:{join:function(){var t=this;this.core.mtrx.client.joinRoom(this.m_chat.roomId).then((function(){t.$emit("joined")}))},decline:function(){this.core.mtrx.client.leave(this.m_chat.roomId),this.$store.commit("DELETE_ROOM",this.chat.roomId),this.$router.go(-1)}}},$t=Pt;function St(t){var e=i("5ed0");e.__inject__&&e.__inject__(t);var n=i("99f3");n.__inject__&&n.__inject__(t);var a=i("734c");a.__inject__&&a.__inject__(t);var o=i("3780");o.__inject__&&o.__inject__(t);var r=i("c110");r.__inject__&&r.__inject__(t);var c=i("626b");c.__inject__&&c.__inject__(t)}var Rt=Object(x["a"])($t,vt,_t,!1,St,"a3c81526",null,!0),Bt=Rt.exports,zt=i("6603"),Wt={name:"chat",props:{chat:Object,u:String},components:{list:B,chatInput:ht,join:Bt,url:zt["a"]},data:function(){return{hoverEncrypt:!1,roomMuted:!1,loading:!1,ready:!1,usersinfo:[],chatEvents:{},imageEvent:{},prevImage:void 0,selectedImg:String,urlpreview:null,encrypted:!1,filePreview:{type:Object,default:function(){return{show:!1}}},anyFilePreview:{type:Object,default:function(){return{show:!1}}}}},created:function(){},mounted:function(){this.getuserinfo(),this.$store.commit("active",!0),this.$store.commit("blockactive",{value:!0,item:"chat"})},destroyed:function(){this.$store.commit("blockactive",{value:!1,item:"chat"}),this.$store.commit("SET_CURRENT_ROOM",!1)},watch:{m_chat:{immediate:!0,handler:function(){var t=this;this.m_chat&&!st["default"].isEmpty(this.m_chat)&&this.core.pcrypto.addroom(this.m_chat).then((function(e){t.ready=!0,t.encrypted=t.m_chat.pcrypto.canBeEncrypt()}))}},chat:{immediate:!0,handler:function(){this.chat?this.$store.commit("SET_CURRENT_ROOM",this.chat.roomId):this.$store.commit("SET_CURRENT_ROOM",!1)}}},computed:Object(s["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},auth:function(t){return t.auth},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==t&&(this.roomMuted=!0);var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},openInviteModal:function(){return this.openInviteModal}}),methods:{hidePreview:function(){this.urlpreview=null},newchat:function(t){this.$emit("newchat",t)},sending:function(){this.$emit("sending")},getuserinfo:function(){var t=this;this.u&&this.core.user.usersInfo(this.u).then((function(e){t.usersinfo=e}))},membership:function(){if(this.m_chat)return this.m_chat.getMyMembership()},closing:function(t){this.PNmetaPreview=t},usersinfoNames:function(){return st["default"].map(this.usersinfo,(function(t){return t.name})).join(", ")},openImgM:function(t){this.selectedImg=t},getFilePreview:function(t){this.filePreview=t},anyFileData:function(t){this.anyFilePreview.name=t.file.name,this.anyFilePreview.size=t.file.size},chatUrlHandler:function(t){this.urlpreview=t},events:function(t){this.$emit("getEvents",t),this.chatEvents=t},galleryImage:function(t){console.log("E",t),this.core.store.dispatch("SHOW_GALLERY_FROMEVENTS",{events:this.chatEvents,event:t})}}},Ft=Wt;function Tt(t){var e=i("9774");e.__inject__&&e.__inject__(t);var n=i("461d");n.__inject__&&n.__inject__(t);var a=i("039b");a.__inject__&&a.__inject__(t);var o=i("f038");o.__inject__&&o.__inject__(t)}var At=Object(x["a"])(Ft,r,c,!1,Tt,"4854ce66",null,!0),Ut=At.exports,Lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatTopheader"}},[t.chat||t.u?i("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[i("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[t.chat?i("router-link",{attrs:{to:"chatInfo?id="+t.chat.roomId}},[t.m_chat?i("div",[i("div",{staticClass:"nameWrapper"},[t.roomInfo?t._e():i("chatName",{attrs:{preview:!0,chat:t.chat,m_chat:t.m_chat}}),t.roomMuted?i("div",{staticClass:"roomMuted"},[i("i",{staticClass:"fas fa-bell-slash"})]):t._e()],1),i("transition",{attrs:{name:"fade"}},[t.m_chat_typing?i("chatTyping"):t._e()],1)],1):t._e(),!t.m_chat&&t.userinfo?i("div",[i("span",{staticClass:"nameline"},[t._v(t._s(t.userinfo.name))])]):t._e()]):t._e()]},proxy:!0},{key:"right",fn:function(){return[t.chat?i("router-link",{attrs:{to:"chatInfo?id="+t.chat.roomId}},[i("div",{staticClass:"iconbutton"},[i("i",{staticClass:"fas fa-ellipsis-h"})])]):t._e()]},proxy:!0}],null,!1,739412723)}):t._e(),t.donateUserOpened?i("modal",{on:{close:t.closeDonateModal},scopedSlots:t._u([{key:"header",fn:function(){return[i("span",[t._v("Donate")])]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"donationModalBody"},[i("span",[t._v("Source")]),i("input",{staticClass:"disabled",attrs:{type:"text",value:"Account Address",disabled:!0}}),i("span",[t._v("Amount")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.donationAmount,expression:"donationAmount",modifiers:{number:!0}}],attrs:{type:"number",disabled:t.sending},domProps:{value:t.donationAmount},on:{keyup:function(e){return t.resetDonation()},input:function(e){e.target.composing||(t.donationAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",[t._v("Receiver")]),i("input",{staticClass:"disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.receiver?t.receiver.name:""}}),i("span",[t._v("Message")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.donationMessage,expression:"donationMessage"}],attrs:{type:"text",placeholder:"Your message",disabled:t.sending},domProps:{value:t.donationMessage},on:{input:function(e){e.target.composing||(t.donationMessage=e.target.value)}}}),t.showFeesError&&"money"==t.showFeesError?i("span",{staticClass:"error"},[t._v("Balance too low")]):t.showFeesError?i("span",{staticClass:"error"},[t._v("Error, can't calculate the fees")]):t._e(),1!=t.calculatingFees?i("button",{staticClass:"button small",attrs:{disabled:!t.donationAmount||null!=t.calculatedFees},on:{click:t.onCalculateFeesClick}},[i("i",{staticClass:"fas fa-chevron-circle-right"}),t._v(" Calculate Fees ")]):t._e(),1==t.calculatingFees?i("div",{staticClass:"linepreloader"},[i("linepreloader")],1):t._e()]),null!=t.calculatedFees?i("div",{staticClass:"donationModalBody"},[i("span",[t._v("Include Fees in Amount")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.feesDirection,expression:"feesDirection"}],attrs:{disabled:t.sending},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.feesDirection=e.target.multiple?i:i[0]}}},t._l(t.feesDirectionPossibleValues,(function(e){return i("option",{domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),i("span",[t._v("Transaction Fees")]),i("input",{staticClass:"disabled",attrs:{type:"number",disabled:!0},domProps:{value:t.calculatedFees}}),i("span",[t._v("Total amount")]),i("span",{staticClass:"totalAmount"},[t._v(t._s(+t.totalDonationAmount.toFixed(5))+" PKOIN")]),t.showTransactionError&&"balance too low"==t.showTransactionError?i("span",{staticClass:"error"},[t._v("Balance too low")]):t.showTransactionError?i("span",{staticClass:"error"},[t._v("Error, can't make the transaction")]):t._e(),1!=t.sending?i("button",{staticClass:"button small",attrs:{disabled:t.sending},on:{click:t.sendDonation}},[i("i",{staticClass:"fas fa-arrow-alt-circle-right"}),t._v(" Send ")]):t._e(),1==t.sending?i("div",{staticClass:"linepreloader"},[i("linepreloader")],1):t._e()]):t._e()]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,3274686846)}):t._e()],1)},Dt=[],Nt=(i("a79d"),i("0826")),Ht=i("71da"),Vt={name:"chatTopheader",props:{chat:Object,u:String,roomInfo:!1,aboutUser:!1},components:{chatName:xt["a"],chatIcon:yt["a"],chatTyping:Nt["a"],contacts:Ht["a"]},data:function(){return{menuItems:[{click:"callupVideoHandler",title:"Video Call",icon:"fas fa-camera"},{click:"callupHandler",title:"Call",icon:"fas fa-phone"}],menuItemsRoom:[{click:"AddMember",title:"Add",icon:"fas fa-user-plus"},{click:"MuteRoom",title:"Mute",icon:"fas fa-bell-slash"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"}],menuItemsRoomMuted:[{click:"AddMember",title:"Add",icon:"fas fa-user-plus"},{click:"MuteRoom",title:"UnMute",icon:"fas fa-bell"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"}],oneToOne:[{click:"MuteRoom",title:"Mute",icon:"fas fa-bell-slash"},{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],oneToOneMuted:[{click:"MuteRoom",title:"UnMute",icon:"fas fa-bell"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"},{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],donateMenu:[{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],loading:!1,typing:!1,userinfo:null,aboutUserShow:!1,roomBanned:!1,roomMuted:!1,donateUserOpened:!1,receiver:null,donationAmount:0,donationMessage:"",calculatedFees:null,showFeesError:"",showTransactionError:"",calculatingFees:!1,sending:!1,feesDirection:"include",feesDirectionPossibleValues:[{value:"include",label:"To be paid by Receiver"},{value:"exclude",label:"To be paid by Sender"}]}},watch:{},mounted:function(){this.getuserinfo()},computed:Object(s["c"])({auth:function(t){return t.auth},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==t&&(this.roomMuted=!0);var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},m_chat_typing:function(){var t=this;if(!this.chat)return!1;var e=this.chat.roomId,i=this.$store.state.typing[e]||{},n=_.find(i,(function(e,i){var n;if(e)return i!=(null===(n=t.core.user.userinfo)||void 0===n?void 0:n.id)}));return n||!1},totalDonationAmount:function(){return"include"==this.feesDirection?this.donationAmount:this.donationAmount+this.calculatedFees}}),methods:{navigateToProfile:function(t){this.$router.push({path:"/contact?id=".concat(U["a"].getmatrixid(t))})},getuserinfo:function(){var t=this;this.u&&this.core.user.usersInfo(this.u).then((function(e){t.userinfo=e[0]}))},findOtherUser:function(){var t,e=this.m_chat.myUserId,i=this.m_chat.currentState.getMembers();return i.forEach((function(i){i&&i.userId!==e&&(t=i)})),t},addMember:function(){this.modalInviteUser()},menuItemClickHandler:function(t,e){var i=this;if("AddMember"===t.click&&(this.$emit("addMember",!0),this.$refs.dropdownMenu.hidePopup()),"MuteRoom"===t.click){var n=this.chat.roomId,a=(this.core.mtrx.client.deviceId,this),o=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==o?(a.core.mtrx.client.deletePushRule("global","room",n),this.roomMuted=!1):(a.core.mtrx.client.setRoomMutePushRule("global",n,"true"),this.roomMuted=!0),this.$refs.dropdownMenu.hidePopup()}if("LeaveFromRoom"===t.click){this.core.mtrx.client.leave(this.chat.roomId).then((function(t){i.core.mtrx.client.forget(i.chat.roomId,!0).then((function(t){i.$store.commit("DELETE_ROOM",i.chat.roomId)})).then((function(t){i.$router.push({path:"/chats"})}))})),this.$refs.dropdownMenu.hidePopup()}if("BanRoom"===t.click){var r="",c=this.findOtherUser();c&&c.userId&&(r=c.userId);var s=this.chat.roomId;this.core.mtrx.client.ban(s,r,"ban").then((function(t){})),this.roomBanned=!0,this.$refs.dropdownMenu.hidePopup()}if("Unban"===t.click){var d="",l=this.findOtherUser();l&&l.userId&&(d=l.userId),this.core.mtrx.client.unban(this.chat.roomId,d).then((function(t){i.core.mtrx.client.invite(i.chat.roomId,d)})),this.roomBanned=!1,this.$refs.dropdownMenu.hidePopup()}if("Donate"===t.click){this.donateUserOpened=!0,this.$refs.dropdownMenu.hidePopup();var u=this.findOtherUser();this.receiver=u?this.$f.deep(this,"$store.state.users."+this.$f.getmatrixid(u.name)):null}},closeDonateModal:function(){this.donateUserOpened=!1},onCalculateFeesClick:function(){var t=this;this.calculatingFees=!0,this.calculateFees().finally((function(){return t.calculatingFees=!1}))},calculateFees:function(){var t=this,e=this;return this.showFeesError="",new Promise((function(i,n){if(t.donationAmount<=0||!t.receiver||!t.receiver.source||!t.receiver.source.address)return t.showFeesError="invalid",n("Missing amount or receiver");try{var a=window.POCKETNETINSTANCE.platform.sdk;a.node.fee.estimate((function(t){var o=[{address:e.receiver.source.address,amount:e.donationAmount}];a.wallet.txbase([a.address.pnet().address],o,0,e.feesDirection,(function(o,r,c){if(o)return console.error(o),e.showFeesError=o,n(o);var s=a.node.transactions.create.wallet(r,c),d=Math.min(s.virtualSize()*t.feerate,.0999);return e.calculatedFees=d,i()}))}))}catch(o){return console.error(o),e.showFeesError=o,n(o)}}))},sendDonation:function(){var t=this;return Object(F["a"])(A.a.mark((function e(){var i,n;return A.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,t.sending=!0,t.showTransactionError="",e.prev=3,e.next=6,t.calculateFees();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e["catch"](3),t.showTransactionError="error",t.sending=!1,e.abrupt("return");case 13:n=window.POCKETNETINSTANCE.platform.sdk,n.node.transactions.get.canSpend(n.address.pnet().address,(function(t){if(!t||isNaN(t)||t<i.totalDonationAmount)return i.showTransactionError="balance too low",void(i.sending=!1);try{var e=[{address:i.receiver.source.address,amount:i.donationAmount}];n.wallet.embed(e,i.donationMessage),n.wallet.txbase([n.address.pnet().address],e,i.calculatedFees,i.feesDirection,(function(t,e,a){if(t)return console.error(t),i.showTransactionError="error",i.sending=!1,reject(t);var o=n.node.transactions.create.wallet(e,a);e.forEach((function(t){t.cantspend=!0})),n.node.transactions.send(o,(function(t,o){if(o)return n.node.transactions.releaseCS(e),i.showTransactionError="error",void(i.sending=!1);var r=e.map((function(t){return t.txid}));n.node.transactions.clearUnspents(r),n.wallet.saveTempInfoWallet(t,e,a),i.core.mtrx.client.sendEvent(i.chat.roomId,"m.room.message",{from:i.$f.getmatrixid(i.m_chat.myUserId),to:i.receiver.id,amount:i.donationAmount,txId:t,msgtype:"m.notice"},""),i.closeDonateModal()}))}))}catch(a){console.error(a),i.showTransactionError="error",i.sending=!1}}));case 15:case"end":return e.stop()}}),e,null,[[3,8]])})))()},resetDonation:function(){this.calculatedFees=null,this.showFeesError="",this.showTransactionError=""}}},Kt=Vt;function Jt(t){var e=i("e411");e.__inject__&&e.__inject__(t);var n=i("6972");n.__inject__&&n.__inject__(t);var a=i("7b69");a.__inject__&&a.__inject__(t);var o=i("e67c");o.__inject__&&o.__inject__(t)}var Yt=Object(x["a"])(Kt,Lt,Dt,!1,Jt,"b9f8e6da",null,!0),qt=Yt.exports,Gt={name:"pagechat",components:{chat:Ut,topheader:qt,contacts:Ht["a"]},data:function(){return{roomInfo:!1,m_chat:{},events:[],openInviteModal:!1}},computed:Object(o["a"])({u:function(){return this.$route.query.u},chat:function(){var t=this.$route.query.id;return this.$store.state.chatsMap[t]}},Object(s["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized}})),mounted:function(){},methods:{closeModal:function(){this.openInviteModal=!1},closeContactModal:function(t){this.openInviteModal=t},addMemberModal:function(t){this.openInviteModal=t},newchat:function(t){},sending:function(){},eventsRoom:function(t){this.events=t}}},Xt=Gt;function Qt(t){var e=i("2122");e.__inject__&&e.__inject__(t)}var Zt=Object(x["a"])(Xt,n,a,!1,Qt,"2120d13f",null,!0);e["default"]=Zt.exports},ee99:function(t,e,i){var n=i("5bd3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("3c072542",n,t)}},f038:function(t,e,i){"use strict";i.r(e);var n=i("f135");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},f135:function(t,e,i){var n=i("11eb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("50a2c5fe",n,t)}},f174:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .caption span[data-v-a3c81526]{color:#005ae0}#matrix-root[theme=white] .joinAction[data-v-a3c81526]{background:#ececec}#matrix-root[theme=white] .my-swipe[data-v-a3c81526]{color:#fff}#matrix-root[theme=white] .slide1[data-v-a3c81526]{background-color:#0089dc;color:#fff}#matrix-root[theme=white] .slide2[data-v-a3c81526]{background-color:#ffd705;color:#000}#matrix-root[theme=white] .slide3[data-v-a3c81526]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},f307:function(t,e,i){"use strict";i.r(e);var n=i("cb17");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},f9f8:function(t,e,i){var n=i("33cc");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("9107c41c",n,t)}}}]);
//# sourceMappingURL=matrix-element.1.min.js.map