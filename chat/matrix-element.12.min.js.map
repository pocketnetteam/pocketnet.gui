{"version":3,"sources":["webpack:///./src/components/assets/recordProgress/index.scss?99b6","webpack:///./src/components/chat/input/index.sass?2408","webpack:///./src/components/assets/recordVoice/index.scss","webpack:///./src/components/chat/input/index.sass","webpack:///./src/components/chat/input/InputField/InputField.vue?e702","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?da2f","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?61be","webpack:///./src/components/chat/input/InputField/InputField.vue?1080","webpack:///./src/components/assets/recordVoice/index.scss?44d4","webpack:///./src/components/utils/ModalWindow.vue?1964","webpack:///./src/components/contacts/list/index.sass?39f2","webpack:///./src/components/chat/input/index.sass?04ac","webpack:///./src/components/contacts/list/index.sass?c803","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?c6d5","webpack:///./src/components/chat/input/InputField/InputField.vue?bdf5","webpack:///./src/components/utils/ModalWindow.vue?ebc0","webpack:///./src/components/chat/input/InputField/InputField.vue?3afa","webpack:///./src/components/assets/recordVoice/index.scss?1dd5","webpack:///./src/components/contacts/list/index.sass","webpack:///./src/components/chat/input/InputField/InputField.vue?d97b","webpack:///./src/components/chat/input/InputField/InputField.vue?c60a","webpack:///./src/components/assets/recordProgress/index.scss","webpack:///./src/components/utils/ModalWindow.vue?575c","webpack:///./src/components/assets/recordProgress/index.scss?5906","webpack:///./src/components/contacts/list/index.vue","webpack:///./src/components/utils/ModalWindow.vue","webpack:///src/components/utils/ModalWindow.vue","webpack:///./src/components/utils/ModalWindow.vue?dbf6","webpack:///./src/components/utils/ModalWindow.vue?f1da","webpack:///./src/components/contacts/list/index.js","webpack:///./src/components/contacts/list","webpack:///./src/components/contacts/list/index.vue?39c8","webpack:///./src/components/chat/input/index.vue","webpack:///./src/components/chat/input/InputField/InputField.vue","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue","webpack:///src/components/chat/input/picturePreview/picturePreview.vue","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?3bda","webpack:///./src/components/chat/input/picturePreview/picturePreview.vue?5cb9","webpack:///src/components/chat/input/InputField/InputField.vue","webpack:///./src/components/chat/input/InputField/InputField.vue?3335","webpack:///./src/components/chat/input/InputField/InputField.vue?e642","webpack:///./src/components/assets/recordVoice/index.vue","webpack:///./src/components/assets/recordVoice/index.js","webpack:///./src/components/assets/recordVoice","webpack:///./src/components/assets/recordVoice/index.vue?d406","webpack:///./src/components/assets/recordProgress/index.vue","webpack:///./src/components/assets/recordProgress/index.js","webpack:///./src/components/assets/recordProgress","webpack:///./src/components/assets/recordProgress/index.vue?b74b","webpack:///./src/components/chat/input/index.js","webpack:///./src/components/chat/input","webpack:///./src/components/chat/input/index.vue?f6fe"],"names":["content","__esModule","default","module","i","locals","exports","add","__inject__","shadowRoot","___CSS_LOADER_API_IMPORT___","push","render","_vm","this","_c","_self","_setupProxy","staticClass","class","minimized","attrs","users","scopedSlots","_u","key","fn","item","mode","on","$event","navigateToProfile","id","_e","toggleUser","selected","staticRenderFns","_v","_s","message","close","name","props","methods","injectStyles","context","style0","component","data","loading","components","preview","ModalWindow","type","String","Array","Object","title","watch","computed","mapState","auth","state","mapActions","select","contact","$emit","$router","path","catch","e","mounted","ready","chat","donate","tipusers","length","_l","user","tipuserindex","insertuser","voiceEnable","isRecording","record","recordTime","recordRmsData","cancelOpacity","clear","ref","roomId","me","sendinput","emitInputData","HideUploadPic","pasteImage","focused","tipBySearch","browsetip","selectcurrenttip","sendtransactionWrapper","streamMode","upload","extended","showinputmenu","directives","rawName","value","expression","prepareRecording","microphoneDisabled","initRecording","stopRecording","setOpacity","sendVoiceMessage","_m","removetransaction","$t","domProps","text","blured","keydown","textchange","keyup","paste_image","mobile","emojiIndex","display_emoji","close_emoji_picker","style","width","position","bottom","right","left","fontSize","fontFamily","exclude","insert_emoji","toggle_emoji_picker","donateAction","send","send_text","is_opened","base64","hide","Picker","picturePreview","clickOutside","inject","immediately","handler","content_height","pasted_data","block","multiple","extensions","images","resize","hidden_previews","prepareemoji","window","setText","setTimeout","savetextinstorage","localStorage","send_empty_array","focus","blur","blurifempty","textarea_resize","textarea_resize_reset","get_base64","reader","confirm","okText","cancelText","then","resize_image","autorotation","getsearchposition","start","middle","end","sposition","br","dg","getsearch","event","inserttip","f","storagekey","creared","style1","hold","isHold","active","disabled","mousedown","mouseup","handleTouchStart","handleTouchEnd","recordEnd","Boolean","required","direction","beforeDestroy","document","removeEventListener","handleMove","cancel","Y","changedTouches","pageY","X","pageX","addEventListener","sendnow","clearStyle","$refs","toggle","transform","classList","remove","holder","deltaY","deltaX","contains","recording","timer","opacity","Number","rmsData","minute","Math","floor","sec","rmsDataLast","_","last","throttle","draw","graph","offsetWidth","re","canvas","ctx","getContext","count","l","c","max","clearRect","fillStyle","fillRect","u","relationEvent","InputField","contacts","recordProgress","recordVoice","test","file","fileInfo","creating","userId","showuserselect","anyUrlMeta","joinedMembers","tipvalue","mediaRecorder","audioContext","audioAnalyser","interval","cancelledCordovaMediaRecorder","usersForKeysHash","$store","voiceMessagesEnabled","connect","pkoindisabled","menu","menuItems","POCKETNETINSTANCE","supportimagegallery","action","cameraHandlerCustom","icon","maxsize","uploadStart","error","uploadError","uploaded","uploadUploaded","uploadedAll","uploadUploadedAll","transaction","unshift","userlist","core","mtrx","chatUsersInfo","deep","uusers","map","split","ausers","matrixId","stateChat","$route","query","chatsMap","invited","filter","currentState","getMembers","m","v","membership","joined","arr","forEach","toLowerCase","indexOf","maintipuser","authorId","userinfo","source","address","created","client","newchat","Promise","resolve","wait","$f","pretry","access","increase","showuserselected","resizeImage","ftype","Images","reject","result","platform","ui","uploadImage","Base64","toFile","console","onSuccess","imgs","j","getmatrixid","r","store","commit","caption","$i18n","t","userselected","sendtransaction","api","roomid","receiver","share","emitUrl","url","globalpreloader","usersInfo","info","_info","keys","kit","tetatetid","initialstate","state_key","encrypted","createRoom","room_alias_name","visibility","invite","initial_state","_chat","m_chat","getRoom","room_id","getStateEvents","setPowerLevel","greetings","errcode","joinRoom","baseUrl","replace","maySendMessage","textCutLimit","limit","trim","slice","replaceMentions","each","RegExp","clbkEncrypt","clbkEncrypted","textEvent","encryptEvent","encryptedEvent","rel_type","event_id","clearEventId","makeid","editEvent","body","msgtype","decryptKey","decrypted","sendEvent","dispatch","sendText","params","sendtext","assign","relation","txid","donateLink","sendImage","meta","aborted","canencryptfilesize","s","pcrypto","canBeEncrypt","size","$dialog","dialog","sendFile","notenc","change","evt","target","getUrl","undefined","sendTyping","files","getImg","uploadSizeError","validImageTypes","includes","imageWH","img","Image","imgInfo","onload","w","h","height","onerror","src","catchPermissonsError","err","toString","cordova","getFileIosCordova","resolveLocalFileSystemURL","entry","FileReader","onloadend","blob","Blob","Uint8Array","readAsArrayBuffer","initRecordingCordova","cancelable","media","permissions","audio","isios","getAudioContext","cordovaMediaRecorder","Media","release","fu","externalDataDirectory","duration","createVoiceMessage","finally","rmsdata","currentPlaying","currentPlayingVoiceMessage","pause","setInterval","clone","getCurrentAmplitude","amp","log","startRecord","initMediaRecorder","recorder","stream","getTracks","track","stop","createAnalyser","createMediaStreamSource","startRecording","dataArray","frequencyBinCount","getByteFrequencyData","generateRms","checkaudioForSend","getduration","readFile","arraybuffer","decodeAudioData","buffer","frequencies","sqrt","reduce","a","b","toPrecision","clearInterval","hasdata","stopRecord","convertAudioToBase64","sendAudio","menuState","set","items"],"mappings":"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","file":"matrix-element.12.min.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"5ba85ea0\", content, shadowRoot)\n};","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"11860d5d\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".recordButton_wrapper[data-v-16750db8]{position:relative}.recordButton_holder[data-v-16750db8]{visibility:hidden;position:absolute;display:flex;justify-content:center;align-items:center;height:16px;width:16px;background:#789;border-radius:50%;bottom:98px;transition:.1s;right:9px}.recordButton_holder .icon[data-v-16750db8]{color:#fff;font-size:7px}.recordButton_holder.active[data-v-16750db8]{visibility:visible}.recordButton_holder.hold[data-v-16750db8]{background:#789;visibility:visible;bottom:38px}.recordButton_holder.hold .icon[data-v-16750db8]{color:#fff}.recordButton_main[data-v-16750db8]{padding-top:1px;touch-action:none;display:flex;align-items:center;justify-content:center;width:35px;height:35px;line-height:35px!important;background:transparent;border-radius:50%;outline:none;position:relative}.recordButton_main.active[data-v-16750db8]{background:rgb(var(--color-bg-ac));animation:pulse-16750db8 1.2s infinite}.recordButton_main.active .icon[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color))}.recordButton_main.active[data-v-16750db8]:before{position:absolute;left:-30px;bottom:-30px;right:-30px;top:-30px;content:\\\"\\\";border-radius:50%;border:35px solid rgba(var(--color-bg-ac),.5);animation:pulse-16750db8 1.2s infinite}.recordButton_main.disabled .icon[data-v-16750db8]{color:rgb(var(--neutral-grad-2))}.recordButton_main.outside[data-v-16750db8],.recordButton_stop[data-v-16750db8]{background:rgb(var(--color-bad))}.recordButton_stop[data-v-16750db8]{color:rgb(var(--text-on-bg-shadow-color));font-size:.7em}@keyframes pulse-16750db8{0%{opacity:1}50%{opacity:.8}to{opacity:1}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"#chatInput[data-v-efa2321a]{padding-bottom:.5em}[data-v-efa2321a] #modal.minimized .modal-wrapper{left:0}[data-v-efa2321a] .previewWrapper{padding-left:.5em!important;padding-right:.5em!important}.inputWrapper[data-v-efa2321a]{display:flex;position:relative}.inputWrapper .left[data-v-efa2321a]{width:35px;display:flex;justify-content:flex-end;align-items:center;text-align:center}.inputWrapper .left.donation+.center[data-v-efa2321a]{margin:0 0 0 .25em}.inputWrapper .left .iconbutton[data-v-efa2321a]{display:flex;align-items:center;justify-content:center;height:35px;width:35px;-webkit-tap-highlight-color:transparent}.inputWrapper .left .iconbutton.donate[data-v-efa2321a]{border:1px solid rgba(var(--neutral-grad-0),.9);border-radius:12px}.inputWrapper .left .icon.donate[data-v-efa2321a]{background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNy4yNTggMS45NzlMMTUuMTgyIDBsLTIuNDU3IDIuNTc5YTcuODUgNy44NSAwIDAwLTQuMDk2LTEuMTQ1Yy0xLjMwMiAwLTIuNTMuMzE1LTMuNjEyLjg3NEwyLjgxNyAwIC43NDIgMS45OCAyLjc0IDQuMDc1QTcuODU4IDcuODU4IDAgMDAuNzQxIDkuMzIxYzAgMS44NTQuNjQgMy41NTkgMS43MSA0LjkwNWwtMS43MSAxLjc5NUwyLjgxOCAxOGwxLjc5OC0xLjg4N2E3Ljg1MiA3Ljg1MiAwIDAwNC4wMTMgMS4wOTYgNy44NSA3Ljg1IDAgMDA0LjQ3NC0xLjM5TDE1LjE4MiAxOGwyLjA3Ni0xLjk3OS0yLjEyNy0yLjIzM2E3Ljg1IDcuODUgMCAwMDEuMzg2LTQuNDY3YzAtMS44Mi0uNjE3LTMuNDk2LTEuNjUyLTQuODNsMi4zOTMtMi41MTJ6TTMuNTU1IDkuMzJhNS4wNzQgNS4wNzQgMCAxMDEwLjE0OCAwIDUuMDc0IDUuMDc0IDAgMDAtMTAuMTQ4IDB6IiBmaWxsPSIjMDBBNEZGIi8+PC9zdmc+) no-repeat 50% 50%;background-size:contain;flex:1;font-size:1em;text-indent:-9999px;overflow:hidden}.inputWrapper .extended[data-v-efa2321a]{width:70px;margin-left:7px}.inputWrapper .leftdummy[data-v-efa2321a]{width:.5em}.inputWrapper>div[data-v-efa2321a]{transition:.3s}.inputWrapper .center[data-v-efa2321a]{max-height:110px;max-width:100%;display:flex;justify-content:space-between;align-items:center;flex-grow:1;border:1px solid transparent;border-radius:30px;background:rgb(var(--background-main))}.inputWrapper input[data-v-efa2321a]{border:1px solid rgb(var(--neutral-grad-0));background:rgba(var(--background-main),.5);border-radius:30px;width:100%;padding:.5em 1em}.notready[data-v-efa2321a],.waitjoined[data-v-efa2321a]{padding:.5em 0;text-align:center}.waitjoined span[data-v-efa2321a]{font-size:.8em}.greetings[data-v-efa2321a]{padding:.5em 0}.greetings[data-v-efa2321a],[data-v-efa2321a] .iconWrapper{text-align:center}.menu-item[data-v-efa2321a]{padding:.5em;background:rgb(var(--background-total-theme));line-height:44px;border-radius:5px;display:flex}.menu-item .title[data-v-efa2321a]{flex-grow:2;padding-right:44px;text-align:center}.menu-item .iconWrapper[data-v-efa2321a]{width:44px}.tipusers[data-v-efa2321a]{position:absolute;max-height:300px;border-radius:.5em;border:1px solid rgba(var(--neutral-grad-0),.9);overflow-y:overlay;background-color:rgba(var(--background-total-theme),.95);backdrop-filter:blur(4px);-webkit-backdrop-filter:blur(4px);padding:.25em 0;bottom:100%;margin-bottom:.5em;left:.25em;right:.25em}.tipusers .previewWrapperExt[data-v-efa2321a]{border-radius:.75em;margin-left:.25em;margin-right:.25em;padding-top:.25em;padding-bottom:.25em}.tipusers .previewWrapperExt[data-v-efa2321a] .previewWrapper{padding-left:.25em!important;padding-right:.25em!important}.tipusers .previewWrapperExt.selected[data-v-efa2321a]{background:rgb(var(--background-main))}.disabled[data-v-efa2321a]{display:flex;justify-content:center;align-items:center;width:35px;height:35px;color:rgb(var(--neutral-grad-3))}.disabled i[data-v-efa2321a]{padding-top:1px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=0&id=7d91b437&prod&scoped=true&lang=sass&\"","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"74bf3874\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".emoji-mart,.emoji-mart *{box-sizing:border-box;line-height:1.15}.emoji-mart{font-family:-apple-system,BlinkMacSystemFont,Helvetica Neue,sans-serif;font-size:16px;display:flex;flex-direction:column;height:420px;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff}.emoji-mart-emoji{padding:6px;border:none;background:none;box-shadow:none}.emoji-mart-emoji span{display:inline-block}.emoji-mart-preview-emoji .emoji-mart-emoji span{width:38px;height:38px;font-size:32px}.emoji-type-native{font-family:Segoe UI Emoji,Segoe UI Symbol,Segoe UI,Apple Color Emoji,Twemoji Mozilla,Noto Color Emoji,EmojiOne Color,Android Emoji;word-break:keep-all}.emoji-type-image{background-size:5700%}.emoji-type-image.emoji-set-apple{background-image:url(https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png)}.emoji-type-image.emoji-set-facebook{background-image:url(https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png)}.emoji-type-image.emoji-set-google{background-image:url(https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png)}.emoji-type-image.emoji-set-twitter{background-image:url(https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png)}.emoji-mart-bar{border:0 solid #d9d9d9}.emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px}.emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.emoji-mart-scroll{position:relative;overflow-y:scroll;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-anchors{display:flex;flex-direction:row;justify-content:space-between;padding:0 6px;color:#858585;line-height:0}.emoji-mart-anchor{position:relative;display:block;flex:1 1 auto;text-align:center;padding:12px 4px;overflow:hidden;transition:color .1s ease-out;border:none;background:none;box-shadow:none}.emoji-mart-anchor-selected,.emoji-mart-anchor:hover{color:#464646}.emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0}.emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646}.emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px}.emoji-mart-anchors svg{fill:currentColor;max-height:18px}.emoji-mart .scroller{height:250px;position:relative;flex:1;padding:0 6px 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-search{margin-top:6px;padding:0 6px}.emoji-mart-search input{font-size:16px;display:block;width:100%;padding:.2em .6em;border-radius:25px;border:1px solid #d9d9d9;outline:0}.emoji-mart-search-results{height:250px;overflow-y:scroll}.emoji-mart-category{position:relative}.emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default}.emoji-mart-category .emoji-mart-emoji:hover:before,.emoji-mart-emoji-selected:before{z-index:0;content:\\\"\\\";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;opacity:0;opacity:1}.emoji-mart-category-label{position:sticky;top:0}.emoji-mart-static .emoji-mart-category-label{z-index:2;position:relative}.emoji-mart-category-label h3{display:block;font-size:16px;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:hsla(0,0%,100%,.95)}.emoji-mart-emoji{position:relative;display:inline-block;font-size:0}.emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585}.emoji-mart-no-results .emoji-mart-category-label{display:none}.emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em}.emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none}.emoji-mart-preview{position:relative;height:70px}.emoji-mart-preview-data,.emoji-mart-preview-emoji,.emoji-mart-preview-skins{position:absolute;top:50%;transform:translateY(-50%)}.emoji-mart-preview-emoji{left:12px}.emoji-mart-preview-data{left:68px;right:12px;word-break:break-all}.emoji-mart-preview-skins{right:30px;text-align:right}.emoji-mart-preview-name{font-size:14px}.emoji-mart-preview-shortname{font-size:12px;color:#888}.emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em}.emoji-mart-preview-emoticon{font-size:11px;color:#bbb}.emoji-mart-title span{display:inline-block;vertical-align:middle}.emoji-mart-title .emoji-mart-emoji{padding:0}.emoji-mart-title-label{color:#999a9c;font-size:21px;font-weight:300}.emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch{width:16px;padding:0 2px}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after{opacity:.75}.emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;transition-property:width,padding;transition-duration:.125s;transition-timing-function:ease-out}.emoji-mart-skin-swatch:first-child{transition-delay:0s}.emoji-mart-skin-swatch:nth-child(2){transition-delay:.03s}.emoji-mart-skin-swatch:nth-child(3){transition-delay:.06s}.emoji-mart-skin-swatch:nth-child(4){transition-delay:.09s}.emoji-mart-skin-swatch:nth-child(5){transition-delay:.12s}.emoji-mart-skin-swatch:nth-child(6){transition-delay:.15s}.emoji-mart-skin-swatch-selected{position:relative;width:16px;padding:0 2px}.emoji-mart-skin-swatch-selected:after{content:\\\"\\\";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;transition:opacity .2s ease-out}.emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%}.emoji-mart-skin-tone-1{background-color:#ffc93a}.emoji-mart-skin-tone-2{background-color:#fadcbc}.emoji-mart-skin-tone-3{background-color:#e0bb95}.emoji-mart-skin-tone-4{background-color:#bf8f68}.emoji-mart-skin-tone-5{background-color:#9b643d}.emoji-mart-skin-tone-6{background-color:#594539}.emoji-mart .vue-recycle-scroller{position:relative}.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode){overflow-y:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode){overflow-x:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal{display:flex}.emoji-mart .vue-recycle-scroller__slot{flex:auto 0 0}.emoji-mart .vue-recycle-scroller__item-wrapper{flex:1;box-sizing:border-box;overflow:hidden;position:relative}.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view{position:absolute;top:0;left:0;will-change:transform}.emoji-mart .vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper{width:100%}.emoji-mart .vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper{height:100%}.emoji-mart .vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view{width:100%}.emoji-mart .vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view{height:100%}.emoji-mart .resize-observer[data-v-b329ee4c]{border:none;background-color:transparent;opacity:0}.emoji-mart .resize-observer[data-v-b329ee4c],.emoji-mart .resize-observer[data-v-b329ee4c] object{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;pointer-events:none;display:block;overflow:hidden}.emoji-mart-search .hidden{display:none;visibility:hidden}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"e4e3316e\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".mod-wrapper[data-v-75ceafe2]{position:absolute;top:0;left:0;justify-content:center;height:100%}.mod-wrapper[data-v-75ceafe2],.modal-window[data-v-75ceafe2]{display:flex;align-items:center;width:100%}.modal-window[data-v-75ceafe2]{border:1px solid rgb(var(--background-main));flex-direction:column;background-color:rgb(var(--background-total-theme));padding:1em;max-width:300px;margin:0 auto;border-radius:5px}.modal-window .btn[data-v-75ceafe2]{width:85%;padding:10px 5px;margin-top:25px;background-color:rgb(var(--color-bg-ac));border-radius:5px;color:#fff;cursor:pointer}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\"","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"460ffee1\", content, shadowRoot)\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".wrapper[data-v-67c83356]{position:relative}.fas[data-v-67c83356]{position:absolute;right:-8px;top:-8px}.preview-picture[data-v-67c83356]{width:50px;height:50px;border-radius:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=1&id=7d91b437&prod&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"adbd9d64\", content, shadowRoot)\n};","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=0&id=7d91b437&prod&scoped=true&lang=sass&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"65e3ccb8\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".previewWrapper[data-v-24811d8d]{height:60px;position:absolute;top:0;width:100%;display:flex;align-items:center;justify-content:flex-start;padding:0;border-bottom:1px solid rgb(var(--background-main))}.previewWrapper .previewContact[data-v-24811d8d],.previewWrapper .previewContactSelect[data-v-24811d8d]{width:100%}.previewWrapper .previewBox[data-v-24811d8d]{width:100%;display:flex;justify-content:space-between;align-items:center}.previewWrapper .previewBox .previewWrapper[data-v-24811d8d]{flex-grow:1;width:100%}.previewWrapper .checkBox[data-v-24811d8d]{text-align:center;position:absolute;right:12px;top:50%;transform:translateY(-50%)}.previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList[data-v-24811d8d]{margin-bottom:8px}.contactList .title[data-v-24811d8d]{padding:0 .5em}.contactList.minimized .title[data-v-24811d8d]{display:none}.contactList.minimized .previewWrapper[data-v-24811d8d]{padding:.5em 0;border-bottom:0;cursor:pointer}.contactList.minimized .previewWrapper[data-v-24811d8d]:last-child{border-bottom:0}.contactList.minimized .previewWrapper[data-v-24811d8d] .previewWrapper{padding:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".input_component[data-v-7d91b437]{width:100%;display:flex;justify-content:center;align-items:center;padding:0 1em;padding-right:0}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji{width:12.5%;height:40px;cursor:pointer}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji span{cursor:pointer}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji:hover{background:none;box-shadow:none}.input_component[data-v-7d91b437] .emoji-mart .emoji-mart-emoji:hover:before{display:none}.input_component .input-wrapper[data-v-7d91b437]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;width:100%}.input_component .right[data-v-7d91b437]{margin:0 .5em}.input_component .iconbutton .leftdummy[data-v-7d91b437]{width:20px}.input_component .iconbutton .rightdummy[data-v-7d91b437]{width:35px}.input_component .iconbutton .idummy[data-v-7d91b437]{width:100%;height:35px;line-height:35px}.input_component .iconbutton .idummy i[data-v-7d91b437]{line-height:35px!important}.input_component .previews[data-v-7d91b437]{width:100%;max-width:198px;height:30px;display:flex;align-items:flex-start;padding:2px 0;overflow:hidden}.input_component .previews[data-v-7d91b437]:first-child{margin-left:0}.input_component .textarea[data-v-7d91b437]{width:100%;display:flex;justify-content:flex-start;align-items:center}.chat-input[data-v-7d91b437]{background:transparent;border:0;width:100%;max-height:100px;overflow-y:auto;resize:none;line-height:inherit}.chat-input[data-v-7d91b437]::-webkit-scrollbar{width:0!important}.fade-enter-active[data-v-7d91b437],.fade-leave-active[data-v-7d91b437]{transition:all .2s ease-in}.fade-enter[data-v-7d91b437],.fade-leave-to[data-v-7d91b437]{opacity:0}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=style&index=1&id=7d91b437&prod&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".recordProgress[data-v-5df29904]{display:flex;height:20px;justify-content:flex-start;padding:0 1em;align-items:center;max-width:80%;flex-grow:2}.recordProgress .indicatorWrapper[data-v-5df29904]{min-width:20px;width:20px;margin-right:1em;display:flex;justify-content:center;align-items:center}.recordProgress .indicator[data-v-5df29904]{height:6px;width:6px;background:#ff033e;border-radius:50%}.recordProgress .indicator.recording[data-v-5df29904]{animation:pulse-5df29904 1.2s ease infinite}.recordProgress .del[data-v-5df29904]{min-width:20px;cursor:pointer;display:flex;justify-content:center;align-items:center;width:20px;height:20px;margin-right:1em}.recordProgress .del i[data-v-5df29904]{color:red;font-size:13px}.recordProgress .timer[data-v-5df29904]{margin-right:1em}.recordProgress .graph[data-v-5df29904]{margin:0 auto;width:100px;overflow:hidden;border-radius:15px}.cancel[data-v-5df29904],.recordProgress .graph[data-v-5df29904]{display:flex;justify-content:center}.cancel[data-v-5df29904]{position:absolute;left:0;right:0;top:0;bottom:0;background:rgb(var(--background-secondary-theme));opacity:0;text-align:center;align-items:center}.cancel span[data-v-5df29904]{white-space:nowrap;font-size:.9em}@keyframes pulse-5df29904{0%{opacity:1}50%{opacity:.1}to{opacity:1}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to Shadow Root\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesShadow.js\").default\nmodule.exports.__inject__ = function (shadowRoot) {\n  add(\"eb3034c4\", content, shadowRoot)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"contactList\",class:{ minimized: _vm.minimized }},[_c('RecycleScroller',{staticClass:\"scroller\",attrs:{\"page-mode\":\"\",\"items\":_vm.users,\"item-size\":60,\"key-field\":\"id\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ item }){return [_c('div',{staticClass:\"previewWrapper minimizeex\"},[(_vm.mode === 'Contacts' || _vm.mode === 'Select')?_c('div',{staticClass:\"previewContact\",on:{\"click\":function($event){return _vm.navigateToProfile(item.id, item)}}},[_c('preview',{attrs:{\"contact\":item,\"mode\":_vm.mode}})],1):_vm._e(),(_vm.mode === 'Selectmany')?_c('div',{staticClass:\"previewBox\",on:{\"click\":function($event){return _vm.toggleUser(item)}}},[_c('div',{staticClass:\"previewContactSelect\"},[_c('preview',{attrs:{\"mode\":_vm.mode,\"contact\":item}})],1),_c('div',{staticClass:\"checkBox\"},[(_vm.selected[item.id])?_c('i',{staticClass:\"far fa-check-circle\"}):_vm._e(),(!_vm.selected[item.id])?_c('i',{staticClass:\"far fa-circle\"}):_vm._e()])]):_vm._e()])]}}])})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mod-wrapper\"},[_c('div',{staticClass:\"modal-window\"},[_c('span',{staticClass:\"message\"},[_vm._v(_vm._s(_vm.message))]),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.close}},[_vm._v(\"OK\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"mod-wrapper\">\n\t\t<div class=\"modal-window\">\n\t\t\t<span class=\"message\">{{ message }}</span>\n\t\t\t<button class=\"btn\" @click=\"close\">OK</button>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"ModalWindow\",\n\tprops: [\"message\"],\n\n\tmethods: {\n\t\tclose() {\n\t\t\tthis.$emit(\"Close\");\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.mod-wrapper\n    position: absolute\n    top: 0\n    left: 0\n    display: flex\n    justify-content: center\n    align-items: center\n    width: 100%\n    height: 100%\n\n.modal-window\n    width: 100%\n    border : 1px solid srgb(--background-main)\n    display: flex\n    flex-direction: column\n    align-items: center\n    background-color: srgb(--background-total-theme)\n    padding: 2 * $r\n    max-width: 300px\n    margin : 0 auto\n    border-radius: 5px\n\n    .btn\n        width: 85%\n        padding: 10px 5px\n        margin-top: 25px\n        background-color: srgb(--color-bg-ac)\n        border-radius: 5px\n        color: white\n        cursor: pointer\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModalWindow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModalWindow.vue?vue&type=template&id=75ceafe2&scoped=true&\"\nimport script from \"./ModalWindow.vue?vue&type=script&lang=js&\"\nexport * from \"./ModalWindow.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./ModalWindow.vue?vue&type=style&index=0&id=75ceafe2&prod&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"75ceafe2\",\n  null\n  ,true\n)\n\nexport default component.exports","import { mapActions, mapGetters, mapState } from \"vuex\";\nimport preview from \"@/components/contacts/preview/index.vue\";\nimport ModalWindow from \"@/components/utils/ModalWindow.vue\";\n\nexport default {\n\tname: \"contactsList\",\n\tdata: function () {\n\t\treturn {\n\t\t\tloading: false,\n\t\t};\n\t},\n\tcomponents: {\n\t\tpreview,\n\t\tModalWindow,\n\t},\n\n\tprops: {\n\t\tmode: {\n\t\t\tdefault: \"\",\n\t\t\ttype: String,\n\t\t},\n\t\tusers: Array,\n\t\tselected: Object,\n\t\ttitle: String,\n\t},\n\n\twatch: {\n\t\t//$route: 'getdata'\n\t},\n\n\tcomputed: mapState({\n\t\tauth: (state) => state.auth,\n\t\tminimized: (state) => state.minimized,\n\n\t\t...mapActions([\"PREPARE_USERDATA\"]),\n\n\t\t...mapState([\"contactsMap\", \"signedUpUsers\"]),\n\t}),\n\n\tmethods: {\n\t\tselect(contact) {\n\t\t\tthis.$emit(\"select\", contact);\n\t\t},\n\n\t\tnavigateToProfile(id, contact) {\n\t\t\tif (this.mode == \"Select\") {\n\t\t\t\tthis.select(contact);\n\t\t\t} else {\n\t\t\t\tthis.$router.push({ path: `/contact?id=${id}` }).catch((e) => {});\n\t\t\t}\n\t\t},\n\n\t\ttoggleUser(contact) {\n\t\t\tthis.$emit(\"toggleUser\", contact.id);\n\t\t},\n\t},\n\n\tmounted() {},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=24811d8d&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=24811d8d&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"24811d8d\",\n  null\n  ,true\n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"noswipepnt\",attrs:{\"id\":\"chatInput\"}},[(_vm.ready)?_c('div',{staticClass:\"work\"},[(_vm.chat)?_c('div',{staticClass:\"inputWrapper\",class:{ donate: _vm.donate }},[(_vm.tipusers.length)?_c('div',{staticClass:\"tipusers\"},_vm._l((_vm.tipusers),function(user,i){return _c('div',{key:user.id,staticClass:\"previewWrapperExt\",class:{ selected: _vm.tipuserindex == i },on:{\"click\":function($event){return _vm.insertuser(user)}}},[_c('preview',{attrs:{\"contact\":user,\"mode\":\"\"}})],1)}),0):_vm._e(),_c('div',{staticClass:\"center\"},[(_vm.voiceEnable && (_vm.isRecording || _vm.record))?_c('record-progress',{attrs:{\"recordTime\":_vm.recordTime,\"isRecording\":_vm.isRecording,\"rmsData\":_vm.recordRmsData,\"opacity\":_vm.cancelOpacity},on:{\"onClear\":_vm.clear}}):_c('InputField',{ref:\"newinput\",attrs:{\"donate\":_vm.donate,\"storagekey\":'chatinput' + _vm.chat.roomId,\"tipusers\":_vm.tipusers,\"me\":_vm.me},on:{\"chatMessage\":_vm.sendinput,\"emptyInput\":_vm.emitInputData,\"FilledInput\":_vm.HideUploadPic,\"base64\":_vm.pasteImage,\"focused\":_vm.focused,\"tipsearchrequest\":_vm.tipBySearch,\"browsetip\":_vm.browsetip,\"selectcurrenttip\":_vm.selectcurrenttip,\"donateaction\":_vm.sendtransactionWrapper}}),(!_vm.streamMode && _vm.upload && _vm.chat)?_c('div',{staticClass:\"left\",class:{ extended: _vm.voiceEnable }},[(!_vm.isRecording && !_vm.record)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":_vm.showinputmenu}},[_c('i',{staticClass:\"icon fas fa-plus\"})]):_vm._e(),(_vm.voiceEnable)?[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRecording || !_vm.record),expression:\"isRecording || !record\"}],staticClass:\"iconbutton\"},[_c('recordVoice',{attrs:{\"prepareRecording\":_vm.prepareRecording ? true : false,\"isRecording\":_vm.isRecording,\"disabled\":_vm.microphoneDisabled},on:{\"onRecordingStart\":_vm.initRecording,\"onRecordingStop\":_vm.stopRecording,\"onClear\":_vm.clear,\"canceling\":_vm.setOpacity}})],1)]:_vm._e(),(!_vm.isRecording && _vm.record)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":(e) => {\n\t\t\t\t\t\t\t\t_vm.sendVoiceMessage();\n\t\t\t\t\t\t\t}}},[_vm._m(0)]):_vm._e()],2):_vm._e()],1),(_vm.donate)?_c('div',{staticClass:\"bottom\"},[_c('div',{staticClass:\"count\"},[_c('i',{staticClass:\"icon donate\"},[_vm._v(\"Donate\")]),_c('span',{staticClass:\"sum\"},[_vm._v(_vm._s(_vm.donate.value)+\" PKOIN\")])]),_c('i',{staticClass:\"icon remove fa fa-times\",on:{\"click\":_vm.removetransaction}})]):_vm._e()]):_vm._e()]):_c('div',{staticClass:\"notready\"},[_c('linepreloader')],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',[_c('i',{staticClass:\"icon fas fa-paper-plane\"})])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"input_component\"},[_c('div',{staticClass:\"input-wrapper\"},[_c('div',{staticClass:\"textarea\"},[_c('textarea',{ref:\"textarea\",staticClass:\"chat-input\",attrs:{\"id\":\"textInput\",\"type\":\"text\",\"row\":\"1\",\"spellcheck\":\"true\",\"autocorrect\":\"on\",\"placeholder\":_vm.$t('caption.sendmessage')},domProps:{\"value\":_vm.text},on:{\"focus\":_vm.focused,\"blur\":_vm.blured,\"keydown\":_vm.keydown,\"input\":_vm.textchange,\"keyup\":_vm.keyup,\"click\":_vm.keyup,\"paste\":_vm.paste_image}}),(!_vm.streamMode && !_vm.mobile && _vm.emojiIndex)?_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('picker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.display_emoji),expression:\"display_emoji\"},{name:\"click-outside\",rawName:\"v-click-outside\",value:(_vm.close_emoji_picker),expression:\"close_emoji_picker\"}],style:({\n\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tbottom: '48px',\n\t\t\t\t\t\tright: '0px',\n\t\t\t\t\t\tleft : '0px',\n\t\t\t\t\t\tfontSize: '0.8em',\n\t\t\t\t\t\tfontFamily: 'Segoe UI',\n\t\t\t\t\t}),attrs:{\"data\":_vm.emojiIndex,\"exclude\":_vm.exclude,\"showPreview\":false,\"showSearch\":false},on:{\"select\":_vm.insert_emoji}})],1):_vm._e()],1)]),(!_vm.streamMode && !_vm.mobile)?_c('div',{staticClass:\"iconbutton emojipicker\",on:{\"click\":function($event){return _vm.toggle_emoji_picker()}}},[_c('div',{staticClass:\"leftdummy\"},[_c('div',{staticClass:\"idummy\"},[(_vm.display_emoji)?_c('i',{staticClass:\"fas fa-times\"}):_c('i',{staticClass:\"far fa-smile\"})])])]):_vm._e(),(_vm.streamMode && !_vm.me)?_c('div',{staticClass:\"iconbutton\",attrs:{\"disabled\":_vm.donate},on:{\"click\":_vm.donateAction}},[_vm._m(0)]):_vm._e(),(_vm.send)?_c('div',{staticClass:\"iconbutton\",on:{\"click\":function($event){return _vm.send_text($event)}}},[_vm._m(1)]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rightdummy\"},[_c('div',{staticClass:\"idummy\"},[_c('i',{staticClass:\"icon donate\"},[_vm._v(\"Donate\")])])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"rightdummy\"},[_c('div',{staticClass:\"idummy\"},[_c('i',{staticClass:\"far fa-paper-plane\"})])])\n}]\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.is_opened)?_c('div',{staticClass:\"wrapper\"},[_c('img',{staticClass:\"preview-picture\",attrs:{\"src\":_vm.base64,\"alt\":\"picture preview\"}}),_c('i',{staticClass:\"fas fa-times fa-sm\",on:{\"click\":_vm.hide}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div v-if=\"is_opened\" class=\"wrapper\">\n\t\t<img class=\"preview-picture\" :src=\"base64\" alt=\"picture preview\" />\n\t\t<i @click=\"hide\" class=\"fas fa-times fa-sm\"></i>\n\t</div>\n</template>\n\n<script>\nexport default {\n\tname: \"picturePreview\",\n\tprops: [\"base64\"],\n\n\tdata() {\n\t\treturn {\n\t\t\tis_opened: true,\n\t\t};\n\t},\n\n\tmethods: {\n\t\thide() {\n\t\t\tthis.is_opened = false;\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"sass\" scoped>\n.wrapper\n    position: relative\n\n.fas\n    position: absolute\n    right: -8px\n    top: -8px\n\n.preview-picture\n    width: 50px\n    height: 50px\n    border-radius: 10px\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./picturePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./picturePreview.vue?vue&type=template&id=67c83356&scoped=true&\"\nimport script from \"./picturePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./picturePreview.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./picturePreview.vue?vue&type=style&index=0&id=67c83356&prod&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"67c83356\",\n  null\n  ,true\n)\n\nexport default component.exports","<template>\n\t<div class=\"input_component\">\n\t\t<div class=\"input-wrapper\">\n\t\t\t<div class=\"textarea\">\n\t\t\t\t<textarea\n\t\t\t\t\tid=\"textInput\"\n\t\t\t\t\t:value=\"text\"\n\t\t\t\t\tref=\"textarea\"\n\t\t\t\t\tclass=\"chat-input\"\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\trow=\"1\"\n\t\t\t\t\tspellcheck=\"true\"\n\t\t\t\t\tautocorrect=\"on\"\n\t\t\t\t\t@focus=\"focused\"\n\t\t\t\t\t@blur=\"blured\"\n\t\t\t\t\t@keydown=\"keydown\"\n\t\t\t\t\t@input=\"textchange\"\n\t\t\t\t\t@keyup=\"keyup\"\n\t\t\t\t\t@click=\"keyup\"\n\t\t\t\t\t@paste=\"paste_image\"\n\t\t\t\t\t:placeholder=\"$t('caption.sendmessage')\"\n\t\t\t\t></textarea>\n\t\t\t\t<transition name=\"fade\" mode=\"out-in\" v-if=\"!streamMode && !mobile && emojiIndex\">\n\t\t\t\t\t<picker\n\t\t\t\t\t\t:data=\"emojiIndex\"\n\t\t\t\t\t\tv-show=\"display_emoji\"\n\t\t\t\t\t\t@select=\"insert_emoji\"\n\t\t\t\t\t\t:style=\"{\n\t\t\t\t\t\t\twidth: 'auto',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbottom: '48px',\n\t\t\t\t\t\t\tright: '0px',\n\t\t\t\t\t\t\tleft : '0px',\n\t\t\t\t\t\t\tfontSize: '0.8em',\n\t\t\t\t\t\t\tfontFamily: 'Segoe UI',\n\t\t\t\t\t\t}\"\n\t\t\t\t\t\t:exclude=\"exclude\"\n\t\t\t\t\t\t:showPreview=\"false\"\n\t\t\t\t\t\t:showSearch=\"false\"\n\t\t\t\t\t\tv-click-outside=\"close_emoji_picker\"\n\t\t\t\t\t/>\n\t\t\t\t</transition>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"iconbutton emojipicker\"\n\t\t\t@click=\"toggle_emoji_picker()\"\n\t\t\tv-if=\"!streamMode && !mobile\"\n\t\t>\n\t\t\t<div class=\"leftdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i v-if=\"display_emoji\" class=\"fas fa-times\"></i>\n\t\t\t\t\t<i v-else class=\"far fa-smile\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div\n\t\t\tclass=\"iconbutton\"\n\t\t\tv-if=\"streamMode && !me\"\n\t\t\t@click=\"donateAction\"\n\t\t\t:disabled=\"donate\"\n\t\t>\n\t\t\t<div class=\"rightdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i class=\"icon donate\">Donate</i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"iconbutton\" v-if=\"send\" @click=\"send_text($event)\">\n\t\t\t<div class=\"rightdummy\">\n\t\t\t\t<div class=\"idummy\">\n\t\t\t\t\t<i class=\"far fa-paper-plane\"></i>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport Images from \"@/application/utils/images.js\";\nimport f from \"@/application/functions\";\nimport { Picker, EmojiIndex } from \"emoji-mart-vue-fast\";\n\nimport vClickOutside from \"v-click-outside\";\n\nimport picturePreview from \"@/components/chat/input/picturePreview/picturePreview\";\n\nlet images = new Images();\n\nexport default {\n\tname: \"InputField\",\n\tcomponents: {\n\t\tPicker,\n\t\tpicturePreview,\n\t},\n\n\tdirectives: {\n\t\tclickOutside: vClickOutside.directive,\n\t},\n\n\tinject: ['streamMode'],\n\n\twatch: {\n\t\ttext: {\n\t\t\timmediately: true,\n\t\t\thandler: function (current, prev) {\n\t\t\t\tif (current) {\n\t\t\t\t\tthis.send = true;\n\t\t\t\t\tthis.$emit(\"FilledInput\");\n\t\t\t\t} else {\n\t\t\t\t\tthis.send = false;\n\t\t\t\t\tthis.$emit(\"emptyInput\");\n\t\t\t\t}\n\n\t\t\t\tthis.textarea_resize();\n\t\t\t},\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsend: false,\n\n\t\t\tready: false,\n\t\t\ttext: \"\",\n\t\t\texclude: [\"flags\"],\n\t\t\tdisplay_emoji: false,\n\t\t\tcontent_height: 26,\n\t\t\tpasted_data: [],\n\t\t\tblock: false,\n\n\t\t\tupload: {\n\t\t\t\tmultiple: true,\n\t\t\t\textensions: [\"image/jpg\", \"image/jpeg\", \"image/png\"],\n\t\t\t\timages: {\n\t\t\t\t\tresize: {\n\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\thidden_previews: null,\n\t\t\temojiIndex: null,\n\t\t};\n\t},\n\n\tcomputed: {\n\t\tmobile: function () {\n\t\t\treturn !this.$store.state.pocketnet && this.$store.state.mobile;\n\t\t}\n\n\t\t/*emojiIndex: function () {\n\n\n\n\t\t\treturn window.emojiIndex\n\n\t\t}*/\n\t},\n\n\tmethods: {\n\t\tprepareemoji: function () {\n\t\t\tif (!this.mobile) {\n\t\t\t\tif (window.emojiIndex) this.emojiIndex = window.emojiIndex;\n\t\t\t\telse {\n\t\t\t\t\tvar emojidata = require(\"emoji-mart-vue-fast/data/all.json\");\n\t\t\t\t\twindow.emojiIndex = new EmojiIndex(emojidata);\n\t\t\t\t\tthis.emojiIndex = window.emojiIndex;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tsetText: function (text) {\n\t\t\tthis.text = text;\n\n\t\t\tthis.savetextinstorage();\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.textarea_resize();\n\t\t\t\tthis.focus();\n\t\t\t});\n\t\t},\n\n\t\tfocused: function () {\n\t\t\tthis.$emit(\"focused\");\n\t\t},\n\n\t\ttextchange: function (e) {\n\t\t\tthis.text = e.target.value || \"\";\n\t\t},\n\n\t\tsavetextinstorage: function () {\n\t\t\tif (this.storagekey) {\n\t\t\t\tlocalStorage[this.storagekey] = this.text || \"\";\n\t\t\t}\n\t\t},\n\t\tsend_empty_array() {\n\t\t\tthis.$emit(\"userSearched\", []);\n\t\t},\n\n\t\tfocus() {\n\t\t\tthis.$refs[\"textarea\"].focus();\n\t\t},\n\n\t\tblur() {\n\t\t\tthis.$refs[\"textarea\"].blur();\n\t\t},\n\n\t\tblurifempty() {\n\t\t\tif (!this.text) this.blur();\n\t\t},\n\n\t\tclose_emoji_picker(event) {\n\t\t\tif (event.target.localName !== \"i\") {\n\t\t\t\tif (event.target.localName !== \"matrix-element\") {\n\t\t\t\t\tthis.display_emoji = false;\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\ttextarea_resize() {\n\t\t\tif (!this.text) {\n\t\t\t\tthis.textarea_resize_reset();\n\t\t\t} else {\n\t\t\t\tthis.$refs.textarea.style.height = 1 + \"px\";\n\t\t\t\tthis.$refs.textarea.style.height =\n\t\t\t\t\tthis.$refs.textarea.scrollHeight + \"px\";\n\t\t\t\t//this.display_emoji = false;\n\t\t\t}\n\t\t},\n\n\t\ttextarea_resize_reset() {\n\t\t\tthis.$refs.textarea.style.height = this.content_height + \"px\";\n\t\t},\n\t\ttoggle_emoji_picker() {\n\t\t\tthis.display_emoji = !this.display_emoji;\n\t\t},\n\n\t\tsend_text(event) {\n\t\t\tif (this.text && this.text !== \"\\n\") {\n\t\t\t\tthis.display_emoji = false;\n\t\t\t\tthis.$emit(\"chatMessage\", this.text);\n\t\t\t\tthis.$emit(\"emptyInput\");\n\t\t\t\tthis.send = false;\n\t\t\t\tthis.text = \"\";\n\t\t\t}\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\n\t\tinsert_emoji(emoji) {\n\t\t\tthis.text += emoji.native;\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\t\tpaste_image(event) {\n\t\t\tif (!this.streamMode) this.get_base64(event);\n\t\t},\n\t\tget_base64(event) {\n\t\t\tthis.pasted_data = event.clipboardData.items;\n\n\t\t\tif (this.pasted_data.length) {\n\t\t\t\tfor (let index in this.pasted_data) {\n\t\t\t\t\tlet item = this.pasted_data[index];\n\n\t\t\t\t\tlet correct_image_type = this.upload.extensions.includes(item.type);\n\n\t\t\t\t\tif (correct_image_type) {\n\t\t\t\t\t\tvar blob = item.getAsFile();\n\t\t\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\t\t\treader.onload = (event) => {\n\t\t\t\t\t\t\tthis.$dialog\n\t\t\t\t\t\t\t\t.confirm(\"Do you really want to send attachment?\", {\n\t\t\t\t\t\t\t\t\tokText: \"Yes\",\n\t\t\t\t\t\t\t\t\tcancelText: \"No, cancel\",\n\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t.then((dialog) => {\n\t\t\t\t\t\t\t\t\tvar base64 = event.target.result;\n\t\t\t\t\t\t\t\t\tthis.resize_image(base64, item.type);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tresize_image(data, type) {\n\t\t\treturn images\n\t\t\t\t.autorotation(null, data)\n\t\t\t\t.then((base64) => {\n\t\t\t\t\tlet _type = this.upload.images.resize.type || \"def\";\n\n\t\t\t\t\treturn images.resize[_type](base64, 1024, 1024, type, 0.9)\n\t\t\t\t\t\t.then((base64) => {\n\t\t\t\t\t\t\tthis.$emit(\"base64\", base64);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((error) => console.error(\"Failed to resize image\", error));\n\t\t\t\t})\n\t\t\t\t.catch((error) => console.error(\"Failed to resize image\", error));\n\t\t},\n\n\t\tgetsearchposition(position) {\n\t\t\tif (!position.start || !this.text.length) return null;\n\n\t\t\tvar sposition = { start: position.start, middle: 0, end: position.end };\n\n\t\t\tvar i = position.start;\n\t\t\tvar dg = false;\n\t\t\tvar br = false;\n\n\t\t\tvar reg = /[a-zA-Z0-9]{1}/;\n\n\t\t\tsposition.middle = i;\n\n\t\t\tdo {\n\t\t\t\tvar char = this.text[i];\n\n\t\t\t\tif (char == \"@\") {\n\t\t\t\t\tif (position.start == i || (i > 0 && reg.test(this.text[i - 1]))) {\n\t\t\t\t\t\tbr = true;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdg = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (reg.test(char)) {\n\t\t\t\t\t\tsposition.start = i;\n\t\t\t\t\t} else br = true;\n\t\t\t\t}\n\n\t\t\t\ti--;\n\t\t\t} while (i >= 0 && i <= position.start && !dg && !br);\n\n\t\t\tif (!dg) {\n\t\t\t\tsposition = null;\n\t\t\t} else {\n\t\t\t\tbr = false;\n\t\t\t\ti = position.end;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (!this.text[i] || reg.test(this.text[i])) {\n\t\t\t\t\t\tsposition.end = i;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbr = true;\n\t\t\t\t\t}\n\n\t\t\t\t\ti++;\n\t\t\t\t} while (i <= this.text.length && !br);\n\t\t\t}\n\n\t\t\treturn sposition;\n\t\t},\n\n\t\tgetsearch(position) {\n\t\t\tvar sposition = this.getsearchposition(position);\n\n\t\t\tif (!sposition) return null;\n\n\t\t\treturn this.text.substring(sposition.start, sposition.middle);\n\t\t},\n\n\t\tkeydown(event) {\n\t\t\tif (event.keyCode === 40 || event.keyCode === 38) {\n\t\t\t\tif (this.tipusers && this.tipusers.length) {\n\t\t\t\t\tthis.$emit(\"browsetip\", event.keyCode === 40 ? true : false);\n\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.keyCode === 39 || event.keyCode === 13) {\n\t\t\t\tif (this.tipusers && this.tipusers.length) {\n\t\t\t\t\tthis.$emit(\"selectcurrenttip\");\n\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (event.keyCode === 13) {\n\t\t\t\tif (this.mobile) {\n\t\t\t\t\tthis.text = this.text + \"\\n\";\n\t\t\t\t} else {\n\t\t\t\t\tthis.send_text(event);\n\t\t\t\t}\n\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\treturn false;\n\t\t\t}\n\t\t},\n\n\t\tkeyup(event) {\n\t\t\tif (this.block) {\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar position = f.getCaretPosition(this.$refs[\"textarea\"]);\n\n\t\t\tvar value = this.getsearch(position);\n\n\t\t\tthis.$emit(\"tipsearchrequest\", value);\n\n\t\t\tthis.savetextinstorage();\n\t\t},\n\n\t\tblured() {\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.$emit(\"tipsearchrequest\", null);\n\t\t\t}, 300);\n\t\t},\n\n\t\tinserttip(text) {\n\t\t\tthis.$emit(\"tipsearchrequest\", null);\n\n\t\t\tthis.block = true;\n\t\t\tthis.$refs[\"textarea\"];\n\n\t\t\tvar position = this.getsearchposition(\n\t\t\t\tf.getCaretPosition(this.$refs[\"textarea\"])\n\t\t\t);\n\n\t\t\tthis.text =\n\t\t\t\tthis.text.substring(0, position.start) +\n\t\t\t\ttext +\n\t\t\t\tthis.text.substring(position.end + 1);\n\n\t\t\tif (!this.text[position.end + 1]) {\n\t\t\t\tthis.text = this.text + \" \";\n\t\t\t}\n\n\t\t\tif (!this.text[position.end + 1] == \" \") position.end++;\n\n\t\t\tf.setCaretPosition(\n\t\t\t\tthis.$refs[\"textarea\"],\n\t\t\t\tposition.end + 1,\n\t\t\t\tposition.end + 1\n\t\t\t);\n\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.block = false;\n\t\t\t}, 350);\n\t\t},\n\n\t\tdonateAction: function () {\n\t\t\tthis.$emit(\"donateaction\");\n\t\t}\n\t},\n\n\tprops: {\n\t\tdonate: Object,\n\t\tstoragekey: String,\n\t\ttipusers: Array,\n\t\tme: Boolean\n\t},\n\n\tcreared() {},\n\n\tmounted() {\n\t\tif (!this.mobile) {\n\t\t\tthis.focus();\n\t\t}\n\n\t\tthis.prepareemoji();\n\n\t\tthis.$refs.textarea.style.height = \"26px\";\n\n\t\tif (this.storagekey && localStorage[this.storagekey]) {\n\t\t\tthis.text = localStorage[this.storagekey];\n\t\t}\n\t},\n};\n</script>\n\n<style scoped lang=\"sass\">\n.input_component\n\twidth: 100%\n\tdisplay: flex\n\tjustify-content: center\n\talign-items: center\n\tpadding: 0 2 * $r\n\tpadding-right: 0\n\n\t/deep/ .emoji-mart .emoji-mart-emoji\n\t\twidth: 12.5%\n\t\theight: 40px\n\t\tcursor: pointer\n\n\t\tspan\n\t\t\tcursor: pointer\n\n\t\t&:hover\n\t\t\tbackground: none\n\t\t\tbox-shadow: none\n\n\t\t\t&:before\n\t\t\t\tdisplay: none\n\n\t.input-wrapper\n\t\tdisplay: flex\n\t\tflex-direction: column\n\t\tjustify-content: center\n\t\talign-items: flex-start\n\t\twidth: 100%\n\n\t.right\n\t\tmargin: 0 $r\n\n\t.iconbutton\n\n\t\t.leftdummy\n\t\t\twidth: 20px\n\n\t\t.rightdummy\n\t\t\twidth: 35px\n\n\t\t.idummy\n\t\t\twidth: 100%\n\t\t\theight: 35px\n\t\t\tline-height: 35px\n\n\t\t\ti\n\t\t\t\tline-height: 35px !important\n\n\t.previews\n\t\twidth: 100%\n\t\tmax-width: 198px\n\t\theight: 30px\n\t\tdisplay: flex\n\t\talign-items: flex-start\n\t\tpadding: 2px 0\n\t\toverflow: hidden\n\n\t\t&:first-child\n\t\t\tmargin-left: 0\n\n\n\t.textarea\n\t\twidth: 100%\n\t\tdisplay: flex\n\t\tjustify-content: flex-start\n\t\talign-items: center\n\n.chat-input\n\tbackground: transparent\n\tborder: 0\n\twidth: 100%\n\tmax-height: 100px\n\t// min-height: 26px\n\toverflow-y: auto\n\tresize: none\n\tline-height: inherit\n\n\t&::-webkit-scrollbar\n\t\twidth: 0 !important\n\n.fade-enter-active, .fade-leave-active\n\ttransition: all .2s ease-in\n\n.fade-enter, .fade-leave-to\n\topacity: 0\n</style>\n\n\n<style>\n.emoji-mart,\n.emoji-mart * {\n\tbox-sizing: border-box;\n\tline-height: 1.15;\n}\n\n.emoji-mart {\n\tfont-family: -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;\n\tfont-size: 16px;\n\t/* display: inline-block; */\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 420px;\n\tcolor: #222427;\n\tborder: 1px solid #d9d9d9;\n\tborder-radius: 5px;\n\tbackground: #fff;\n}\n\n.emoji-mart-emoji {\n\tpadding: 6px;\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont-size: 0;\n\tborder: none;\n\tbackground: none;\n\tbox-shadow: none;\n}\n\n.emoji-mart-emoji span {\n\tdisplay: inline-block;\n}\n\n.emoji-mart-preview-emoji .emoji-mart-emoji span {\n\twidth: 38px;\n\theight: 38px;\n\tfont-size: 32px;\n}\n\n.emoji-type-native {\n\tfont-family: 'Segoe UI Emoji', 'Segoe UI Symbol', 'Segoe UI',\n\t\t'Apple Color Emoji', 'Twemoji Mozilla', 'Noto Color Emoji', 'EmojiOne Color',\n\t\t'Android Emoji';\n\tword-break: keep-all;\n}\n\n.emoji-type-image {\n\t/* Emoji sheet has 56 columns, see also utils/emoji-data.js, SHEET_COLUMNS variable */\n\t/* Here we use (56+1) * 100% to avoid visible edges of nearby icons when scaling for different\n\t * screen sizes */\n\tbackground-size: 5700%;\n}\n.emoji-type-image.emoji-set-apple {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-facebook {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-google {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png\");\n}\n.emoji-type-image.emoji-set-twitter {\n\tbackground-image: url(\"https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png\");\n}\n\n.emoji-mart-bar {\n\tborder: 0 solid #d9d9d9;\n}\n.emoji-mart-bar:first-child {\n\tborder-bottom-width: 1px;\n\tborder-top-left-radius: 5px;\n\tborder-top-right-radius: 5px;\n}\n.emoji-mart-bar:last-child {\n\tborder-top-width: 1px;\n\tborder-bottom-left-radius: 5px;\n\tborder-bottom-right-radius: 5px;\n}\n\n.emoji-mart-scroll {\n\tposition: relative;\n\toverflow-y: scroll;\n\tflex: 1;\n\tpadding: 0 6px 6px 6px;\n\tz-index: 0; /* Fix for rendering sticky positioned category labels on Chrome */\n\twill-change: transform; /* avoids \"repaints on scroll\" in mobile Chrome */\n\t-webkit-overflow-scrolling: touch;\n}\n\n.emoji-mart-anchors {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\tpadding: 0 6px;\n\tcolor: #858585;\n\tline-height: 0;\n}\n\n.emoji-mart-anchor {\n\tposition: relative;\n\tdisplay: block;\n\tflex: 1 1 auto;\n\ttext-align: center;\n\tpadding: 12px 4px;\n\toverflow: hidden;\n\ttransition: color 0.1s ease-out;\n\tborder: none;\n\tbackground: none;\n\tbox-shadow: none;\n}\n.emoji-mart-anchor:hover,\n.emoji-mart-anchor-selected {\n\tcolor: #464646;\n}\n\n.emoji-mart-anchor-selected .emoji-mart-anchor-bar {\n\tbottom: 0;\n}\n\n.emoji-mart-anchor-bar {\n\tposition: absolute;\n\tbottom: -3px;\n\tleft: 0;\n\twidth: 100%;\n\theight: 3px;\n\tbackground-color: #464646;\n}\n\n.emoji-mart-anchors i {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tmax-width: 22px;\n}\n\n.emoji-mart-anchors svg {\n\tfill: currentColor;\n\tmax-height: 18px;\n}\n\n.emoji-mart .scroller {\n\theight: 250px;\n\tposition: relative;\n\tflex: 1;\n\tpadding: 0 6px 6px 6px;\n\tz-index: 0; /* Fix for rendering sticky positioned category labels on Chrome */\n\twill-change: transform; /* avoids \"repaints on scroll\" in mobile Chrome */\n\t-webkit-overflow-scrolling: touch;\n}\n\n.emoji-mart-search {\n\tmargin-top: 6px;\n\tpadding: 0 6px;\n}\n.emoji-mart-search input {\n\tfont-size: 16px;\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.2em 0.6em;\n\tborder-radius: 25px;\n\tborder: 1px solid #d9d9d9;\n\toutline: 0;\n}\n.emoji-mart-search-results {\n\theight: 250px;\n\toverflow-y: scroll;\n}\n\n.emoji-mart-category {\n\tposition: relative;\n}\n\n.emoji-mart-category .emoji-mart-emoji span {\n\tz-index: 1;\n\tposition: relative;\n\ttext-align: center;\n\tcursor: default;\n}\n\n.emoji-mart-category .emoji-mart-emoji:hover:before,\n.emoji-mart-emoji-selected:before {\n\tz-index: 0;\n\tcontent: '';\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n\tbackground-color: #f4f4f4;\n\tborder-radius: 100%;\n\topacity: 0;\n}\n.emoji-mart-category .emoji-mart-emoji:hover:before,\n.emoji-mart-emoji-selected:before {\n\topacity: 1;\n}\n\n.emoji-mart-category-label {\n\tposition: sticky;\n\ttop: 0;\n}\n.emoji-mart-static .emoji-mart-category-label {\n\tz-index: 2;\n\tposition: relative;\n\t/* position: sticky; */\n\t/* position: -webkit-sticky; */\n}\n\n.emoji-mart-category-label h3 {\n\tdisplay: block;\n\tfont-size: 16px;\n\twidth: 100%;\n\tfont-weight: 500;\n\tpadding: 5px 6px;\n\tbackground-color: #fff;\n\tbackground-color: rgba(255, 255, 255, 0.95);\n}\n\n.emoji-mart-emoji {\n\tposition: relative;\n\tdisplay: inline-block;\n\tfont-size: 0;\n}\n\n.emoji-mart-no-results {\n\tfont-size: 14px;\n\ttext-align: center;\n\tpadding-top: 70px;\n\tcolor: #858585;\n}\n.emoji-mart-no-results .emoji-mart-category-label {\n\tdisplay: none;\n}\n.emoji-mart-no-results .emoji-mart-no-results-label {\n\tmargin-top: 0.2em;\n}\n.emoji-mart-no-results .emoji-mart-emoji:hover:before {\n\tcontent: none;\n}\n\n.emoji-mart-preview {\n\tposition: relative;\n\theight: 70px;\n}\n\n.emoji-mart-preview-emoji,\n.emoji-mart-preview-data,\n.emoji-mart-preview-skins {\n\tposition: absolute;\n\ttop: 50%;\n\ttransform: translateY(-50%);\n}\n\n.emoji-mart-preview-emoji {\n\tleft: 12px;\n}\n\n.emoji-mart-preview-data {\n\tleft: 68px;\n\tright: 12px;\n\tword-break: break-all;\n}\n\n.emoji-mart-preview-skins {\n\tright: 30px;\n\ttext-align: right;\n}\n\n.emoji-mart-preview-name {\n\tfont-size: 14px;\n}\n\n.emoji-mart-preview-shortname {\n\tfont-size: 12px;\n\tcolor: #888;\n}\n.emoji-mart-preview-shortname + .emoji-mart-preview-shortname,\n.emoji-mart-preview-shortname + .emoji-mart-preview-emoticon,\n.emoji-mart-preview-emoticon + .emoji-mart-preview-emoticon {\n\tmargin-left: 0.5em;\n}\n\n.emoji-mart-preview-emoticon {\n\tfont-size: 11px;\n\tcolor: #bbb;\n}\n\n.emoji-mart-title span {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n}\n\n.emoji-mart-title .emoji-mart-emoji {\n\tpadding: 0;\n}\n\n.emoji-mart-title-label {\n\tcolor: #999a9c;\n\tfont-size: 21px;\n\tfont-weight: 300;\n}\n\n.emoji-mart-skin-swatches {\n\tfont-size: 0;\n\tpadding: 2px 0;\n\tborder: 1px solid #d9d9d9;\n\tborder-radius: 12px;\n\tbackground-color: #fff;\n}\n\n.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch {\n\twidth: 16px;\n\tpadding: 0 2px;\n}\n\n.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after {\n\topacity: 0.75;\n}\n\n.emoji-mart-skin-swatch {\n\tdisplay: inline-block;\n\twidth: 0;\n\tvertical-align: middle;\n\ttransition-property: width, padding;\n\ttransition-duration: 0.125s;\n\ttransition-timing-function: ease-out;\n}\n\n.emoji-mart-skin-swatch:nth-child(1) {\n\ttransition-delay: 0s;\n}\n.emoji-mart-skin-swatch:nth-child(2) {\n\ttransition-delay: 0.03s;\n}\n.emoji-mart-skin-swatch:nth-child(3) {\n\ttransition-delay: 0.06s;\n}\n.emoji-mart-skin-swatch:nth-child(4) {\n\ttransition-delay: 0.09s;\n}\n.emoji-mart-skin-swatch:nth-child(5) {\n\ttransition-delay: 0.12s;\n}\n.emoji-mart-skin-swatch:nth-child(6) {\n\ttransition-delay: 0.15s;\n}\n\n.emoji-mart-skin-swatch-selected {\n\tposition: relative;\n\twidth: 16px;\n\tpadding: 0 2px;\n}\n.emoji-mart-skin-swatch-selected:after {\n\tcontent: '';\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\twidth: 4px;\n\theight: 4px;\n\tmargin: -2px 0 0 -2px;\n\tbackground-color: #fff;\n\tborder-radius: 100%;\n\tpointer-events: none;\n\topacity: 0;\n\ttransition: opacity 0.2s ease-out;\n}\n\n.emoji-mart-skin {\n\tdisplay: inline-block;\n\twidth: 100%;\n\tpadding-top: 100%;\n\tmax-width: 12px;\n\tborder-radius: 100%;\n}\n\n.emoji-mart-skin-tone-1 {\n\tbackground-color: #ffc93a;\n}\n.emoji-mart-skin-tone-2 {\n\tbackground-color: #fadcbc;\n}\n.emoji-mart-skin-tone-3 {\n\tbackground-color: #e0bb95;\n}\n.emoji-mart-skin-tone-4 {\n\tbackground-color: #bf8f68;\n}\n.emoji-mart-skin-tone-5 {\n\tbackground-color: #9b643d;\n}\n.emoji-mart-skin-tone-6 {\n\tbackground-color: #594539;\n}\n\n/* vue-virtual-scroller/dist/vue-virtual-scroller.css */\n.emoji-mart .vue-recycle-scroller {\n\tposition: relative;\n}\n.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode) {\n\toverflow-y: auto;\n}\n.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode) {\n\toverflow-x: auto;\n}\n.emoji-mart .vue-recycle-scroller.direction-horizontal {\n\tdisplay: flex;\n}\n.emoji-mart .vue-recycle-scroller__slot {\n\tflex: auto 0 0;\n}\n.emoji-mart .vue-recycle-scroller__item-wrapper {\n\tflex: 1;\n\tbox-sizing: border-box;\n\toverflow: hidden;\n\tposition: relative;\n}\n.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\twill-change: transform;\n}\n.emoji-mart\n\t.vue-recycle-scroller.direction-vertical\n\t.vue-recycle-scroller__item-wrapper {\n\twidth: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.direction-horizontal\n\t.vue-recycle-scroller__item-wrapper {\n\theight: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.ready.direction-vertical\n\t.vue-recycle-scroller__item-view {\n\twidth: 100%;\n}\n.emoji-mart\n\t.vue-recycle-scroller.ready.direction-horizontal\n\t.vue-recycle-scroller__item-view {\n\theight: 100%;\n}\n.emoji-mart .resize-observer[data-v-b329ee4c] {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tz-index: -1;\n\twidth: 100%;\n\theight: 100%;\n\tborder: none;\n\tbackground-color: transparent;\n\tpointer-events: none;\n\tdisplay: block;\n\toverflow: hidden;\n\topacity: 0;\n}\n.emoji-mart .resize-observer[data-v-b329ee4c] object {\n\tdisplay: block;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\theight: 100%;\n\twidth: 100%;\n\toverflow: hidden;\n\tpointer-events: none;\n\tz-index: -1;\n}\n.emoji-mart-search .hidden {\n\tdisplay: none;\n\tvisibility: hidden;\n}\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InputField.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InputField.vue?vue&type=template&id=7d91b437&scoped=true&\"\nimport script from \"./InputField.vue?vue&type=script&lang=js&\"\nexport * from \"./InputField.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./InputField.vue?vue&type=style&index=0&id=7d91b437&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\nvar style1 = require(\"./InputField.vue?vue&type=style&index=1&id=7d91b437&prod&lang=css&\")\nif (style1.__inject__) style1.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"7d91b437\",\n  null\n  ,true\n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"recordButton_wrapper\"},[_c('div',{ref:\"holder\",staticClass:\"recordButton_holder\",class:{ hold: _vm.isHold }},[_c('i',{staticClass:\"icon fas\",class:_vm.isHold ? 'fa-lock' : 'fa-lock-open'})]),(!_vm.isHold)?_c('div',{ref:\"toggle\",staticClass:\"recordButton_micro recordButton_main\",class:{ active: _vm.isRecording, disabled: _vm.disabled },on:{\"mousedown\":_vm.mousedown,\"mouseup\":_vm.mouseup,\"touchstart\":_vm.handleTouchStart,\"touchend\":_vm.handleTouchEnd,\"touchcancel\":_vm.handleTouchEnd}},[_c('i',{staticClass:\"icon fas fa-microphone\"})]):_vm._e(),(_vm.isHold)?_c('div',{ref:\"stop\",staticClass:\"recordButton_stop recordButton_main\",on:{\"click\":_vm.recordEnd}},[_c('i',{staticClass:\"icon fas fa-stop\"})]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { mapState } from \"vuex\";\n\nexport default {\n\tname: \"recordVoice\",\n\tprops: {\n\t\tisRecording: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tprepareRecording: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\tdisabled: Boolean,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tstart: 0,\n\t\t\tisHold: false,\n\t\t\tdirection: null,\n\t\t};\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tmobile: (state) => state.mobile,\n\t\t}),\n\t},\n\tmounted() {},\n\tbeforeDestroy() {\n\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\n\t\tif (this.isRecording) {\n\t\t\tthis.$emit(\"onRecordingStop\", { cancel: true });\n\t\t}\n\t},\n\tmethods: {\n\t\tmouseup: function (e) {\n\t\t\tif (!this.mobile) this.handleTouchEnd(e);\n\t\t},\n\n\t\tmousedown: function (e) {\n\t\t\tif (!this.mobile) this.handleTouchStart(e);\n\t\t},\n\n\t\thandleTouchStart(e) {\n\t\t\tif (!this.isRecording) {\n\t\t\t\tthis.$emit(\"onRecordingStart\");\n\t\t\t} else {\n\t\t\t\tif (this.isHold) return;\n\t\t\t}\n\n\t\t\tthis.start = {\n\t\t\t\tY: e.changedTouches ? e.changedTouches[0].pageY : e.pageY,\n\t\t\t\tX: e.changedTouches ? e.changedTouches[0].pageX : e.pageX,\n\t\t\t};\n\n\t\t\tif (!this.mobile) document.addEventListener(\"mousemove\", this.handleMove);\n\t\t\telse document.addEventListener(\"touchmove\", this.handleMove);\n\t\t},\n\t\thandleTouchEnd(e) {\n\t\t\tif (this.isHold) return;\n\n\t\t\tif (this.isRecording || this.prepareRecording) {\n\t\t\t\tthis.$emit(\"onRecordingStop\", {\n\t\t\t\t\tsendnow: true,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\n\t\t\tthis.clearStyle();\n\t\t},\n\n\t\tclearStyle() {\n\t\t\tif (this.$refs.toggle) {\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\t\t\t\tthis.$refs.toggle.classList.remove(\"outside\");\n\t\t\t}\n\n\t\t\tif (this.$refs.holder) {\n\t\t\t\tthis.$refs.holder.classList.remove(\"active\");\n\t\t\t}\n\t\t},\n\n\t\thandleMove(e) {\n\t\t\tif (!this.isRecording) return;\n\n\t\t\tlet deltaY = this.start.Y - e.pageY;\n\t\t\tlet deltaX = this.start.X - e.pageX;\n\n\t\t\tif (e?.changedTouches?.length) {\n\t\t\t\tdeltaY = this.start.Y - e.changedTouches[0].pageY;\n\t\t\t\tdeltaX = this.start.X - e.changedTouches[0].pageX;\n\t\t\t}\n\n\t\t\tif (deltaY > 5 && deltaX < 5) {\n\t\t\t\tthis.direction = \"Y\";\n\t\t\t} else {\n\t\t\t\tthis.direction = \"X\";\n\t\t\t}\n\n\t\t\tif (deltaY > 5 && this.direction === \"Y\") {\n\t\t\t\tif (!this.$refs.holder.classList.contains(\"active\"))\n\t\t\t\t\tthis.$refs.holder.classList.add(\"active\");\n\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,-${deltaY}px)`;\n\n\t\t\t\tif (deltaY > 70) {\n\t\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\n\t\t\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\t\t\t\t\t//document.removeEventListener('mouseup', this.handleTouchEnd)\n\n\t\t\t\t\tthis.isHold = true;\n\t\t\t\t}\n\t\t\t} else if (deltaX > 5 && this.direction === \"X\") {\n\t\t\t\tthis.$refs.toggle.style.transform = `translate(-${deltaX}px, 0)`;\n\n\t\t\t\tif (!this.$refs.holder.classList.contains(\"outside\"))\n\t\t\t\t\tthis.$refs.toggle.classList.add(\"outside\");\n\n\t\t\t\tthis.$emit(\"canceling\", (deltaX - 5) / 130);\n\n\t\t\t\tif (deltaX > 130) {\n\t\t\t\t\tthis.$refs.toggle.style.transform = `translate(0,0)`;\n\t\t\t\t\tdocument.removeEventListener(\"mousemove\", this.handleMove);\n\t\t\t\t\tdocument.removeEventListener(\"touchmove\", this.handleMove);\n\t\t\t\t\t//document.removeEventListener('mouseup', this.handleTouchEnd)\n\t\t\t\t\tthis.$emit(\"onRecordingStop\", { cancel: true });\n\t\t\t\t\tthis.$emit(\"onClear\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.clearStyle();\n\t\t\t}\n\t\t},\n\n\t\trecordEnd(e) {\n\t\t\tthis.clearStyle();\n\n\t\t\tif (this.isRecording && this.isHold) {\n\t\t\t\tthis.$emit(\"onRecordingStop\", {});\n\t\t\t\tthis.isHold = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=16750db8&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.scss?vue&type=style&index=0&id=16750db8&prod&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"16750db8\",\n  null\n  ,true\n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"recordProgress\"},[(_vm.isRecording)?_c('div',{staticClass:\"indicatorWrapper\"},[_c('div',{staticClass:\"indicator\",class:{ recording: _vm.isRecording }})]):_c('div',{staticClass:\"del\",on:{\"click\":_vm.clear}},[_c('i',{staticClass:\"fas fa-trash\"})]),_c('div',{staticClass:\"timer\"},[_vm._v(_vm._s(_vm.timer))]),_c('div',{ref:\"graph\",staticClass:\"graph\"},[_c('canvas',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"width\":_vm.width,\"height\":\"20\"}})]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRecording && _vm.opacity),expression:\"isRecording && opacity\"}],ref:\"cancel\",staticClass:\"cancel\"},[_c('span',[_vm._v(\"Slide left to cancel\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n\tname: \"recordProgress\",\n\tprops: {\n\t\trecordTime: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\trmsData: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tisRecording: {\n\t\t\ttype: Boolean,\n\t\t},\n\t\topacity: {},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\twidth: 0,\n\t\t};\n\t},\n\tcomputed: {\n\t\ttimer() {\n\t\t\tlet minute = Math.floor(this.recordTime / 60000);\n\t\t\tlet sec = Math.floor(this.recordTime / 1000) % 60;\n\t\t\treturn `${minute ? minute + \":\" : \"0:\"}${sec < 10 ? \"0\" + sec : sec}`;\n\t\t},\n\n\t\trmsDataLast() {\n\t\t\treturn _.last(this.rmsData, 25);\n\t\t},\n\t},\n\n\twatch: {\n\t\trmsData: _.throttle(function () {\n\t\t\tthis.draw();\n\t\t}, 30),\n\n\t\topacity: function () {\n\t\t\tthis.$refs.cancel.style.opacity = this.opacity;\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.$refs.cancel.style.opacity = 0;\n\t\tlet width = this.$refs.graph.offsetWidth;\n\t\tthis.width = width - (width % 100);\n\n\t\twindow.addEventListener(\"resize\", this.resize);\n\t},\n\tbeforeDestroy() {\n\t\twindow.removeEventListener(\"resize\", this.resize);\n\t},\n\n\tmethods: {\n\t\tresize() {\n\t\t\tlet timer = null;\n\n\t\t\tvar re = () => {\n\t\t\t\tif (!timer) {\n\t\t\t\t\ttimer = setTimeout(() => {\n\t\t\t\t\t\ttimer = null;\n\t\t\t\t\t\tlet width = this.$refs.graph.offsetWidth;\n\t\t\t\t\t\tthis.width = width - (width % 100);\n\t\t\t\t\t}, 50);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tre();\n\t\t},\n\t\tdraw() {\n\t\t\tif (!this.$refs.canvas) return;\n\n\t\t\tconst ctx = this.$refs.canvas.getContext(`2d`);\n\t\t\tlet x = 0;\n\t\t\tlet count = 50;\n\t\t\tlet width = 2; //this.width / 200\n\t\t\tvar l = this.rmsDataLast.length;\n\t\t\tvar c = Math.max(Math.floor(l / count), 1);\n\n\t\t\tctx.clearRect(0, 0, this.width, 20);\n\n\t\t\tfor (let i = 0; i < l; i = i + c) {\n\t\t\t\tctx.fillStyle = \"#00a4ff\";\n\t\t\t\tctx.fillRect(\n\t\t\t\t\ti * 2 * width,\n\t\t\t\t\t10 - this.rmsDataLast[i] / 8,\n\t\t\t\t\twidth,\n\t\t\t\t\tthis.rmsDataLast[i] / 4 + 1\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tclear() {\n\t\t\tthis.$emit(\"onClear\");\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5df29904&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.scss?vue&type=style&index=0&id=5df29904&prod&scoped=true&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5df29904\",\n  null\n  ,true\n)\n\nexport default component.exports","import f from \"@/application/functions\";\nimport InputField from \"./InputField/InputField.vue\";\nimport recordVoice from \"@/components/assets/recordVoice/index.vue\";\nimport { mapState } from \"vuex\";\nimport Images from \"@/application/utils/images.js\";\n\nimport contacts from \"@/components/contacts/list/index.vue\";\nimport preview from \"@/components/contacts/preview/index.vue\";\nimport recordProgress from \"@/components/assets/recordProgress/index.vue\";\n\nimport upload from \"@/components/assets/upload/index.vue\";\n\nimport { cancelable } from \"cancelable-promise\";\nexport default {\n\tname: \"chatInput\",\n\tprops: {\n\t\tchat: Object,\n\t\tu: String,\n\t\trelationEvent: Object,\n\t},\n\n\tcomponents: {\n\t\tInputField,\n\t\tcontacts,\n\t\tpreview,\n\t\trecordProgress,\n\t\trecordVoice,\n\t\tupload,\n\t},\n\t\n\tinject: [\n\t\t\"streamMode\",\n\t\t\"authorId\",\n\t\t\"menuState\"\n\t],\n\n\tdata: function () {\n\t\treturn {\n\t\t\tupload: true,\n\t\t\ttest: [],\n\t\t\tloading: false,\n\t\t\ttext: \"\",\n\t\t\tfile: {},\n\t\t\tfileInfo: {},\n\t\t\tready: false,\n\t\t\tcreating: false,\n\t\t\tuserId: \"\",\n\t\t\tshowuserselect: null,\n\t\t\tanyUrlMeta: String,\n\t\t\tjoinedMembers: [],\n\t\t\ttipvalue: null,\n\t\t\ttipuserindex: 0,\n\t\t\trecord: null,\n\t\t\trecordRmsData: [],\n\t\t\tisRecording: false,\n\n\t\t\tmediaRecorder: null,\n\t\t\taudioContext: null,\n\t\t\taudioAnalyser: null,\n\n\t\t\trecordTime: 0,\n\t\t\tinterval: null,\n\t\t\tcancelOpacity: 0,\n\t\t\tmicrophoneDisabled: false,\n\t\t\tprepareRecording: false,\n\n\t\t\tcancelledCordovaMediaRecorder: false,\n\n\t\t\tdonate: null\n\t\t};\n\t},\n\n\twatch: {\n\t\tusersForKeysHash: {\n\t\t\t//immediate: true,\n\t\t\thandler: function () {},\n\t\t},\n\t\ttipusers: function () {\n\t\t\tif (!this.tipusers.length) {\n\t\t\t\tthis.tipuserindex = 0;\n\t\t\t} else {\n\t\t\t\tif (this.tipuserindex > this.tipusers.length - 1) {\n\t\t\t\t\tthis.tipuserindex = this.tipusers.length - 1;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\n\tbeforeDestroy() {\n\t\tif (this.audioContext) this.audioContext.close();\n\t},\n\n\tcomputed: {\n\t\tvoiceEnable() {\n\t\t\treturn this.$store.state.voiceMessagesEnabled;\n\t\t},\n\n\t\tconnect: function () {\n\t\t\treturn this.$store.state.contact;\n\t\t},\n\t\tpkoindisabled: function () {\n\t\t\treturn this.$store.state.pkoindisabled;\n\t\t},\n\n\t\tmenu: function () {\n\t\t\tvar menuItems = [];\n\n\t\t\tif (\n\t\t\t\twindow.POCKETNETINSTANCE &&\n\t\t\t\twindow.POCKETNETINSTANCE.mobile.supportimagegallery()\n\t\t\t) {\n\t\t\t\tmenuItems.push({\n\t\t\t\t\taction: this.cameraHandlerCustom,\n\t\t\t\t\ttext: \"button.takePhotoOrVideo\",\n\t\t\t\t\ticon: \"fas fa-camera\",\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmenuItems.push({\n\t\t\t\t\ttext: \"button.takePhotoOrVideo\",\n\t\t\t\t\ticon: \"fas fa-camera\",\n\n\t\t\t\t\tupload: {\n\t\t\t\t\t\tmultiple: true,\n\t\t\t\t\t\textensions: [\"jpg\", \"jpeg\", \"png\", \"webp\"],\n\t\t\t\t\t\tmaxsize: 100,\n\t\t\t\t\t\timages: {\n\t\t\t\t\t\t\tresize: {\n\t\t\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\tstart : this.uploadStart,\n\t\t\t\t\t\terror : this.uploadError,\n\t\t\t\t\t\tuploaded : this.uploadUploaded,\n\t\t\t\t\t\tuploadedAll : this.uploadUploadedAll\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tmenuItems.push({\n\t\t\t\ttext: \"button.sendFile\",\n\t\t\t\ticon: \"fas fa-sticky-note\",\n\n\t\t\t\tupload: {\n\t\t\t\t\tmultiple: true,\n\t\t\t\t\textensions: [],\n\t\t\t\t\tmaxsize: 25,\n\t\t\t\t\timages: {\n\t\t\t\t\t\tresize: {\n\t\t\t\t\t\t\ttype: \"fit\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\n\t\t\t\t\tstart : this.uploadStart,\n\t\t\t\t\terror : this.uploadError,\n\t\t\t\t\tuploaded : this.uploadUploaded,\n\t\t\t\t\tuploadedAll : this.uploadUploadedAll\n\t\t\t\t},\n\t\t\t});\n\n\t\t\tif (this.transaction && !this.pkoindisabled) {\n\t\t\t\tmenuItems.unshift({\n\t\t\t\t\taction: this.sendtransactionWrapper,\n\t\t\t\t\ttext: \"button.sendCoins\",\n\t\t\t\t\ticon: \"fas fa-wallet\",\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn menuItems;\n\t\t},\n\n\t\t...mapState([\"chats\"]),\n\n\t\tuserlist: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\treturn this.core.mtrx.chatUsersInfo(this.chat.roomId, \"anotherChatUsers\");\n\t\t},\n\n\t\ttransaction: function () {\n\t\t\treturn f.deep(window, \"POCKETNETINSTANCE.platform.ui.wallet.donate\");\n\t\t},\n\n\t\tuusers: function () {\n\t\t\tif (this.u) {\n\t\t\t\treturn _.map(this.u.split(\",\"), (u) => {\n\t\t\t\t\treturn u;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t\tausers: function () {\n\t\t\tif (this.u) {\n\t\t\t\treturn _.map(this.u.split(\",\"), (u) => {\n\t\t\t\t\treturn this.core.user.matrixId(u);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn [];\n\t\t},\n\t\tstateChat: function () {\n\t\t\tvar id = this.$route.query.id;\n\t\t\treturn this.$store.state.chatsMap[id];\n\t\t},\n\t\tinvited: function () {\n\t\t\tif (!this.chat) {\n\t\t\t\tif (this.u) return this.ausers;\n\t\t\t\treturn [];\n\t\t\t}\n\n\t\t\treturn _.map(\n\t\t\t\t_.filter(this.chat.currentState.getMembers(), function (m, v) {\n\t\t\t\t\treturn m.membership === \"invite\";\n\t\t\t\t}),\n\t\t\t\tfunction (u) {\n\t\t\t\t\treturn u.userId;\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\n\t\tjoined: function () {\n\t\t\tif (!this.chat) return [];\n\n\t\t\tlet roomId = this.chat.roomId;\n\t\t\tlet self = this;\n\t\t\tlet arr = [];\n\t\t\tlet members = 0;\n\n\t\t\tthis.chat.currentState.getMembers().forEach(function (user) {\n\t\t\t\tif (user.membership === \"join\") {\n\t\t\t\t\tarr.push(user.userId);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn arr;\n\t\t},\n\n\t\ttipusers: function () {\n\t\t\tif (this.tipvalue === null) return [];\n\t\t\tif (this.tipvalue === \"\") return this.userlist;\n\n\t\t\tvar value = this.tipvalue.toLowerCase();\n\n\t\t\tvar u = _.filter(this.userlist, function (u) {\n\t\t\t\treturn (\n\t\t\t\t\tu.name.toLowerCase().indexOf(value) == 0 &&\n\t\t\t\t\tu.name.toLowerCase() != value\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn u;\n\t\t},\n\n\t\tmaintipuser: function () {\n\t\t\tif (this.tipusers.length) {\n\t\t\t\treturn this.tipusers[this.tipuserindex || 0];\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\n\t\tme() {\n\t\t\t/* Compare author and user bastyon id to prevent donate myself */\n\t\t\treturn this.authorId === this.core.user.userinfo?.source.address;\n\t\t}\n\t},\n\n\tcreated() {},\n\n\t///\n\n\tmounted() {\n\t\tthis.ready = true;\n\n\t\tif (!this.chat && this.core.mtrx.client) {\n\t\t\tthis.newchat().catch((e) => {\n\t\t\t\treturn Promise.resolve();\n\t\t\t});\n\t\t}\n\t},\n\n\tmethods: {\n\t\twait: function () {\n\t\t\treturn this.$f.pretry(() => {\n\t\t\t\treturn this.core.mtrx.client && this.core.mtrx.access;\n\t\t\t});\n\t\t},\n\n\t\tbrowsetip: function (increase) {\n\t\t\tincrease ? this.tipuserindex++ : this.tipuserindex--;\n\n\t\t\tif (this.tipuserindex > this.tipusers.length - 1) {\n\t\t\t\tthis.tipuserindex = 0;\n\t\t\t}\n\n\t\t\tif (this.tipuserindex < 0) {\n\t\t\t\tthis.tipuserindex = this.tipusers.length - 1;\n\t\t\t}\n\t\t},\n\n\t\tselectcurrenttip: function () {\n\t\t\tthis.insertuser(this.tipusers[this.tipuserindex || 0]);\n\t\t},\n\n\t\tinsertuser: function (user = {}) {\n\t\t\tvar name = user.name || \"\";\n\n\t\t\tthis.$refs[\"newinput\"].inserttip(name);\n\t\t},\n\n\t\ttipBySearch: function (value) {\n\t\t\tthis.tipvalue = value;\n\t\t},\n\n\t\tshowuserselected: function (contact, action) {\n\t\t\tthis[action](contact);\n\t\t},\n\n\t\tresizeImage: function (base64) {\n\t\t\tvar ftype = base64.split(\";\")[0].split(\"/\")[1];\n\t\t\tvar images = new Images();\n\n\t\t\treturn images.resize[\"fit\"](base64, 1024, 1024, ftype, 0.95)\n\t\t\t\t.then((base64) => {\n\t\t\t\t\treturn Promise.resolve(base64);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t});\n\t\t},\n\n\t\tcameraHandlerCustom: function () {\n\t\t\tvar result = [];\n\n\t\t\twindow.POCKETNETINSTANCE.platform.ui.uploadImage({\n\t\t\t\tmultiple: true,\n\n\t\t\t\taction: ({ base64 }, resolve) => {\n\t\t\t\t\treturn this.resizeImage(base64)\n\t\t\t\t\t\t.then((base64) => {\n\t\t\t\t\t\t\treturn f.Base64.toFile(base64).then((file) => {\n\t\t\t\t\t\t\t\tvar data = {\n\t\t\t\t\t\t\t\t\tbase64,\n\t\t\t\t\t\t\t\t\tfile,\n\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\tresult.push(data);\n\n\t\t\t\t\t\t\t\tthis.uploadUploaded(null, data);\n\n\t\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\tresolve();\n\t\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tonSuccess: (imgs) => {\n\t\t\t\t\tthis.uploadUploadedAll();\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\n\t\tsendtransactionWrapper: function () {\n\t\t\tvar users = (() => {\n\t\t\t\tif (this.streamMode && this.authorId) {\n\t\t\t\t\t/* Donate only to author (stream mode) */\n\t\t\t\t\treturn [{\n\t\t\t\t\t\tid: this.authorId,\n\t\t\t\t\t\tsource: {\n\t\t\t\t\t\t\taddress: this.authorId\n\t\t\t\t\t\t}\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\t/* Donate to chat participants */\n\t\t\t\t\treturn _.filter(\n\t\t\t\t\t\t_.map(this.joined, (j) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\tthis.$f.deep(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\"$store.state.users.\" + this.$f.getmatrixid(j)\n\t\t\t\t\t\t\t\t) || null\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}),\n\t\t\t\t\t\t(r) => {\n\t\t\t\t\t\t\treturn r && r.source && r.id != this.core.user.userinfo?.id;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t})();\n\t\t\t\n\t\t\tif (!users.length) {\n\t\t\t\treturn \"users.length\";\n\t\t\t}\n\n\t\t\tif (users.length > 1) {\n\t\t\t\tthis.core.store.commit(\"setmodal\", {\n\t\t\t\t\tcaption: this.$i18n.t(\"caption.sendTransactionTo\"),\n\t\t\t\t\ttype: \"showuserselect\",\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tusers: users,\n\t\t\t\t\t\taction: \"sendtransaction\",\n\t\t\t\t\t\tuserselected: (c) => {\n\t\t\t\t\t\t\tthis.showuserselected(c, \"sendtransaction\");\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t});\n\n\t\t\t\t/*this.showuserselect = {\n\t\t\t\t  users : users,\n\t\t\t\t  action : 'sendtransaction'\n\t\t\t\t}*/\n\t\t\t} else {\n\t\t\t\tthis.sendtransaction(users[0]);\n\t\t\t}\n\n\t\t},\n\n\t\tsendtransaction: function (user) {\n\t\t\tif (this.donate) return;\n\n\t\t\tvar api = this.transaction;\n\n\t\t\t//TODO get address and send transaction\n\n\t\t\tapi({\n\t\t\t\troomid: this.chat.roomId,\n\t\t\t\treceiver: user.source.address,\n\t\t\t\tsend: !this.streamMode,\n\t\t\t\tshare: !this.streamMode\n\t\t\t}).then(transaction => {\n\t\t\t\tthis.donate = transaction;\n\t\t\t})\n\t\t},\n\n\t\tremovetransaction: function () {\n\t\t\tthis.donate = null;\n\t\t},\n\n\t\temitInputData: function () {\n\t\t\tthis.$emit(\"emptyInput\");\n\t\t\tthis.upload = true;\n\t\t},\n\n\t\tHideUploadPic() {\n\t\t\tthis.upload = false;\n\t\t},\n\n\t\temitUrl: function (url) {\n\t\t\tthis.$emit(\"setMetaUrl\", url);\n\t\t},\n\n\t\tnewchat() {\n\t\t\tif (this.u) {\n\t\t\t\tthis.$store.state.globalpreloader = true;\n\t\t\t\tvar matrixId = null;\n\t\t\t\tvar myMatrixId = null;\n\t\t\t\tvar chat = null;\n\t\t\t\tvar id = \"\";\n\n\t\t\t\tthis.creating = true;\n\t\t\t\treturn this.core.user\n\t\t\t\t\t.usersInfo(this.uusers)\n\t\t\t\t\t.then((info) => {\n\t\t\t\t\t\tif (this.uusers.length == 1) {\n\t\t\t\t\t\t\tvar _info = info[0];\n\n\t\t\t\t\t\t\tif (!_info || !_info.keys || _info.keys.length < 12) {\n\t\t\t\t\t\t\t\tthis.$emit(\"cantchatcrypto\");\n\t\t\t\t\t\t\t\treturn Promise.reject(\"ny2\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (this.core.user.userinfo.keys.length < 12) {\n\t\t\t\t\t\t\tthis.$emit(\"cantchatcrypto\");\n\t\t\t\t\t\t\treturn Promise.reject(\"ny2\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//return Promise.reject('ny3')\n\n\t\t\t\t\t\tid = this.core.mtrx.kit.tetatetid(info[0], this.core.user.userinfo);\n\n\t\t\t\t\t\tmatrixId = this.core.user.matrixId(info[0].id);\n\t\t\t\t\t\tmyMatrixId = this.core.user.matrixId(this.core.user.userinfo.id);\n\n\t\t\t\t\t\tvar initialstate = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ttype: \"m.set.encrypted\",\n\t\t\t\t\t\t\t\tstate_key: \"\",\n\t\t\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\t\t\tencrypted: true,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\treturn this.core.mtrx.client.createRoom({\n\t\t\t\t\t\t\troom_alias_name: id,\n\t\t\t\t\t\t\tvisibility: \"private\",\n\t\t\t\t\t\t\tinvite: [matrixId],\n\t\t\t\t\t\t\tname: \"#\" + id,\n\t\t\t\t\t\t\tinitial_state: initialstate,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.then((_chat) => {\n\t\t\t\t\t\tchat = _chat;\n\t\t\t\t\t\tthis.$store.state.globalpreloader = false;\n\n\t\t\t\t\t\tlet m_chat = this.core.mtrx.client.getRoom(_chat.room_id);\n\t\t\t\t\t\tlet event = m_chat.currentState.getStateEvents(\n\t\t\t\t\t\t\t\"m.room.power_levels\"\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn this.core.mtrx.client\n\t\t\t\t\t\t\t.setPowerLevel(chat.room_id, matrixId, 100, event[0])\n\t\t\t\t\t\t\t.catch((e) => {});\n\t\t\t\t\t})\n\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\tthis.creating = false;\n\n\t\t\t\t\t\tif (this.connect && this.connect == id) {\n\t\t\t\t\t\t\tthis.greetings();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.$store.commit(\"CONTACT\", false);\n\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tthis.creating = false;\n\n\t\t\t\t\t\tthis.$store.state.globalpreloader = false;\n\n\t\t\t\t\t\tif (e && e.errcode == \"M_ROOM_IN_USE\") {\n\t\t\t\t\t\t\treturn this.core.mtrx.client\n\t\t\t\t\t\t\t\t.joinRoom(\n\t\t\t\t\t\t\t\t\t\"#\" +\n\t\t\t\t\t\t\t\t\t\tid +\n\t\t\t\t\t\t\t\t\t\t\":\" +\n\t\t\t\t\t\t\t\t\t\tthis.core.mtrx.baseUrl.replace(\"https://\", \"\")\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t.then(() => {})\n\t\t\t\t\t\t\t\t.catch((e) => {});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\treturn Promise.reject(\"u\");\n\t\t\t}\n\t\t},\n\n\t\tmaySendMessage() {\n\t\t\treturn this.chat && this.chat.maySendMessage();\n\t\t},\n\n\t\tgreetings() {\n\t\t\tthis.send(\"\").then((r) => {\n\t\t\t\treturn Promise.resolve(r);\n\t\t\t});\n\t\t},\n\n\t\tsendinput(text) {\n\t\t\tthis.send(text).then((r) => {\n\t\t\t\treturn Promise.resolve(r);\n\t\t\t});\n\t\t},\n\n\t\ttextCutLimit: function (text, limit) {\n\t\t\ttext = text.trim();\n\t\t\tif (text.length <= limit) return text;\n\n\t\t\ttext = text.slice(0, limit);\n\n\t\t\treturn text.trim() + \"...\";\n\t\t},\n\n\t\treplaceMentions(text) {\n\t\t\t_.each(this.userlist, function (user) {\n\t\t\t\ttext = text.replace(\n\t\t\t\t\tnew RegExp(\"@\" + user.name, \"g\"),\n\t\t\t\t\t\"@\" + user.id + \":\" + user.name\n\t\t\t\t);\n\t\t\t});\n\n\t\t\treturn text;\n\t\t},\n\n\t\tclbkEncrypt(){\n\t\t\tthis.$emit('encrypt')\n\t\t},\n\n\t\tclbkEncrypted(){\n\t\t\tthis.$emit('encrypted')\n\n\t\t},\n\n\t\tsend(text) {\n\t\t\tif (!this.chat) {\n\t\t\t\tthis.newchat().catch((e) => {});\n\t\t\t}\n\n\t\t\t//return this.chat.pcrypto.getOrCreateCommonKey()\n\n\t\t\t//return this.chat.pcrypto.sendCommonKey()\n\n\t\t\t//return\n\n\t\t\tthis.$emit(\"sending\");\n\n\t\t\tif (!this.relationEvent) {\n\t\t\t\tthis.focus();\n\t\t\t}\n\n\t\t\treturn this.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat && !this.creating;\n\t\t\t\t})\n\t\t\t\t.then(async (r) => {\n\t\t\t\t\tthis.$emit(\"sent\");\n\n\t\t\t\t\ttext = this.replaceMentions(text);\n\n\t\t\t\t\tif (this.relationEvent) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tthis.relationEvent.type == \"m.replace\" &&\n\t\t\t\t\t\t\tthis.relationEvent.event\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn this.core.mtrx\n\t\t\t\t\t\t\t\t.textEvent(this.chat, text, {\n\t\t\t\t\t\t\t\t\tencryptEvent : this.clbkEncrypt,\n\t\t\t\t\t\t\t\t\tencryptedEvent : this.clbkEncrypted\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\t\t\t\tr[\"m.relates_to\"] = {\n\t\t\t\t\t\t\t\t\t\trel_type: \"m.replace\",\n\t\t\t\t\t\t\t\t\t\tevent_id:\n\t\t\t\t\t\t\t\t\t\t\tthis.core.mtrx.clearEventId(this.relationEvent.event) ||\n\t\t\t\t\t\t\t\t\t\t\tf.makeid(),\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\t\t\tvar editEvent = r;\n\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.body = r.body;\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.block = r.block;\n\t\t\t\t\t\t\t\t\tthis.relationEvent.event.event.content.msgtype = r.msgtype;\n\n\t\t\t\t\t\t\t\t\tdelete this.relationEvent.event.event.decryptKey;\n\t\t\t\t\t\t\t\t\tdelete this.relationEvent.event.event.decrypted;\n\n\t\t\t\t\t\t\t\t\treturn this.core.mtrx.client.sendEvent(\n\t\t\t\t\t\t\t\t\t\tthis.chat.roomId,\n\t\t\t\t\t\t\t\t\t\t\"m.room.message\",\n\t\t\t\t\t\t\t\t\t\teditEvent\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then((r) => {\n\t\t\t\t\t\t\t\t\tthis.core.store.dispatch(\"FETCH_EVENTS\");\n\n\t\t\t\t\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\t\t\t\t\tthis.$emit(\"force\");\n\n\t\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t\treturn Promise.reject(e);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tconst\n\t\t\t\t\t\tsendText = (text, params) => {\n\t\t\t\t\t\t\treturn this.core.mtrx.sendtext(this.chat, text, Object.assign({\n\t\t\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t\t\t}, params || {}), {\n\t\t\t\t\t\t\t\tencryptEvent : this.clbkEncrypt,\n\t\t\t\t\t\t\t\tencryptedEvent : this.clbkEncrypted\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdata = {};\n\n\t\t\t\t\tif (this.donate) {\n\t\t\t\t\t\tconst donate = Object.assign(this.donate, {});\n\t\t\t\t\t\tthis.removetransaction();\n\t\t\t\t\t\tconst txid = await donate.send();\n\t\t\t\t\t\tdata.donateLink = txid;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn sendText(text, data);\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tthis.$emit(\"sentMessageError\", {\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tpasteImage(data) {\n\t\t\tthis.sendImage({ base64: data });\n\t\t},\n\n\t\tsendImage: function ({ base64, file }) {\n\t\t\tvar id = f.makeid();\n\n\t\t\tvar meta = {\n\t\t\t\ttype: \"image\",\n\t\t\t\tid: id,\n\t\t\t\tbase64: base64,\n\t\t\t};\n\n\t\t\tthis.$emit(\"sendingData\", meta);\n\t\t\t//setTimeout(() => {\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tif (meta.aborted) return Promise.reject(\"aborted\");\n\n\t\t\t\t\treturn this.core.mtrx.sendImage(this.chat, base64, null, meta, {\n\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then((r) => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\tthis.$emit(\"sentData\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t\t//}, 5000)\n\t\t},\n\n\t\tcanencryptfilesize: function (file) {\n\t\t\tvar s = 10 * 1024 * 1024;\n\n\t\t\tif (!this.chat.pcrypto.canBeEncrypt()) {\n\t\t\t\treturn Promise.resolve(false);\n\t\t\t}\n\n\t\t\tif (file.size > s) {\n\t\t\t\treturn this.$dialog\n\t\t\t\t\t.confirm(\n\t\t\t\t\t\t\"Files larger than 10 megabytes are not encrypted. Do you want to send the file unencrypted?\",\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tokText: \"Yes\",\n\t\t\t\t\t\t\tcancelText: \"No, cancel\",\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\n\t\t\t\t\t.then((dialog) => {\n\t\t\t\t\t\treturn Promise.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\treturn Promise.reject(\"cancel\");\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn Promise.resolve(false);\n\t\t},\n\n\t\tsendFile: function ({ file }) {\n\t\t\tvar id = f.makeid();\n\n\t\t\tvar meta = {\n\t\t\t\ttype: \"file\",\n\t\t\t\tid: id,\n\t\t\t\tinfo: {\n\t\t\t\t\tname: file.name,\n\t\t\t\t\tsize: file.size,\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tthis.$emit(\"sendingData\", meta);\n\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\treturn this.canencryptfilesize(file);\n\t\t\t\t})\n\t\t\t\t.then((notenc) => {\n\t\t\t\t\treturn this.core.mtrx.sendFile(\n\t\t\t\t\t\tthis.chat,\n\t\t\t\t\t\tfile,\n\t\t\t\t\t\tmeta,\n\t\t\t\t\t\t{ relation: this.relationEvent },\n\t\t\t\t\t\tnotenc\n\t\t\t\t\t);\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\n\t\t\t\t\tthis.$emit(\"sentData\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t});\n\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\n\t\tfocus: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].focus();\n\t\t},\n\n\t\tfocused: function () {\n\t\t\tthis.$emit(\"focused\");\n\t\t},\n\n\t\tblur: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].blur();\n\t\t},\n\n\t\tblurifempty: function () {\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].blurifempty();\n\t\t},\n\n\t\tchange: function () {},\n\n\t\tsetText: function (text) {\n\t\t\tthis.text = text;\n\n\t\t\tif (this.$refs[\"newinput\"]) this.$refs[\"newinput\"].setText(text);\n\t\t},\n\n\t\tkeyup: function (evt) {\n\t\t\tvar value = evt.target.value;\n\n\t\t\tif (value === \"\") {\n\t\t\t\tthis.$emit(\"inputClean\", false);\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tthis.$emit(\"inputClean\", true);\n\t\t\t}\n\n\t\t\tthis.text = value;\n\t\t\tthis.anyUrlMeta = f.getUrl(this.text);\n\n\t\t\tif (this.anyUrlMeta !== undefined) {\n\t\t\t\tthis.$emit(\"setMetaUrl\", this.anyUrlMeta);\n\t\t\t} else {\n\t\t\t\tthis.$emit(\"inputClean\", false);\n\t\t\t}\n\n\t\t\tif (this.chat)\n\t\t\t\tthis.core.mtrx.client.sendTyping(this.chat.roomId, true, 100);\n\t\t},\n\n\t\tuploadStart(item, files) {},\n\n\t\tuploadError(item, error) {\n\t\t\tthis.$store.commit(\"icon\", {\n\t\t\t\ticon: \"error\",\n\t\t\t\tmessage: error.text,\n\t\t\t});\n\t\t},\n\t\tgetImg() {\n\t\t\treturn (this.imgs = true);\n\t\t},\n\t\tuploadSizeError(value) {\n\t\t\tif (!value) {\n\t\t\t}\n\t\t},\n\t\tuploadUploaded(item, data) {\n\t\t\tconst validImageTypes = [\n\t\t\t\t\"image/gif\",\n\t\t\t\t\"image/jpeg\",\n\t\t\t\t\"image/png\",\n\t\t\t\t\"image/webp\",\n\t\t\t];\n\n\t\t\tif (!validImageTypes.includes(data.file.type)) {\n\t\t\t\tthis.sendFile(data);\n\t\t\t} else {\n\t\t\t\treturn this.sendImage(data);\n\t\t\t}\n\t\t},\n\t\timageWH(file) {\n\t\t\tconst img = new Image();\n\t\t\tvar imgInfo = {};\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\timg.onload = function () {\n\t\t\t\t\timgInfo.w = this.width;\n\t\t\t\t\timgInfo.h = this.height;\n\t\t\t\t\tresolve(imgInfo);\n\t\t\t\t};\n\n\t\t\t\timg.onerror = function (e) {\n\t\t\t\t\treject(e);\n\t\t\t\t};\n\n\t\t\t\timg.src = file.base64;\n\t\t\t});\n\t\t},\n\t\tuploadUploadedAll(item, result) {\n\t\t\tthis.$store.state.loading = false;\n\t\t},\n\n\t\tcatchPermissonsError(err) {\n\t\t\tif (\n\t\t\t\terr == \"permissions\" ||\n\t\t\t\t(err.toString && err.toString().indexOf(\"Permission\") > -1)\n\t\t\t) {\n\t\t\t\tthis.microphoneDisabled = true;\n\n\t\t\t\tif (window.cordova) {\n\t\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccesscordova\"), {\n\t\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccessbrowser\"), {\n\t\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (err.toString && err.toString().indexOf(\"device not found\") > -1) {\n\t\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micdevicenotfound\"), {\n\t\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$dialog.confirm(this.$i18n.t(\"micaccesscommonproblem\"), {\n\t\t\t\tokText: this.$i18n.t(\"button.ok\"),\n\t\t\t});\n\n\t\t\tconsole.error(err);\n\t\t},\n\n\t\tgetFileIosCordova(path) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\twindow.resolveLocalFileSystemURL(\n\t\t\t\t\tpath,\n\t\t\t\t\t(entry) => {\n\t\t\t\t\t\tif (!entry) {\n\t\t\t\t\t\t\treturn reject(\"noentry\");\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tentry.file((file) => {\n\t\t\t\t\t\t\tvar reader = new FileReader();\n\n\t\t\t\t\t\t\treader.onloadend = function () {\n\t\t\t\t\t\t\t\tvar blob = new Blob([new Uint8Array(this.result)], {\n\t\t\t\t\t\t\t\t\ttype: file.type,\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tentry.remove();\n\n\t\t\t\t\t\t\t\tresolve(blob);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\t\t\t\tentry.remove();\n\n\t\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treader.readAsArrayBuffer(file);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t(e) => {\n\t\t\t\t\t\treject(e);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\n\t\tinitRecordingCordova() {\n\t\t\tthis.prepareRecording = cancelable(\n\t\t\t\tthis.core.media\n\t\t\t\t\t.permissions({ audio: true })\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tconsole.error(err);\n\n\t\t\t\t\t\tthis.catchPermissonsError(err);\n\n\t\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.prepareRecording\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\tvar path = \"recording.mp3\";\n\n\t\t\t\t\tif (f.isios()) path = \"cdvfile://localhost/temporary/recording.m4a\";\n\n\t\t\t\t\tvar sec = 0;\n\n\t\t\t\t\tthis.audioContext = this.core.getAudioContext();\n\n\t\t\t\t\t//var startedTime = (new Date()).getTime() / 1000\n\n\t\t\t\t\tvar media = (this.cordovaMediaRecorder = new Media(\n\t\t\t\t\t\tpath,\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\tthis.recordTime = 0;\n\n\t\t\t\t\t\t\tmedia.release();\n\n\t\t\t\t\t\t\tif (this.cancelledCordovaMediaRecorder) {\n\t\t\t\t\t\t\t\tthis.cancelledCordovaMediaRecorder = false;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tvar fu = null;\n\n\t\t\t\t\t\t\t/*if(f.isios()){ */\n\n\t\t\t\t\t\t\tfu = this.getFileIosCordova(\n\t\t\t\t\t\t\t\tf.isios()\n\t\t\t\t\t\t\t\t\t? path\n\t\t\t\t\t\t\t\t\t: window.cordova.file.externalDataDirectory + path\n\t\t\t\t\t\t\t).then((blob) => {\n\t\t\t\t\t\t\t\treturn Promise.resolve({\n\t\t\t\t\t\t\t\t\tdata: blob,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t/*}\n\n\t\t\t\t\telse{\n\t\t\t\t\t\tfu = f.fetchLocal(path)\n\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\tfu.then((r) => {\n\t\t\t\t\t\t\t\t///temp\n\t\t\t\t\t\t\t\t/*if (f.isios())\n\t\t\t\t\t\t\tr.duration = (new Date()).getTime() / 1000 - startedTime\n\n\t\t\t\t\t\tconsole.log(\"R\", r)\n\n\t\t\t\t\t\t/*var e = {\n\t\t\t\t\t\t\tdata : r.data\n\t\t\t\t\t\t}*/\n\n\t\t\t\t\t\t\t\tif (media.duration && media.duration > 0) {\n\t\t\t\t\t\t\t\t\tr.duration = media.duration;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tthis.createVoiceMessage(r, true);\n\n\t\t\t\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\t\t\t\tthis.clear();\n\n\t\t\t\t\t\t\t\t\tconsole.error(e);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.finally(() => {});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(e) => {\n\t\t\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\t\t\tthis.isRecording = false;\n\t\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t\t}\n\t\t\t\t\t));\n\n\t\t\t\t\tvar rmsdata = [];\n\n\t\t\t\t\tlet currentPlaying = this.$store.state.currentPlayingVoiceMessage;\n\n\t\t\t\t\tif (currentPlaying) {\n\t\t\t\t\t\tcurrentPlaying.pause();\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.interval = setInterval(() => {\n\t\t\t\t\t\t// get media amplitude\n\n\t\t\t\t\t\tif (f.isios()) {\n\t\t\t\t\t\t\trmsdata.push(1);\n\n\t\t\t\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.cordovaMediaRecorder.getCurrentAmplitude(\n\t\t\t\t\t\t\t\t// success callback\n\t\t\t\t\t\t\t\t(amp) => {\n\t\t\t\t\t\t\t\t\trmsdata.push(amp * 1000);\n\n\t\t\t\t\t\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\t\t\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfunction (e) {\n\t\t\t\t\t\t\t\t\tconsole.log(\"E\", e);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsec = sec + 50;\n\n\t\t\t\t\t\tif (sec % 1000 === 0) this.recordTime = sec;\n\t\t\t\t\t}, 50);\n\n\t\t\t\t\tthis.isRecording = true;\n\t\t\t\t\tthis.cancelOpacity = 0;\n\t\t\t\t\tthis.recordRmsData = [];\n\t\t\t\t\tthis.recordTime = 0;\n\t\t\t\t\tthis.record = null;\n\n\t\t\t\t\tthis.cordovaMediaRecorder.startRecord();\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tconsole.error(e);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.prepareRecording = null;\n\t\t\t\t});\n\t\t},\n\n\t\tinitRecording() {\n\t\t\tif (\n\t\t\t\tthis.prepareRecording ||\n\t\t\t\tthis.isRecording ||\n\t\t\t\tthis.cordovaMediaRecorder\n\t\t\t)\n\t\t\t\treturn;\n\n\t\t\tif (window.cordova && !f.isios()) {\n\t\t\t\treturn this.initRecordingCordova();\n\t\t\t}\n\n\t\t\tthis.prepareRecording = cancelable(\n\t\t\t\tthis.core\n\t\t\t\t\t.initMediaRecorder()\n\t\t\t\t\t.then((recorder) => {\n\t\t\t\t\t\tthis.microphoneDisabled = false;\n\n\t\t\t\t\t\tif (this.prepareRecording) {\n\t\t\t\t\t\t\treturn Promise.resolve(recorder);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\t\t\t\ttrack.stop();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((err) => {\n\t\t\t\t\t\tthis.catchPermissonsError(err);\n\t\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t\t})\n\t\t\t);\n\n\t\t\tthis.prepareRecording\n\t\t\t\t.then((recorder) => {\n\t\t\t\t\tthis.mediaRecorder = recorder;\n\n\t\t\t\t\tthis.audioContext = this.core.getAudioContext();\n\t\t\t\t\tthis.audioAnalyser = this.audioContext.createAnalyser();\n\n\t\t\t\t\t//var audioDataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount)\n\n\t\t\t\t\tvar src = this.audioContext.createMediaStreamSource(\n\t\t\t\t\t\tthis.mediaRecorder.stream\n\t\t\t\t\t);\n\t\t\t\t\tsrc.connect(this.audioAnalyser);\n\n\t\t\t\t\tthis.startRecording();\n\t\t\t\t})\n\t\t\t\t.catch(() => {})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.prepareRecording = null;\n\t\t\t\t});\n\t\t},\n\n\t\tstartRecording() {\n\t\t\tlet currentPlaying = this.$store.state.currentPlayingVoiceMessage;\n\n\t\t\tif (currentPlaying) {\n\t\t\t\tcurrentPlaying.pause();\n\t\t\t}\n\n\t\t\tthis.$store.commit(\"SET_VOICERECORDING\", true);\n\n\t\t\tthis.isRecording = true;\n\t\t\tthis.cancelOpacity = 0;\n\t\t\tthis.recordRmsData = [];\n\t\t\tthis.recordTime = 0;\n\t\t\tthis.record = null;\n\t\t\tthis.mediaRecorder.start();\n\n\t\t\tvar sec = 0;\n\t\t\tvar rmsdata = [];\n\n\t\t\tthis.interval = setInterval(() => {\n\t\t\t\tvar dataArray = new Uint8Array(this.audioAnalyser.frequencyBinCount);\n\n\t\t\t\tthis.audioAnalyser.getByteFrequencyData(dataArray);\n\n\t\t\t\trmsdata.push(this.generateRms(dataArray));\n\n\t\t\t\tif (rmsdata.length > 50) rmsdata = _.last(rmsdata, 50);\n\n\t\t\t\tsec = sec + 50;\n\n\t\t\t\tthis.recordRmsData = _.clone(rmsdata);\n\n\t\t\t\tif (sec % 1000 === 0) {\n\t\t\t\t\tthis.recordTime = sec;\n\t\t\t\t}\n\t\t\t}, 50);\n\t\t},\n\n\t\tcheckaudioForSend: function (record, sendnow) {\n\t\t\tif (record.duration < 1) {\n\t\t\t\tthis.clear();\n\t\t\t} else {\n\t\t\t\tif (sendnow) {\n\t\t\t\t\tthis.sendVoiceMessage(record);\n\t\t\t\t} else {\n\t\t\t\t\tthis.record = record;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetduration(file) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tf.readFile(file)\n\t\t\t\t\t.then((arraybuffer) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tthis.audioContext.decodeAudioData(arraybuffer, (buffer) => {\n\t\t\t\t\t\t\t\tresolve(buffer.duration);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\treject(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\t\t},\n\n\t\tcreateVoiceMessage(event, sendnow) {\n\t\t\tvar c = () => {\n\t\t\t\t//this.record =\n\n\t\t\t\tthis.checkaudioForSend(\n\t\t\t\t\t{\n\t\t\t\t\t\tfile: event.data,\n\t\t\t\t\t\tid: f.makeid(),\n\t\t\t\t\t\tduration: event.duration,\n\t\t\t\t\t},\n\t\t\t\t\tsendnow\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tif (event.duration) {\n\t\t\t\tc();\n\t\t\t} else {\n\t\t\t\tthis.getduration(event.data)\n\t\t\t\t\t.then((duration) => {\n\t\t\t\t\t\tevent.duration = duration;\n\n\t\t\t\t\t\tc();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((e) => {\n\t\t\t\t\t\tconsole.error(e);\n\n\t\t\t\t\t\tthis.clear();\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/*f.readFile(event.data).then(arraybuffer => {\n\n\t\t\t\tconsole.log('arraybuffer', arraybuffer)\n\n\t\t\t\tthis.audioContext.decodeAudioData(arraybuffer, (buffer) => {\n\n\t\t\t\t\tconsole.log('this.record', this.record)\n\t\t\t\t\tconsole.log('this.buffer', buffer)\n\t\t\t\t\t\n\n\t\t\t\t\tthis.record = {\n\t\t\t\t\t\tfile: event.data,\n\t\t\t\t\t\tid: f.makeid()\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.record.duration = buffer.duration\n\n\t\t\t\t\tthis.checkaudioForSend(sendnow)\n\n\t\t\t\t})\n\n\t\t\t}).catch(e => {\n\t\t\t\tconsole.error('e', e)\n\t\t\t\tthis.clear()\n\t\t\t\t//\n\t\t\t})*/\n\t\t},\n\n\t\tgenerateRms(frequencies) {\n\t\t\treturn +Math.sqrt(\n\t\t\t\tfrequencies.reduce((a, b) => a + b ** 2) / frequencies.length\n\t\t\t).toPrecision(4);\n\t\t},\n\n\t\tstopRecording({ cancel, sendnow }) {\n\n\t\t\tthis.$store.commit(\"SET_VOICERECORDING\", false);\n\n\t\t\tif (this.prepareRecording) {\n\t\t\t\tthis.prepareRecording.cancel();\n\t\t\t\tthis.prepareRecording = null;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isRecording = false;\n\n\t\t\tif (this.interval) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.interval = null;\n\t\t\t}\n\n\t\t\tif (this.mediaRecorder) {\n\t\t\t\tif (cancel) {\n\t\t\t\t\t//this.mediaRecorder.ondataavailable = () => { }\n\t\t\t\t} else {\n\t\t\t\t\tvar hasdata = false\n\t\t\t\t\tthis.mediaRecorder.addEventListener(\"dataavailable\", (event) => {\n\t\t\t\t\t\tif(hasdata) return\n\n\t\t\t\t\t\thasdata = true\n\n\t\t\t\t\t\tthis.createVoiceMessage(event, sendnow);\n\t\t\t\t\t}); //ondataavailable = (event) => this.createVoiceMessage(event, sendnow)\n\t\t\t\t}\n\n\t\t\t\tthis.mediaRecorder.stop();\n\n\t\t\t\tthis.mediaRecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\n\t\t\t\tthis.mediaRecorder = null;\n\t\t\t}\n\n\t\t\tif (this.cordovaMediaRecorder) {\n\t\t\t\tif (cancel) {\n\t\t\t\t\tthis.cancelledCordovaMediaRecorder = true;\n\t\t\t\t} else {\n\t\t\t\t\tthis.cancelledCordovaMediaRecorder = false;\n\t\t\t\t}\n\n\t\t\t\tthis.cordovaMediaRecorder.stopRecord();\n\t\t\t\tthis.cordovaMediaRecorder = null;\n\t\t\t}\n\t\t},\n\n\t\tasync sendVoiceMessage(record) {\n\t\t\tif (!record) record = this.record;\n\n\t\t\tif (!record) {\n\t\t\t\tthis.clear();\n\t\t\t}\n\n\t\t\tthis.recordRmsData = [];\n\n\t\t\tconst base64 = await this.core.convertAudioToBase64(record.file);\n\n\t\t\tconst id = f.makeid();\n\n\t\t\tconst meta = {\n\t\t\t\ttype: \"audio\",\n\t\t\t\tid: id,\n\t\t\t\tbase64: base64,\n\t\t\t};\n\n\t\t\tthis.clear();\n\n\t\t\tthis.$f\n\t\t\t\t.pretry(() => {\n\t\t\t\t\treturn this.chat;\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\treturn this.core.mtrx.sendAudio(this.chat, base64, null, meta, {\n\t\t\t\t\t\trelation: this.relationEvent,\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tthis.$emit(\"clearRelationEvent\");\n\t\t\t\t})\n\t\t\t\t.catch((e) => {\n\t\t\t\t\tthis.$emit(\"sentError\", {\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\terror: e,\n\t\t\t\t\t});\n\t\t\t\t\treturn Promise.resolve();\n\t\t\t\t});\n\t\t},\n\n\t\tclear() {\n\t\t\tthis.record = null;\n\t\t\tthis.recordRmsData = [];\n\t\t\tthis.recordTime = 0;\n\n\t\t\tif (this.interval) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.interval = null;\n\t\t\t}\n\n\t\t\tif (this.cordovaMediaRecorder) {\n\t\t\t\tthis.cordovaMediaRecorder = null;\n\t\t\t}\n\n\t\t\tif (this.mediaRecorder) {\n\t\t\t\tthis.mediaRecorder.stop();\n\t\t\t\tthis.mediaRecorder.stream.getTracks().forEach((track) => {\n\t\t\t\t\ttrack.stop();\n\t\t\t\t});\n\t\t\t\tthis.mediaRecorder = null;\n\t\t\t}\n\n\t\t\t/*if (this.audioContext){\n\t\t\t\tthis.audioContext.close()\n\t\t\t}*/\n\t\t},\n\n\t\t/*async convertAudioToBase64(blob) {\n\t\t\tconst reader = new FileReader()\n\t\t\treader.readAsDataURL(blob)\n\t\t\treturn new Promise(resolve => {\n\t\t\t\treader.onloadend = () => {\n\t\t\t\t\tresolve(reader.result)\n\t\t\t\t}\n\t\t\t})\n\t\t},*/\n\n\t\tsetOpacity(opacity) {\n\t\t\tthis.cancelOpacity = opacity;\n\t\t},\n\n\t\tshowinputmenu : function(){\n\t\t\t/*this.core.menu({\n\t\t\t\titems: this.menu,\n\t\t\t});*/\n\t\t\tthis.menuState.set({\n\t\t\t\titems: this.menu,\n\t\t\t});\n\t\t},\n\t},\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!./index.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=efa2321a&scoped=true&\"\nimport script from \"./index.js?vue&type=script&lang=js&\"\nexport * from \"./index.js?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.sass?vue&type=style&index=0&id=efa2321a&prod&scoped=true&lang=sass&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"efa2321a\",\n  null\n  ,true\n)\n\nexport default component.exports"],"sourceRoot":""}