(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[4],{"0242":function(t,e,i){var n=i("699a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("18349eb4",n,t)}},"0826":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"typingBlock",staticStyle:{position:"relative"}},[i("div",{staticClass:"typingBlockWrapper"},[t._m(0),i("div",[i("PulseLoader",{attrs:{color:t.color,size:t.size,loading:!0}})],1)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("span",[t._v("typing")])])}],o=i("8a5d"),r={name:"typing",props:{},components:{PulseLoader:o["a"]},data:function(){return{color:"#868686",size:"2px",loading:!0}},methods:{},computed:{}},s=r,c=i("2877");function d(t){var e=i("1b86");e.__inject__&&e.__inject__(t)}var l=Object(c["a"])(s,n,a,!1,d,null,null,!0);e["a"]=l.exports},"0b2a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .inputWrapper>div[data-v-13a0fb1f]{transition:.3s}#matrix-root[theme=white] .inputWrapper .center[data-v-13a0fb1f]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=white] .inputWrapper input[data-v-13a0fb1f]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px}",""]),t.exports=e},"0bf1":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] #topheader.minimized.fix[data-v-373e6a3c]{background:transparent}#matrix-root[theme=white] .donationModalBody span[data-v-373e6a3c]{color:#12488a}#matrix-root[theme=white] .donationModalBody input[data-v-373e6a3c],#matrix-root[theme=white] .donationModalBody select[data-v-373e6a3c]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=white] .donationModalBody input.disabled[data-v-373e6a3c],#matrix-root[theme=white] .donationModalBody select.disabled[data-v-373e6a3c]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=white] .donationModalBody .error[data-v-373e6a3c]{color:#ff0c39}",""]),t.exports=e},"142f":function(t,e,i){var n=i("333f");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("9c7fd778",n,t)}},1587:function(t,e,i){"use strict";i.r(e);var n=i("2fd7");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},1767:function(t,e,i){var n=i("7113");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("7fe14a47",n,t)}},"1ae61":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#chatInput[data-v-13a0fb1f]{padding-bottom:.5em;padding-top:.5em}.inputWrapper[data-v-13a0fb1f]{display:flex}.inputWrapper .left[data-v-13a0fb1f]{width:35px;text-align:center}.inputWrapper .left .iconbutton[data-v-13a0fb1f]{width:35px}.inputWrapper .leftdummy[data-v-13a0fb1f]{width:.5em}.inputWrapper>div[data-v-13a0fb1f]{transition:.3s}.inputWrapper .center[data-v-13a0fb1f]{max-height:70px;display:flex;justify-content:center;align-items:center;flex-grow:1;border:1px solid #c8c0c1;border-radius:50px;padding-right:.5em}.inputWrapper input[data-v-13a0fb1f]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px;width:100%;padding:.5em 1em}.notready[data-v-13a0fb1f],.waitjoined[data-v-13a0fb1f]{padding:.5em 0;text-align:center}.waitjoined span[data-v-13a0fb1f]{font-size:.8em}.greetings[data-v-13a0fb1f]{padding:.5em 0}.greetings[data-v-13a0fb1f],[data-v-13a0fb1f] .iconWrapper{text-align:center}.menu-item[data-v-13a0fb1f]{padding:.5em;background:#fff;line-height:44px;display:flex}.menu-item .title[data-v-13a0fb1f]{flex-grow:2;padding-right:44px;text-align:center}.menu-item .iconWrapper[data-v-13a0fb1f]{width:44px}",""]),t.exports=e},"1b86":function(t,e,i){"use strict";i.r(e);var n=i("5f7e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"21ff":function(t,e,i){var n=i("7d04");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("9f8cbcf2",n,t)}},"22e5":function(t,e,i){var n=i("83ec");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("a4f70760",n,t)}},"23a0":function(t,e,i){var n=i("cf0c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("581f266f",n,t)}},2529:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .caption span[data-v-074c8f52]{color:#0035a8}#matrix-root[theme=classic] .joinAction[data-v-074c8f52]{background:#ececec}#matrix-root[theme=classic] .my-swipe[data-v-074c8f52]{color:#fff}#matrix-root[theme=classic] .slide1[data-v-074c8f52]{background-color:#0089dc;color:#fff}#matrix-root[theme=classic] .slide2[data-v-074c8f52]{background-color:#ffd705;color:#000}#matrix-root[theme=classic] .slide3[data-v-074c8f52]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},2646:function(t,e,i){"use strict";i.r(e);var n=i("8a3c");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"28a4":function(t,e,i){"use strict";i.r(e);var n=i("1767");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"2c42":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},"2ea6":function(t,e,i){var n=i("2c42");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("0b685b1a",n,t)}},"2fd7":function(t,e,i){var n=i("d796");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("50f570e5",n,t)}},"31d5":function(t,e,i){"use strict";i.r(e);var n=i("dfb9");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"333c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .caption span[data-v-074c8f52]{color:#005ae0}#matrix-root[theme=white] .joinAction[data-v-074c8f52]{background:#ececec}#matrix-root[theme=white] .my-swipe[data-v-074c8f52]{color:#fff}#matrix-root[theme=white] .slide1[data-v-074c8f52]{background-color:#0089dc;color:#fff}#matrix-root[theme=white] .slide2[data-v-074c8f52]{background-color:#ffd705;color:#000}#matrix-root[theme=white] .slide3[data-v-074c8f52]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},"333f":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".nameWrapper[data-v-373e6a3c]{display:flex;align-items:center;justify-content:center}.roomMuted[data-v-373e6a3c]{margin-left:3px}.roomMuted i[data-v-373e6a3c]{font-size:.7em}.editButton[data-v-373e6a3c]{display:flex;justify-content:center;align-items:center}.editButton i[data-v-373e6a3c]{font-size:1.5em}.nameline[data-v-373e6a3c]{max-width:250px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}#topheader.minimized.fix[data-v-373e6a3c]{background:transparent;overflow:inherit}#topheader .rightIcons .iconbutton[data-v-373e6a3c]{display:flex;justify-content:center;align-items:center}.donationModalBody[data-v-373e6a3c]{padding:1em;display:flex;flex-direction:column}.donationModalBody span[data-v-373e6a3c]{color:#12488a}.donationModalBody input[data-v-373e6a3c],.donationModalBody select[data-v-373e6a3c]{margin-top:.5em;margin-bottom:1.5em;border:1px solid #12488a;border-radius:3px;padding:.5em}.donationModalBody input.disabled[data-v-373e6a3c],.donationModalBody select.disabled[data-v-373e6a3c]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}.donationModalBody button[data-v-373e6a3c]{margin-top:1em}.donationModalBody button i[data-v-373e6a3c]{margin-right:.2em}.donationModalBody .totalAmount[data-v-373e6a3c]{font-weight:700;margin-left:.5em;margin-top:.5em;margin-bottom:1em}.donationModalBody .error[data-v-373e6a3c]{color:#ff0c39;text-align:center}.donationModalBody .linepreloader[data-v-373e6a3c]{text-align:center;height:29px;margin-top:1em}",""]),t.exports=e},"380b":function(t,e,i){"use strict";i.r(e);var n=i("78d5");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"395c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .userinfoWrapper[data-v-2eb31a16]{background:#0b1520}",""]),t.exports=e},"3eda":function(t,e,i){"use strict";i.r(e);var n=i("0242");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"3f03":function(t,e,i){"use strict";i.r(e);var n=i("61e6");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"3fd9":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .inputWrapper>div[data-v-13a0fb1f]{transition:.3s}#matrix-root[theme=classic] .inputWrapper .center[data-v-13a0fb1f]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=classic] .inputWrapper input[data-v-13a0fb1f]{border:1px solid hsla(0,0%,43.9%,.3);background:hsla(0,0%,92.5%,.5);border-radius:30px}",""]),t.exports=e},"418e":function(t,e,i){"use strict";i.r(e);var n=i("9de4");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"46c5":function(t,e,i){var n=i("0bf1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("6e6c3625",n,t)}},4962:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] #topheader.minimized.fix[data-v-373e6a3c]{background:transparent}#matrix-root[theme=black] .donationModalBody span[data-v-373e6a3c]{color:#12488a}#matrix-root[theme=black] .donationModalBody input[data-v-373e6a3c],#matrix-root[theme=black] .donationModalBody select[data-v-373e6a3c]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=black] .donationModalBody input.disabled[data-v-373e6a3c],#matrix-root[theme=black] .donationModalBody select.disabled[data-v-373e6a3c]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=black] .donationModalBody .error[data-v-373e6a3c]{color:#ff0c39}",""]),t.exports=e},"4a41":function(t,e,i){"use strict";i.r(e);var n=i("d046");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"4a47":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .userinfoWrapper[data-v-2eb31a16]{background:#ececec}",""]),t.exports=e},"4ad0":function(t,e,i){"use strict";i.r(e);var n=i("9d0e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"4ecd":function(t,e,i){"use strict";i.r(e);var n=i("7283");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"4f33":function(t,e,i){"use strict";i.r(e);var n=i("57f1");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"53eb":function(t,e,i){var n=i("395c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("10861708",n,t)}},"564c":function(t,e,i){"use strict";i.r(e);var n=i("23a0");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"57f1":function(t,e,i){var n=i("f2e2");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("a6450e5e",n,t)}},"5b54":function(t,e,i){"use strict";i.r(e);var n=i("7a47");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"5bb4":function(t,e,i){"use strict";i.r(e);var n=i("976b");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"5bd3":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},"5f7e":function(t,e,i){var n=i("bd86");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("3c4a7888",n,t)}},"61e6":function(t,e,i){var n=i("cc2a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("a177d716",n,t)}},"630e":function(t,e,i){var n=i("4a47");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("7265782e",n,t)}},"66b6":function(t,e,i){"use strict";i.r(e);var n=i("be89");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"699a":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".previewWrapper[data-v-2eb31a16]{padding:.5em}.userinfoWrapper[data-v-2eb31a16]{width:100%;padding:1em;background:#ececec}.VueCarousel[data-v-2eb31a16]{width:100%}",""]),t.exports=e},"6c3f":function(t,e,i){"use strict";i.r(e);var n=i("630e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},7113:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] #topheader.minimized.fix[data-v-373e6a3c]{background:transparent}#matrix-root[theme=classic] .donationModalBody span[data-v-373e6a3c]{color:#12488a}#matrix-root[theme=classic] .donationModalBody input[data-v-373e6a3c],#matrix-root[theme=classic] .donationModalBody select[data-v-373e6a3c]{border:1px solid #12488a;border-radius:3px}#matrix-root[theme=classic] .donationModalBody input.disabled[data-v-373e6a3c],#matrix-root[theme=classic] .donationModalBody select.disabled[data-v-373e6a3c]{color:rgba(176,191,198,.8);border:1px solid rgba(176,191,198,.5)}#matrix-root[theme=classic] .donationModalBody .error[data-v-373e6a3c]{color:#ff0c39}",""]),t.exports=e},"71b5":function(t,e,i){"use strict";i.r(e);var n=i("c212");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"720d":function(t,e,i){"use strict";i.r(e);var n=i("46c5");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},7283:function(t,e,i){var n=i("9a01");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("f7eaacd8",n,t)}},7428:function(t,e,i){var n=i("97bdf");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("5b661ab2",n,t)}},"76ff":function(t,e,i){var n=i("0b2a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("06baf124",n,t)}},"78d5":function(t,e,i){var n=i("95c6");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("42d87502",n,t)}},"7a47":function(t,e,i){var n=i("bafe");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("adc454b2",n,t)}},"7d04":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .userinfoWrapper[data-v-2eb31a16]{background:#ececec}",""]),t.exports=e},"7d0c":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".topheader[data-v-05ecafb6]{width:100%;top:0;z-index:999}.aboutContact[data-v-05ecafb6]{position:absolute;left:0;right:0;top:100px;bottom:0;z-index:999;background:#fff}",""]),t.exports=e},"81c6":function(t,e,i){"use strict";i.r(e);var n=i("aa7e");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"83ec":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .chatInputWrapper[data-v-91f63a66]{transition:.3s}#matrix-root[theme=white] .chatInputWrapper.bin[data-v-91f63a66]{border-radius:5px}#matrix-root[theme=white] .encrypted[data-v-91f63a66]{color:#06823a}#matrix-root[theme=white] .chatEmpty[data-v-91f63a66],#matrix-root[theme=white] .roomMuted[data-v-91f63a66]{color:#606369}#matrix-root[theme=white] .preview-wrapper[data-v-91f63a66]{border:1px solid rgba(96,99,105,.3);border-radius:10px}",""]),t.exports=e},8706:function(t,e,i){"use strict";i.r(e);var n=i("2ea6");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"8a2c":function(t,e,i){var n=i("c853");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("53cc0eee",n,t)}},"8a3c":function(t,e,i){var n=i("4962");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("5413bc34",n,t)}},"937a":function(t,e,i){"use strict";i.r(e);var n=i("21ff");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"95c6":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=white] .fade-move[data-v-06f0fcf4]{transition:1}#matrix-root[theme=white] .galleryRow .messageImg .img[data-v-06f0fcf4],#matrix-root[theme=white] .galleryRow .messageImg .loadingImg[data-v-06f0fcf4],#matrix-root[theme=white] .galleryRow .messageImg .loadingImg .imgPreview[data-v-06f0fcf4]{border-radius:.5em}#matrix-root[theme=white] .galleryRow .messageImg .imgMsg img[data-v-06f0fcf4]{border-radius:1em}",""]),t.exports=e},"976b":function(t,e,i){var n=i("d661");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("198eb29c",n,t)}},"979d":function(t,e,i){"use strict";i.r(e);var n=i("7428");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"97bd":function(t,e,i){"use strict";i.r(e);var n=i("8a2c");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},"97bdf":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .chatInputWrapper[data-v-91f63a66]{transition:.3s}#matrix-root[theme=classic] .chatInputWrapper.bin[data-v-91f63a66]{border-radius:5px}#matrix-root[theme=classic] .encrypted[data-v-91f63a66]{color:#06823a}#matrix-root[theme=classic] .chatEmpty[data-v-91f63a66],#matrix-root[theme=classic] .roomMuted[data-v-91f63a66]{color:#606369}#matrix-root[theme=classic] .preview-wrapper[data-v-91f63a66]{border:1px solid rgba(96,99,105,.3);border-radius:10px}",""]),t.exports=e},9928:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".loadingImg{max-width:100%;padding:.5em 1em}.loadingImg .imagePreview{position:relative;max-width:50%;margin:0 10px 0 auto}.loadingImg .imagePreview img{display:block;max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;opacity:.4}.loadingImg .imagePreview .previewLoader{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:9999}",""]),t.exports=e},"9a01":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".wrapper[data-v-1090fd1f]{position:relative}.fas[data-v-1090fd1f]{position:absolute;right:-8px;top:-8px}.preview-picture[data-v-1090fd1f]{width:50px;height:50px;border-radius:10px}",""]),t.exports=e},"9bf4":function(t,e,i){var n=i("2529");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("5defd48e",n,t)}},"9d0e":function(t,e,i){var n=i("f029");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("776e12a2",n,t)}},"9de4":function(t,e,i){var n=i("333c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("460c6d66",n,t)}},aa7e:function(t,e,i){var n=i("1ae61");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("9587a166",n,t)}},ad3b:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"[data-v-c1128e8e] .eventMember{text-align:center}[data-v-c1128e8e] .eventMember span{font-size:.9em}.pswp img[data-v-c1128e8e]{max-width:none;-o-object-fit:contain;object-fit:contain}#chatList.minimized:not(.active) .timeLineWrapper[data-v-c1128e8e]{padding-left:.5em}",""]),t.exports=e},b6ee:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"",""]),t.exports=e},bafe:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".input-component[data-v-d7bc2fd8]{width:100%;display:flex;justify-content:center;align-items:center;padding:0 1em;padding-right:0}.input-component[data-v-d7bc2fd8] .emoji-mart .emoji-mart-emoji{width:25%;height:40px;cursor:pointer}.input-component[data-v-d7bc2fd8] .emoji-mart .emoji-mart-emoji span{cursor:pointer}.input-component[data-v-d7bc2fd8] .emoji-mart .emoji-mart-emoji:hover{background:none;box-shadow:none}.input-component[data-v-d7bc2fd8] .emoji-mart .emoji-mart-emoji:hover:before{display:none}.input-component .input-wrapper[data-v-d7bc2fd8]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;position:relative;width:100%}.input-component .right[data-v-d7bc2fd8]{margin:0 .5em}.input-component .iconbutton .leftdummy[data-v-d7bc2fd8]{width:20px}.input-component .iconbutton .rightdummy[data-v-d7bc2fd8]{width:35px}.input-component .iconbutton .idummy[data-v-d7bc2fd8]{width:100%;height:35px;line-height:35px}.input-component .iconbutton .idummy i[data-v-d7bc2fd8]{line-height:35px!important}.input-component .previews[data-v-d7bc2fd8]{width:100%;max-width:198px;height:30px;display:flex;align-items:flex-start;padding:2px 0;overflow:hidden}.input-component .previews[data-v-d7bc2fd8]:first-child{margin-left:0}.input-component .textarea[data-v-d7bc2fd8]{width:100%;display:flex;justify-content:flex-start;align-items:center}.chat-input[data-v-d7bc2fd8]{width:100%;max-height:64px;overflow-y:auto;resize:none}.chat-input[data-v-d7bc2fd8]::-webkit-scrollbar{width:0!important}.fade-enter-active[data-v-d7bc2fd8],.fade-leave-active[data-v-d7bc2fd8]{transition:all .2s ease-in}.fade-enter[data-v-d7bc2fd8],.fade-leave-to[data-v-d7bc2fd8]{opacity:0}",""]),t.exports=e},bb36:function(t,e,i){"use strict";i.r(e);var n=i("ecfb");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},bd86:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".typingBlock{position:relative}.typingBlock .typingBlockWrapper{position:absolute;left:50%;transform:translateX(-50%);top:-5px;display:flex;align-items:center}.typingBlock .typingBlockWrapper>div{padding:0 .5em}.typingBlock .typingBlockWrapper span{font-size:.7em;color:#707070;opacity:.8}",""]),t.exports=e},be89:function(t,e,i){var n=i("ad3b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("067ca796",n,t)}},be9a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .caption span[data-v-074c8f52]{color:#12488a}#matrix-root[theme=black] .joinAction[data-v-074c8f52]{background:#0b1520}#matrix-root[theme=black] .my-swipe[data-v-074c8f52]{color:#fff}#matrix-root[theme=black] .slide1[data-v-074c8f52]{background-color:#0089dc;color:#fff}#matrix-root[theme=black] .slide2[data-v-074c8f52]{background-color:#ffd705;color:#000}#matrix-root[theme=black] .slide3[data-v-074c8f52]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},c212:function(t,e,i){var n=i("7d0c");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("1173482b",n,t)}},c495:function(t,e,i){"use strict";i.r(e);var n=i("cabf");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},c853:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=classic] .fade-move[data-v-06f0fcf4]{transition:1}#matrix-root[theme=classic] .galleryRow .messageImg .img[data-v-06f0fcf4],#matrix-root[theme=classic] .galleryRow .messageImg .loadingImg[data-v-06f0fcf4],#matrix-root[theme=classic] .galleryRow .messageImg .loadingImg .imgPreview[data-v-06f0fcf4]{border-radius:.5em}#matrix-root[theme=classic] .galleryRow .messageImg .imgMsg img[data-v-06f0fcf4]{border-radius:1em}",""]),t.exports=e},c9bc:function(t,e,i){"use strict";i.r(e);var n=i("53eb");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},cabf:function(t,e,i){var n=i("9928");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("6b61ab55",n,t)}},cc2a:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .fade-move[data-v-06f0fcf4]{transition:1}#matrix-root[theme=black] .galleryRow .messageImg .img[data-v-06f0fcf4],#matrix-root[theme=black] .galleryRow .messageImg .loadingImg[data-v-06f0fcf4],#matrix-root[theme=black] .galleryRow .messageImg .loadingImg .imgPreview[data-v-06f0fcf4]{border-radius:.5em}#matrix-root[theme=black] .galleryRow .messageImg .imgMsg img[data-v-06f0fcf4]{border-radius:1em}",""]),t.exports=e},cef5:function(t,e,i){"use strict";i.r(e);var n=i("ee99");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},cf0c:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".chatInputWrapper[data-v-91f63a66]{position:fixed;z-index:3;bottom:0;background:#fff;left:0;right:0}.chatInputWrapper.bin[data-v-91f63a66]{position:absolute;left:1px;right:1px;bottom:1px;border-radius:5px}#chat.minimized .chatInputWrapper[data-v-91f63a66]{opacity:0}#chat.minimized.active[data-v-91f63a66]{padding-bottom:90px}#chat.minimized.active .chatInputWrapper[data-v-91f63a66]{opacity:1}.encrypted[data-v-91f63a66]{position:absolute;left:0;top:0;z-index:2;color:#06823a;padding:.25em .5em}.encrypted i[data-v-91f63a66]{font-size:.8em}.roomMuted[data-v-91f63a66]{position:absolute;left:5px;top:20px;z-index:2;color:#606369}.roomMuted i[data-v-91f63a66]{font-size:.8em}.chatEmpty[data-v-91f63a66]{padding:4em;text-align:center;color:#606369}.chatEmpty span[data-v-91f63a66]{font-size:.8em}.preview-wrapper[data-v-91f63a66]{max-height:350px;overflow-y:auto;border:1px solid rgba(96,99,105,.3);border-radius:10px;margin:0 auto;width:98%}.preview-wrapper[data-v-91f63a66]::-webkit-scrollbar{width:0!important}",""]),t.exports=e},d046:function(t,e,i){var n=i("be9a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("76053700",n,t)}},d661:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".caption[data-v-074c8f52]{padding:1em;text-align:center}.caption span[data-v-074c8f52]{font-size:2em;font-weight:700;color:#0a68ad}.tip[data-v-074c8f52]{padding:1.5em;text-align:center}.tip span[data-v-074c8f52]{font-size:.8em}.joinAction[data-v-074c8f52]{position:fixed;bottom:0;left:0;right:0;background:#ececec;padding:1em 0;text-align:center;z-index:2}.joinAction.bin[data-v-074c8f52]{position:absolute}.joinAction .actions[data-v-074c8f52]{display:flex}.joinAction .actions .action[data-v-074c8f52]{padding:.5em;flex-grow:1}.joinAction .actions .action button[data-v-074c8f52]{min-width:0;width:100%}.my-swipe[data-v-074c8f52]{height:200px;color:#fff;font-size:30px;text-align:center}.slide1[data-v-074c8f52]{background-color:#0089dc;color:#fff}.slide2[data-v-074c8f52]{background-color:#ffd705;color:#000}.slide3[data-v-074c8f52]{background-color:#ff2d4b;color:#fff}",""]),t.exports=e},d796:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,".eventWrapper[data-v-06f0fcf4]{padding:.5em 0}#events[data-v-06f0fcf4]{position:absolute;left:0;right:0;top:0;bottom:0}.eventsflex[data-v-06f0fcf4]{display:flex;flex-direction:column-reverse;width:100%;height:100%;overflow-y:auto;padding:.25em;padding-bottom:66px}.eventsflex[data-v-06f0fcf4]::-webkit-scrollbar{width:0!important}.galleryRow[data-v-06f0fcf4]{display:flex;align-items:flex-end}.galleryRow .messageImg[data-v-06f0fcf4]{max-width:50%;margin:0 10px;position:relative}.galleryRow .messageImg .img[data-v-06f0fcf4]{display:block;border-radius:.5em;position:relative;max-width:100%}.galleryRow .messageImg .loadingImg[data-v-06f0fcf4]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.galleryRow .messageImg .loadingImg .imgPreview[data-v-06f0fcf4]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.galleryRow .messageImg .loadingImg .clipLoader[data-v-06f0fcf4]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.galleryRow .messageImg .imgMsg img[data-v-06f0fcf4]{max-width:100%;-o-object-fit:cover;object-fit:cover;border-radius:1em;display:block}.galleryRow .messageImg .metaLink[data-v-06f0fcf4]{background:#000}.galleryRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-06f0fcf4]{font-weight:700;font-size:.9em}.galleryRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-06f0fcf4]{margin:.5em 0;font-size:.8em}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-06f0fcf4]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.galleryRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-06f0fcf4]{display:block;width:100%;height:100%}",""]),t.exports=e},dfb9:function(t,e,i){var n=i("3fd9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("7a48dad0",n,t)}},ecfb:function(t,e,i){var n=i("b6ee");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("d9517fb4",n,t)}},ee79:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page chat"},[i("topheader",{staticClass:"topheader",attrs:{u:t.u,chat:t.chat},on:{addMember:t.addMemberModal}}),t.roomInfo?t._e():i("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[i("chat",{attrs:{u:t.u,chat:t.chat},on:{sending:t.sending,newchat:t.newchat,getEvents:t.eventsRoom}})]},proxy:!0}],null,!1,2636658855)}),t.openInviteModal?i("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[i("span",[t._v("Invite User")])]},proxy:!0},{key:"body",fn:function(){return[i("contacts",{attrs:{mode:"inviteUsers",chatRoomId:t.chat.roomId},on:{closeModal:t.closeContactModal}})]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,1239787889)}):t._e()],1)},a=[],o=i("5530"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active},attrs:{id:"chat"}},[t.m_chat&&"join"===t.membership()?i("list",{attrs:{chat:t.m_chat,imagePreview:t.prevImage,filePrev:t.anyFilePreview},on:{eventImage:function(e){return t.galleryImage(e)},getEvents:t.events}}):t._e(),t.m_chat&&"invite"===t.membership()?i("div",{staticClass:"joinwrapper"},[i("join",{attrs:{chat:t.m_chat,usersinfo:t.usersinfo}})],1):t._e(),!t.m_chat&&t.usersinfo&&t.usersinfo.length?i("div",{staticClass:"chatEmpty"},[i("span",[t._v("Start chat with "+t._s(t.usersinfoNames()))])]):t._e(),t.m_chat&&"join"!==t.membership()?t._e():i("div",{staticClass:"chatInputWrapper fixedOnPageBottom",class:{bin:t.pocketnet,bout:!t.pocketnet}},[i("div",[t.urlpreview?i("div",{staticClass:"preview-wrapper"},[i("url",{attrs:{url:t.urlpreview,preview:!0}})],1):t._e(),i("chatInput",{attrs:{u:t.u,chat:t.m_chat},on:{sending:t.sending,newchat:t.newchat,closeMetaPreview:t.closing,inputClean:t.hidePreview,setMetaUrl:t.chatUrlHandler,filePreview:t.getFilePreview,anyFileSend:t.anyFileData,emptyInput:t.hidePreview}})],1)]),t.encrypted?i("div",{staticClass:"encrypted",on:{mouseover:function(e){t.hoverEncrypt=!0},mouseleave:function(e){t.hoverEncrypt=!1}}},[i("i",{staticClass:"fas fa-lock"})]):t._e(),t.hoverEncrypt?i("div",[i("p",[t._v("Chat Encrypted")]),t._v(" "+t._s(t.backup)+" ")]):t._e(),i("gallery",{attrs:{events:t.chatEvents,imageEvent:t.imageEvent}})],1)},s=[],c=(i("7db0"),i("a15b"),i("d81d"),i("b0c0"),i("2f62")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active},attrs:{id:"chatList"}},[i("div",{ref:"work",staticClass:"work"},[i("div",{ref:"uspbottom",staticClass:"uspbottomSpacer "}),i("div",{ref:"direction_b",staticClass:"bottomSpacer spacer"}),i("div",{ref:"events",staticClass:"timeLineWrapper"},[t.timeline?i("events",{attrs:{events:t.events,filePreview:t.filePrev,previewImage:t.imagePreview,chat:t.chat},on:{updated:t.eventsUpdated,updatedSize:t.updatedSize,removeEvent:t.removeEvent,galleryEventOpen:function(e){return t.imageGallery(e)}}}):t._e()],1),i("div",{ref:"direction_f",staticClass:"topSpacer spacer"})])])},l=[],u=(i("4de4"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"events"}},[i("div",{staticClass:"eventsflex"},t._l(t.events,(function(e){return e.localRedactionEvent()||e.getRedactionEvent()?t._e():i("div",{key:e.event.event_id,staticClass:"eventWrapper"},[i("event",{attrs:{event:e,filePreview:t.filePreview,galleryData:t.events,clientWidth:t.clientWidth,chat:t.chat},on:{openImageEvent:function(e){return t.galleryOpen(e)},removeEvent:function(i){return t.removeEvent(e)},updatedSize:t.updatedSize}})],1)})),0)])}),f=[],m=i("6167"),p=i("c46f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loadingImg"},[i("div",{staticClass:"imagePreview"},[i("img",{staticClass:"imgPreview",attrs:{src:t.imagePreview,alt:""}}),i("div",{staticClass:"previewLoader"},[i("clip-loader",{staticClass:"clipLoader",attrs:{size:"25px",color:"#0035a8",loading:!0}})],1)])])},v=[],g=i("da7a"),b={props:{imagePreview:{}},components:{clipLoader:g["a"]}},x=b,w=i("2877");function y(t){var e=i("c495");e.__inject__&&e.__inject__(t)}var j=Object(w["a"])(x,h,v,!1,y,null,null,!0),k=j.exports,I={name:"events",props:{events:Array,chat:Object,previewImage:{type:Object,default:function(){return{show:!1}}},filePreview:Object},components:{event:m["a"],imgPreview:k},data:function(){return{type:"",clientWidth:1e3,loading:!1,wasupdated:{}}},created:function(){},watch:{},computed:Object(c["c"])({auth:function(t){return t.auth}}),updated:function(){var t=this,e={};p["b"](this.events,(function(i){t.wasupdated[i.event.event_id]||(e[i.event.event_id]=i)})),this.$emit("updated",e),p["b"](this.events,(function(e){t.wasupdated[e.event.event_id]=!0}))},methods:{updatedSize:function(t){this.$emit("updatedSize",t)},removeEvent:function(t){this.$emit("removeEvent",t)},showPhotoSwipe:function(t){this.isOpen=!0,this.$set(this.options,"index",t)},hidePhotoSwipe:function(){this.isOpen=!1},galleryOpen:function(t){this.$emit("galleryEventOpen",t),console.log("galleryEventOpen",t)},getClientWidth:function(){var t=this.$el.clientWidth;this.clientWidth=t}},mounted:function(){this.getClientWidth(),window.addEventListener("resize",this.getClientWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.getClientWidth)}},M=I;function C(t){var e=i("1587");e.__inject__&&e.__inject__(t);var n=i("380b");n.__inject__&&n.__inject__(t);var a=i("3f03");a.__inject__&&a.__inject__(t);var o=i("97bd");o.__inject__&&o.__inject__(t)}var E=Object(w["a"])(M,u,f,!1,C,"06f0fcf4",null,!0),O=E.exports,P={name:"chatList",props:{chat:Object,to:String,prev:{},putMeta:{},filePrev:[Object,File],imagePreview:{},scrollBottom:!1},components:{events:O},data:function(){return{encryptedEvents:[],loading:!1,scrolling:!1,scrollingTo:0,cancelNextScroll:!1,timeline:null,c_uspbottomHeight:0,c_frombottomscroll:0,c_bottomWndOffset:80,c_topWndOffset:55,p_b:!1,p_f:!1,updateTimeout:null,updateInterval:null,events:[],firstPaginate:!0,container:window}},mounted:function(){this.bin?(this.container=$(this.$el).closest(".headerSpacer")[0],this.c_bottomWndOffset=90,this.c_topWndOffset=0):this.container=window,this.init()},watch:{},computed:Object(c["c"])({auth:function(t){return t.auth},eventsTypes:function(){var t={"m.room.message":!0,"m.room.encrypted":!0,"m.room.image":!0,"m.room.file":!0,"m.room.member":!0};return _.toArray(this.chat&&this.chat.currentState.members||{}).length>2&&(t["m.room.member"]=!0,t["m.room.power_levels"]=!0),t},pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},bin:function(t){return t.pocketnet}}),created:function(){this.container.addEventListener("wheel",this.wheel),this.updateInterval=setInterval(this.update,50)},destroyed:function(){this.container.removeEventListener("wheel",this.wheel),this.timeline&&this.timeline.unpaginate(this.timeline._eventCount,!0),clearInterval(this.updateInterval)},methods:{removeEvent:function(t){},wh:function(){return this.container?this.container.clientHeight:0},getEvents:function(){var t=this,e=this.timeline.getEvents();return this.$emit("getEvents",e),e=_.filter(e,(function(e){var i=e.event.type;if(!(t.chat.currentState.getMembers().length<=2&&"m.room.member"===e.event.type))return!t.eventsTypes||t.eventsTypes[i]})),e=e.reverse(),e},init:function(){var t=this;this.loading=!0,this.firstPaginate=!0;var e=this.chat.getLiveTimeline(),i=e.getTimelineSet();this.timeline=new this.core.mtrx.sdk.TimelineWindow(this.core.mtrx.client,i),this.uspBottomHeight(),this.timeline.load(null,this.wh()||600).then((function(e){t.fixBottomScroll(),t.events=t.getEvents(),t.loading=!1,setTimeout((function(){t.correctBottomScroll(),t.autoPaginateAll()}),300)})).catch((function(e){t.loading=!1}))},autoPaginate:function(t){this.needLoad(t)&&this.paginate(t)},paginate:function(t,e){var i=this,n=this.container;n=$(this.$el).find(".eventsflex")[0];if(n&&!this.loading&&this.timeline&&!this["p_"+t]&&(this.timeline.canPaginate(t)||e)){this["p_"+t]=!0;var a=this.firstPaginate?25:12;this.firstPaginate||"f"===t||n.scrollTop<700?(this.fixBottomScroll(),this.timeline.paginate(t,a).then((function(e){i.events=i.getEvents(),i.readAll(),i["p_"+t]=!1,i.correctBottomScroll()})).catch((function(e){i["p_"+t]=!1}))):this["p_"+t]=!1}},autoPaginateAll:function(){this.autoPaginate("b"),this.autoPaginate("f")},needLoad:function(t){var e=this.scroll(),i=this.eventsPosition(),n=!1,a=3*this.wh();return i&&("b"==t?i.top+a>=e&&(n=!0):Math.max(i.top+i.height-a)<=e&&(n=!0)),n},readEvent:function(t){var e=this.core.mtrx.me(t.event.sender);e||this.core.mtrx.client.sendReadReceipt(t)},readFirst:function(){var t=this.timeline.getEvents();this.readEvent(t[0])},readLast:function(){var t=this.timeline.getEvents();this.readEvent(t[t.length-1])},readEvents:function(t){var e=this;_.each(t,(function(t){e.readEvent(t)}))},readAll:function(){this.chat&&this.core.mtrx.client.setRoomReadMarkers(this.chat.room_id)},scroll:function(){return this.container.scrollY||this.container.scrollTop},eventsPosition:function(){return this.relativePosition(this.$refs.events.getBoundingClientRect())},workPosition:function(){return this.relativePosition(this.$refs.work.getBoundingClientRect())},relativePosition:function(t){var e=this.appBorders(),i={};return t||(t=this.defaultPosition()),_.each(this.defaultPosition(),(function(n,a){i[a]="height"!=a&&"width"!=a?t[a]-e[a]:t[a]})),i},defaultPosition:function(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}},appBorders:function(){return this.container&&this.container.getBoundingClientRect?this.container.getBoundingClientRect():this.defaultPosition()},uspBottomHeight:function(){},spacerHeight:function(t){},spacersHeight:function(){this.spacerHeight("b"),this.spacerHeight("f")},wheel:function(t){this.scrolling},updatedSize:function(t){},eventsUpdated:function(t){this.spacersHeight(),this.update()},update:function(t){this.scrolling||(this.uspBottomHeight(),this.fixBottomScroll(),this.autoPaginateAll())},fixBottomScroll:function(){},correctBottomScroll:function(){},scrollTo:function(t){var e=this;t<0&&(t=0),this.scrolling&&cancelAnimationFrame(this.scrolling),this.scrollingTo=t,this.scrolling=requestAnimationFrame((function(){e.container.scroll({top:t,behavior:"instant"}),e.scrollingTo=0,e.scrolling=null}))},imageGallery:function(t){this.$emit("eventImage",t)}}},S=P;function R(t){var e=i("66b6");e.__inject__&&e.__inject__(t);var n=i("8706");n.__inject__&&n.__inject__(t);var a=i("bb36");a.__inject__&&a.__inject__(t);var o=i("cef5");o.__inject__&&o.__inject__(t)}var z=Object(w["a"])(S,d,l,!1,R,"c1128e8e",null,!0),B=z.exports,F=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.imageList&&t.imageList.length&&t.isOpen?i("v-photoswipe",{attrs:{isOpen:t.isOpen,items:t.imageList,options:t.options},on:{close:t.hidePhotoSwipe}}):t._e()},W=[],T=i("46e4"),A={props:{events:{},imageEvent:{}},data:function(){return{isOpen:!1,isOpenGallery:!1,type:"",clientWidth:1e3,options:{index:0,arrowEl:!1,fullscreenEl:!1,shareEl:!1},optionsGallery:{},imageList:[]}},components:{"v-photoswipe":T["PhotoSwipe"],"v-photoswipe-gallery":T["PhotoSwipeGallery"]},computed:{},watch:{imageEvent:function(t,e){this.openGallery(),console.log(t,"new WAl")}},methods:{showPhotoSwipe:function(t){this.isOpen=!0,this.$set(this.options,"index",t)},hidePhotoSwipe:function(){this.isOpen=!1},openGallery:function(){var t=this;this.imageList=[],console.log(this.events,"events"),p["b"](this.events,(function(e){"m.room.encrypted"===e.event.type&&"m.image"===e.getClearContent().msgtype&&t.imageList.push({src:e.getClearContent().url,w:e.getClearContent().info.w,h:e.getClearContent().info.h,eventId:e.event.event_id}),"m.image"===e.event.content.msgtype&&t.imageList.push({src:e.event.content.url,w:e.event.content.info.w,h:e.event.content.info.h,eventId:e.event.event_id})}));var e=this.imageList.map((function(t){return t.eventId})).indexOf(this.imageEvent.event.event_id);this.showPhotoSwipe(e)}}},L=A,U=Object(w["a"])(L,F,W,!1,null,null,null,!0),D=U.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatInput"}},[t.ready?i("div",{staticClass:"work"},[t.chat&&t.joined&&t.joined.length>1||!t.encrypted?i("div",{staticClass:"inputWrapper"},[i("div",{staticClass:"center"},[i("InputField",{ref:"newinput",on:{chatMessage:t.sendinput,setMetaUrl:t.emitUrl,emptyInput:t.emitInputData,FilledInput:t.HideUploadPic,base64:t.pasteImage}}),t.upload&&t.chat?i("div",{staticClass:"left"},[i("div",{staticClass:"iconbutton"},[i("dropdownMenu",{ref:"dropdownMenu",attrs:{menuItems:t.menuItems,rowObject:{},icon:"fas fa-plus"},on:{itemClicked:t.menuItemClickHandler},scopedSlots:t._u([{key:"default",fn:function(e){return[e.item.upload?i("upload",{attrs:{multiple:e.item.upload.multiple,extensions:e.item.upload.extensions,images:e.item.upload.images},on:{start:function(i){return t.uploadStart(e.item,i)},uploaded:function(i){return t.uploadUploaded(e.item,i)},uploadedAll:function(i){return t.uploadUploadedAll(e.item,i)},error:function(i){return t.uploadError(e.item,i)}},scopedSlots:t._u([{key:"content",fn:function(){return[i("div",{staticClass:"menu-item"},[i("div",{staticClass:"iconWrapper"},[e.item.icon?i("i",{class:e.item.icon}):t._e()]),i("div",{staticClass:"title"},[t._v(" "+t._s(e.item.title)+" ")])])]},proxy:!0},{key:"dropzone",fn:function(){},proxy:!0}],null,!0)}):i("div",{staticClass:"menu-item",on:{click:function(i){return t.menuItemClick(e.item)}}},[i("div",{staticClass:"iconWrapper"},[e.item.icon?i("i",{class:e.item.icon}):t._e()]),i("div",{staticClass:"title"},[t._v(" "+t._s(e.item.title)+" ")])])]}}],null,!1,2831926823)})],1)]):t._e()],1)]):t._e(),t.chat&&t.joined.length<2&&t.encrypted?i("div",{staticClass:"waitjoined"},[i("span",[t._v("Wait while users join to chat")])]):t._e()]):i("div",{staticClass:"notready"},[i("linepreloader")],1)])},N=[],K=(i("ac1f"),i("1276"),i("159b"),i("99af"),i("d3b7"),i("e6cf"),i("5319"),i("caad"),i("3139")),V=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"input-component"},[i("div",{staticClass:"input-wrapper"},[i("div",{staticClass:"textarea"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],ref:"textarea",staticClass:"chat-input",attrs:{type:"text",row:"1"},domProps:{value:t.text},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.send_text(e))},input:[function(e){e.target.composing||(t.text=e.target.value)},t.textarea_resize],paste:t.paste_image}}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("picker",{directives:[{name:"show",rawName:"v-show",value:t.display_emoji,expression:"display_emoji"},{name:"click-outside",rawName:"v-click-outside",value:t.close_emoji_picker,expression:"close_emoji_picker"}],style:{width:"325px",position:"absolute",bottom:"32px",right:"-60px",fontSize:"0.8em",fontFamily:"Segoe UI"},attrs:{data:t.emojiIndex,exclude:t.exclude,showPreview:!1,showSearch:!1,native:!0,set:"emojione"},on:{select:t.insert_emoji}})],1)],1)]),i("div",{staticClass:"iconbutton",on:{click:function(e){return t.toggle_emoji_picker()}}},[i("div",{staticClass:"leftdummy"},[i("div",{staticClass:"idummy"},[t.display_emoji?i("i",{staticClass:"fas fa-times"}):i("i",{staticClass:"far fa-smile"})])])]),t.send?i("div",{staticClass:"iconbutton",on:{click:function(e){return t.send_text(e)}}},[t._m(0)]):t._e()])},G=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rightdummy"},[i("div",{staticClass:"idummy"},[i("i",{staticClass:"far fa-paper-plane"})])])}],J=(i("2532"),i("466d"),i("5059")),Y=i("364d"),q=(i("01ce"),i("41fb")),X=i("c28b"),Q=i.n(X),Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.is_opened?i("div",{staticClass:"wrapper"},[i("img",{staticClass:"preview-picture",attrs:{src:t.base64,alt:"picture preview"}}),i("i",{staticClass:"fas fa-times fa-sm",on:{click:t.hide}})]):t._e()},tt=[],et={name:"picturePreview",props:["base64"],data:function(){return{is_opened:!0}},methods:{hide:function(){this.is_opened=!1}}},it=et;function nt(t){var e=i("4ecd");e.__inject__&&e.__inject__(t)}var at=Object(w["a"])(it,Z,tt,!1,nt,"1090fd1f",null,!0),ot=at.exports,rt=new q["EmojiIndex"](Y),st=new J["a"],ct={name:"InputField",components:{Picker:q["Picker"],picturePreview:ot},directives:{clickOutside:Q.a.directive},watch:{text:function(t,e){t?(this.send=!0,this.$emit("FilledInput")):(this.send=!1,this.$emit("emptyInput"))}},computed:{},methods:{close_emoji_picker:function(t){"i"!==t.target.localName&&"matrix-element"!==t.target.localName&&(this.display_emoji=!1)},textarea_resize:function(){this.$refs.textarea.style.height="1px",this.$refs.textarea.style.height=this.$refs.textarea.scrollHeight+"px",this.display_emoji=!1},toggle_emoji_picker:function(){this.display_emoji=!this.display_emoji},make_new_line:function(){this.text&&(this.text+="\n",this.$refs.textarea.style.height=this.$refs.textarea.style.height.replace("px","")+24+"px")},send_text:function(t){t.textContent=this.text,this.text&&"\n"!==this.text&&(this.display_emoji=!1,this.$emit("chatMessage",t),this.$emit("emptyInput"),this.send=!1,this.text="",this.$refs.textarea.style.height="24px")},insert_emoji:function(t){this.text+=t.native},paste_image:function(t){this.get_base64(t),this.resize_image(this.base64)},get_base64:function(t){var e=this;if(this.pasted_data=t.clipboardData.items,this.pasted_data.length){var i=function(t){var i=e.pasted_data[t],n=e.upload.extensions.includes(i.type);n&&(a=i.getAsFile(),o=new FileReader,o.onload=function(t){var n=t.target.result;e.resize_image(n,i.type)},o.readAsDataURL(a))};for(var n in this.pasted_data){var a,o;i(n)}}},resize_image:function(t,e){var i=this;return st.autorotation(null,t).then((function(t){var e=i.upload.images.resize.type||"def";return st.resize[e](t,1e5,1e5,e,1).then((function(t){i.resized_image=t,i.$emit("base64",t)})).catch((function(t){return console.error("Failed to resize image",t)}))})).catch((function(t){return console.error("Failed to resize image",t)}))}},data:function(){return{emojiIndex:rt,send:!1,toMatch:[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],isPhone:!0,heightUp:40,areaValue:"",ready:!1,text:"",exclude:["flags"],display_emoji:!1,content_height:26,pasted_data:[],resized_image:null,upload:{multiple:!0,extensions:["image/jpg","image/jpeg","image/png"],images:{resize:{type:"fit"}}},hidden_previews:null}},creared:function(){},mounted:function(){this.isPhone=this.toMatch.some((function(t){return navigator.userAgent.match(t)})),this.$refs.textarea.style.height="26px"}},dt=ct;function lt(t){var e=i("5b54");e.__inject__&&e.__inject__(t)}var ut=Object(w["a"])(dt,V,G,!1,lt,"d7bc2fd8",null,!0),ft=ut.exports,mt="m.megolm.v1.aes-sha2",pt={name:"chatInput",props:{chat:Object,u:String},components:{InputField:ft},data:function(){return{image_file:{},encrypted:!1,upload:!0,info:{},loading:!1,text:"",file:{},fileInfo:{},ready:!1,needencrypt:!1,creating:!1,userId:"",menuItems:[{click:"cameraHandler",title:"Take photo or Video",icon:"fas fa-camera",upload:{multiple:!0,extensions:["jpg","jpeg","png"],images:{resize:{type:"fit"}}}},{click:"fileHandler",title:"Send File",icon:"fas fa-sticky-note",upload:{multiple:!0,images:{resize:{type:"fit"}}}}],anyUrlMeta:String,joinedMembers:[]}},watch:{usersForKeysHash:{handler:function(){console.log("downloadKeysHANDLER"),this.downloadKeys()}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["c"])(["chats"])),{},{uusers:function(){return this.u?p["a"].map(this.u.split(","),(function(t){return t})):[]},ausers:function(){var t=this;return this.u?p["a"].map(this.u.split(","),(function(e){return t.core.user.matrixId(e)})):[]},invited:function(){return this.chat?(this.encrypted=this.core.mtrx.client.isRoomEncrypted(this.chat.roomId),p["a"].map(p["a"].filter(this.chat.currentState.getMembers(),(function(t,e){return"invite"===t.membership})),(function(t){return t.userId}))):this.u?this.ausers:[]},joined:function(){if(!this.chat)return[];var t=this.chat.roomId,e=[];return p["a"].each(this.chats,(function(i){i.roomId===t&&i.members.forEach((function(t){"join"===t.membership&&e.push(t.userId)}))})),e},usersForKeys:function(){return this.invited.concat(this.joined)},usersForKeysHash:function(){return K["a"].md5(JSON.stringify(this.usersForKeys))}}),created:function(){},mounted:function(){var t=this;this.downloadKeys().then((function(e){t.ready=!0,console.log("this.chat",t.chat),t.chat||t.newchat()}))},methods:{wait:function(){var t=this;return this.$f.pretry((function(){return t.core.mtrx.client&&t.core.mtrx.access&&t.usersForKeys.length}))},downloadKeys:function(){var t=this;return this.wait().then((function(e){return console.log("downloadKeys",t.usersForKeys),t.core.mtrx.client.downloadKeysForUsers(t.usersForKeys,{token:t.core.mtrx.access.accessToken})}))},uploadKeys:function(){var t=this;return this.wait().then((function(e){return t.core.mtrx.client.uploadKeys()}))},emitInputData:function(){this.$emit("emptyInput"),this.upload=!0},HideUploadPic:function(){this.upload=!1},emitUrl:function(t){this.$emit("setMetaUrl",t)},newchat:function(){var t=this;if(this.u){this.$store.state.globalpreloader=!0;var e=null,i=null,n="";this.creating=!0,this.core.user.usersInfo(this.uusers).then((function(i){n=t.core.mtrx.kit.tetatetid(i[0],t.core.user.userinfo),e=t.core.user.matrixId(i[0].id),t.core.user.matrixId(t.core.user.userinfo.id);var a=[{type:"m.room.encryption",state_key:"",content:{algorithm:mt}}];return t.needencrypt=!1,t.core.mtrx.client.createRoom({room_alias_name:n,visibility:"private",invite:[e],name:"#"+n,initial_state:a})})).then((function(n){i=n,t.$store.state.globalpreloader=!1,t.$emit("newchat",i);var a=t.core.mtrx.client.getRoom(n.room_id),o=a.currentState.getStateEvents("m.room.power_levels");return t.core.mtrx.client.setPowerLevel(i.room_id,e,100,o[0]).then((function(t){return t}))})).then((function(e){t.creating=!1})).catch((function(e){console.log("ERR",e),t.creating=!1,t.$store.state.globalpreloader=!1}))}},maySendMessage:function(){return this.chat&&this.chat.maySendMessage()},greetings:function(){this.send("").then((function(t){return Promise.resolve(t)}))},sendinput:function(t,e){this.send(t.textContent).then((function(t){return Promise.resolve(t)}))},send:function(t,e){var i=this,n=t.replace(/\n/g,"<br/>");return this.chat||this.newchat(),this.$emit("sending"),this.$f.pretry((function(){return i.chat&&!i.creating})).then((function(){return i.core.mtrx.client.prepareToEncrypt(i.chat)})).then((function(){return i.$emit("sent"),i.core.mtrx.client.sendEvent(i.chat.roomId,"m.room.message",{body:n,msgtype:"m.text"},"").catch((function(t){}))}))},encrypt:function(){return this.core.mtrx.client.setRoomEncryption(this.chat.roomId,{algorithm:mt})},encryptIfNeed:function(){return Promise.resolve()},pasteImage:function(t){var e=this;fetch(t).then((function(t){return t.blob()})).then((function(t){return new File([t],"File name",{type:"image/png"})})).then((function(i){e.image_file=i,e.sendImage({base64:t,file:i})})).catch((function(t){return t}))},sendImage:function(t){var e=this;this.$emit("sending"),this.$f.pretry((function(){return e.chat})).then((function(){return e.core.mtrx.uploadContent(t.file)})).then((function(t){return e.core.mtrx.client.sendImageMessage(e.chat.roomId,t,e.info,"Image"),e.$emit("previewImg",{}),e.encryptIfNeed()})).catch((function(t){}))},sendFile:function(t){var e=this;this.file=t.file,this.$emit("sending"),this.$f.pretry((function(){return e.chat})).then((function(){return e.core.mtrx.client.uploadContent(e.file)})).then((function(t){return Promise.resolve(e.core.mtrx.client.mxcUrlToHttp(t))})).then((function(t){e.fileInfo.url=t,e.fileInfo.name=e.file.name,e.fileInfo.size=e.file.size;var i=JSON.stringify(e.fileInfo);return e.core.mtrx.client.sendMessage(e.chat.roomId,{body:i,msgtype:"m.file"}),e.$emit("anyFileSend",{}),e.$emit("sent"),e.file={},e.encryptIfNeed()})).catch((function(t){}))},focus:function(){},blur:function(){},change:function(){},keyup:function(t){var e=t.target.value;""!==e?(this.$emit("inputClean",!0),this.text=e,this.anyUrlMeta=K["a"].getUrl(this.text),void 0!==this.anyUrlMeta?this.$emit("setMetaUrl",this.anyUrlMeta):this.$emit("inputClean",!1),this.chat&&this.core.mtrx.client.sendTyping(this.chat.roomId,!0,100)):this.$emit("inputClean",!1)},menuItemClickHandler:function(t,e){this[t.click](e)},menuItemLoadedHandler:function(t){return this.menuIsVisible=t,this.menuIsVisible},uploadStart:function(t,e){},uploadError:function(t,e){console.log("error",e),this.$store.commit("icon",{icon:"error",message:e.text})},getImg:function(){return this.imgs=!0},uploadSizeError:function(t){t||this.$refs.dropdownMenu.hidePopup()},uploadUploaded:function(t,e){var i=this,n=["image/gif","image/jpeg","image/png"];n.includes(e.file.type)?(console.log("previewImg",e),this.$emit("previewImg",e),this.imageWH(e).then((function(t){i.sendImage(e)}))):(this.$emit("anyFileSend",e),this.sendFile(e))},imageWH:function(t){var e=this,i=new Image,n={};return new Promise((function(a,o){i.onload=function(){n.w=this.width,n.h=this.height,a(n)},i.onerror=function(){o()},i.src=t.base64,e.info=n}))},uploadUploadedAll:function(t,e){this.$store.state.loading=!1,this.$refs.dropdownMenu.hidePopup()}}},ht=pt;function vt(t){var e=i("81c6");e.__inject__&&e.__inject__(t);var n=i("f558");n.__inject__&&n.__inject__(t);var a=i("4ad0");a.__inject__&&a.__inject__(t);var o=i("31d5");o.__inject__&&o.__inject__(t)}var _t=Object(w["a"])(ht,H,N,!1,vt,"13a0fb1f",null,!0),gt=_t.exports,bt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatJoin"}},[t._m(0),i("chatPreview",{attrs:{usersinfo:t.usersinfo,members:t.joinedMembers,users:t.users}}),t._m(1),i("div",{staticClass:"joinAction fixedOnPageBottom",class:{bin:t.pocketnet,bout:!t.pocketnet}},[i("div",{staticClass:"work"},[i("div",{staticClass:"actions"},[i("div",{staticClass:"action"},[i("button",{staticClass:"small button black rounded",on:{click:t.decline}},[t._v("Decline")])]),i("div",{staticClass:"action"},[i("button",{staticClass:"small button rounded",on:{click:t.join}},[t._v("Join")])])])])])],1)},xt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"work"},[i("div",{staticClass:"caption"},[i("span",[t._v(" You were invited to chat with: ")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tip"},[i("span",[t._v("You can join in chat or decline invitation")])])}],wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatPreview"},[i("div",{staticClass:"work"},[i("div",{staticClass:"previewWrapper"},[i("div",{staticClass:"users"},[i("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.members,(function(t){return i("swiper-slide",{key:t["id"]},[i("div",{staticClass:"work"},[i("div",{staticClass:"userinfoWrapper"},[i("userView",{attrs:{userinfo:t}})],1)])])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)])])])},yt=[],jt=i("aa20"),kt=i("3094"),It=i("42cd"),Mt=i("7212"),Ct=(i("bbe3"),i("0a63")),Et={name:"chatPreview",props:{chat:Object,usersinfo:Array,users:{},members:Array},components:{userView:It["a"],chatName:jt["a"],chatIcon:kt["a"],Swiper:Mt["Swiper"],SwiperSlide:Mt["SwiperSlide"],Carousel:Ct["Carousel"],Slide:Ct["Slide"]},data:function(){return{loading:!1,usersinfoLocal:[],swiperOption:{direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0}}}},computed:Object(c["c"])({auth:function(t){return t.auth}}),mounted:function(){this.setUsersInfo()},methods:{setUsersInfo:function(){var t=this;if(this.chat){var e,i=_.filter(_.map(_.filter((null===(e=this.chat)||void 0===e?void 0:e.currentState.getMembers())||{},(function(e){var i;return t.$f.getmatrixid(e.name)!==(null===(i=t.core.user.userinfo)||void 0===i?void 0:i.id)})),(function(e){return t.$f.deep(t,"$store.state.users."+t.$f.getmatrixid(e.name))||null})),(function(t){return t}));this.usersinfoLocal=i}else this.usersinfoLocal=this.usersinfo}}},Ot=Et;function Pt(t){var e=i("3eda");e.__inject__&&e.__inject__(t);var n=i("937a");n.__inject__&&n.__inject__(t);var a=i("c9bc");a.__inject__&&a.__inject__(t);var o=i("6c3f");o.__inject__&&o.__inject__(t)}var $t=Object(w["a"])(Ot,wt,yt,!1,Pt,"2eb31a16",null,!0),St=$t.exports,Rt={name:"chatJoin",props:{chat:Object,usersinfo:Array},components:{chatPreview:St,Swiper:Mt["Swiper"],SwiperSlide:Mt["SwiperSlide"]},data:function(){return{loading:!1,joinedMembers:[]}},created:function(){},watch:{},computed:Object(c["c"])({auth:function(t){return t.auth},pocketnet:function(t){return t.pocketnet},users:function(){var t=this,e=this.$store.state.users,i=this.chat.currentState.members,n=[],a=[];p["a"].mapObject(i,(function(t,e){n.push({id:K["a"].getmatrixid(e)})})),p["a"].map(e,(function(t){a.push(t)})),this.joinedMembers=K["a"].filterByUserId(n,a);var o=p["a"].filter(p["a"].map(this.chat.currentState.members||[],(function(e){return t.$f.deep(t,"$store.state.users."+e.name)||null})),(function(e){var i;return e&&e.id!==(null===(i=t.core.user.userinfo)||void 0===i?void 0:i.id)}));return o}}),mounted:function(){},methods:{encrypt:function(t){return this.core.mtrx.client.setRoomEncryption(this.chat.roomId,{algorithm:t})},join:function(){var t=this;this.core.mtrx.client.joinRoom(this.chat.roomId).then((function(){t.$emit("joined")}))},decline:function(){this.core.mtrx.client.leave(this.chat.roomId),this.$router.go(-1)},needEncryption:function(){var t=this.core.mtrx.client.isRoomEncrypted(this.chat.roomId);return!t&&2==p["a"].toArray(this.chat.currentState.members).length}}},zt=Rt;function Bt(t){var e=i("5bb4");e.__inject__&&e.__inject__(t);var n=i("99f3");n.__inject__&&n.__inject__(t);var a=i("734c");a.__inject__&&a.__inject__(t);var o=i("418e");o.__inject__&&o.__inject__(t);var r=i("4a41");r.__inject__&&r.__inject__(t);var s=i("f9ce");s.__inject__&&s.__inject__(t)}var Ft=Object(w["a"])(zt,bt,xt,!1,Bt,"074c8f52",null,!0),Wt=Ft.exports,Tt=i("6603"),At={name:"chat",props:{chat:Object,u:String},components:{list:B,chatInput:gt,join:Wt,url:Tt["a"],gallery:D},data:function(){return{hoverEncrypt:!1,roomMuted:!1,loading:!1,usersinfo:[],chatEvents:{},imageEvent:{},prevImage:void 0,selectedImg:String,urlpreview:null,filePreview:{type:Object,default:function(){return{show:!1}}},anyFilePreview:{type:Object,default:function(){return{show:!1}}}}},created:function(){},mounted:function(){this.getuserinfo(),this.$store.commit("active",!0),this.$store.commit("blockactive",{value:!0,item:"chat"})},destroyed:function(){this.$store.commit("blockactive",{value:!1,item:"chat"}),this.$store.commit("SET_CURRENT_ROOM",!1)},watch:{chat:{immediate:!0,handler:function(){this.chat?this.$store.commit("SET_CURRENT_ROOM",this.chat.roomId):this.$store.commit("SET_CURRENT_ROOM",!1)}}},computed:Object(c["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},auth:function(t){return t.auth},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==t&&(this.roomMuted=!0);var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},encrypted:function(){return!(!this.chat||!this.chat.roomId)&&this.core.mtrx.client.isRoomEncrypted(this.chat.roomId)},openInviteModal:function(){return this.openInviteModal},backup:function(){console.log(this.core.mtrx.client.checkKeyBackup().then((function(t){return t})),"backupssss")}}),methods:{hidePreview:function(){this.urlpreview=null},newchat:function(t){this.$emit("newchat",t)},sending:function(){this.$emit("sending"),$(this.$el).find(".eventsflex").scrollTop(0)},getuserinfo:function(){var t=this;this.u&&this.core.user.usersInfo(this.u).then((function(e){t.usersinfo=e}))},membership:function(){if(this.m_chat)return this.m_chat.getMyMembership()},closing:function(t){this.PNmetaPreview=t},usersinfoNames:function(){return p["a"].map(this.usersinfo,(function(t){return t.name})).join(", ")},openImgM:function(t){this.selectedImg=t,console.log(t,"img img img")},getFilePreview:function(t){this.filePreview=t},anyFileData:function(t){this.anyFilePreview.name=t.file.name,this.anyFilePreview.size=t.file.size},chatUrlHandler:function(t){this.urlpreview=t},events:function(t){this.$emit("getEvents",t),this.chatEvents=t},galleryImage:function(t){this.imageEvent=t,console.log("event in chat main",t)}}},Lt=At;function Ut(t){var e=i("564c");e.__inject__&&e.__inject__(t);var n=i("fb89");n.__inject__&&n.__inject__(t);var a=i("4f33");a.__inject__&&a.__inject__(t);var o=i("979d");o.__inject__&&o.__inject__(t)}var Dt=Object(w["a"])(Lt,r,s,!1,Ut,"91f63a66",null,!0),Ht=Dt.exports,Nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatTopheader"}},[t.chat||t.u?i("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[i("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[t.chat?i("router-link",{attrs:{to:"chatInfo?id="+t.chat.roomId}},[t.m_chat?i("div",[i("div",{staticClass:"nameWrapper"},[t.roomInfo?t._e():i("chatName",{attrs:{preview:!0,chat:t.m_chat}}),t.roomMuted?i("div",{staticClass:"roomMuted"},[i("i",{staticClass:"fas fa-bell-slash"})]):t._e()],1),i("transition",{attrs:{name:"fade"}},[t.m_chat_typing?i("chatTyping"):t._e()],1)],1):t._e(),!t.m_chat&&t.userinfo?i("div",[i("span",{staticClass:"nameline"},[t._v(t._s(t.userinfo.name))])]):t._e()]):t._e()]},proxy:!0},{key:"right",fn:function(){return[t.m_chat&&t.m_chat.currentState.getMembers().length>2?i("div",{staticClass:"icon iconbutton"},[t.roomMuted?t._e():i("div",[i("dropdownMenu",{ref:"dropdownMenu",staticClass:"chatRightMenu",attrs:{menuItems:t.menuItemsRoom,rowObject:{},icon:"fas fa-ellipsis-h"},on:{itemClicked:t.menuItemClickHandler}})],1),t.roomMuted?i("div",[i("dropdownMenu",{ref:"dropdownMenu",staticClass:"chatRightMenu",attrs:{menuItems:t.menuItemsRoomMuted,rowObject:{},icon:"fas fa-ellipsis-h"},on:{itemClicked:t.menuItemClickHandler}})],1):t._e()]):i("div",{staticClass:"icon iconbutton"},[t.roomMuted?t._e():i("div",[i("dropdownMenu",{ref:"dropdownMenu",staticClass:"chatOneToOne",attrs:{menuItems:t.oneToOne,rowObject:{},icon:"fas fa-ellipsis-h"},on:{itemClicked:t.menuItemClickHandler}})],1),t.roomMuted?i("div",[i("dropdownMenu",{ref:"dropdownMenu",staticClass:"chatOneToOne",attrs:{menuItems:t.oneToOneMuted,rowObject:{},icon:"fas fa-ellipsis-h"},on:{itemClicked:t.menuItemClickHandler}})],1):t._e()])]},proxy:!0}],null,!1,4136846621)}):t._e(),t.donateUserOpened?i("modal",{on:{close:t.closeDonateModal},scopedSlots:t._u([{key:"header",fn:function(){return[i("span",[t._v("Donate")])]},proxy:!0},{key:"body",fn:function(){return[i("div",{staticClass:"donationModalBody"},[i("span",[t._v("Source")]),i("input",{staticClass:"disabled",attrs:{type:"text",value:"Account Address",disabled:!0}}),i("span",[t._v("Amount")]),i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.donationAmount,expression:"donationAmount",modifiers:{number:!0}}],attrs:{type:"number",disabled:t.sending},domProps:{value:t.donationAmount},on:{keyup:function(e){return t.resetDonation()},input:function(e){e.target.composing||(t.donationAmount=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),i("span",[t._v("Receiver")]),i("input",{staticClass:"disabled",attrs:{type:"text",disabled:!0},domProps:{value:t.receiver?t.receiver.name:""}}),i("span",[t._v("Message")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.donationMessage,expression:"donationMessage"}],attrs:{type:"text",placeholder:"Your message",disabled:t.sending},domProps:{value:t.donationMessage},on:{input:function(e){e.target.composing||(t.donationMessage=e.target.value)}}}),t.showFeesError&&"money"==t.showFeesError?i("span",{staticClass:"error"},[t._v("Balance too low")]):t.showFeesError?i("span",{staticClass:"error"},[t._v("Error, can't calculate the fees")]):t._e(),1!=t.calculatingFees?i("button",{staticClass:"button small",attrs:{disabled:!t.donationAmount||null!=t.calculatedFees},on:{click:t.onCalculateFeesClick}},[i("i",{staticClass:"fas fa-chevron-circle-right"}),t._v(" Calculate Fees ")]):t._e(),1==t.calculatingFees?i("div",{staticClass:"linepreloader"},[i("linepreloader")],1):t._e()]),null!=t.calculatedFees?i("div",{staticClass:"donationModalBody"},[i("span",[t._v("Include Fees in Amount")]),i("select",{directives:[{name:"model",rawName:"v-model",value:t.feesDirection,expression:"feesDirection"}],attrs:{disabled:t.sending},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.feesDirection=e.target.multiple?i:i[0]}}},t._l(t.feesDirectionPossibleValues,(function(e){return i("option",{domProps:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),0),i("span",[t._v("Transaction Fees")]),i("input",{staticClass:"disabled",attrs:{type:"number",disabled:!0},domProps:{value:t.calculatedFees}}),i("span",[t._v("Total amount")]),i("span",{staticClass:"totalAmount"},[t._v(t._s(+t.totalDonationAmount.toFixed(5))+" PKOIN")]),t.showTransactionError&&"balance too low"==t.showTransactionError?i("span",{staticClass:"error"},[t._v("Balance too low")]):t.showTransactionError?i("span",{staticClass:"error"},[t._v("Error, can't make the transaction")]):t._e(),1!=t.sending?i("button",{staticClass:"button small",attrs:{disabled:t.sending},on:{click:t.sendDonation}},[i("i",{staticClass:"fas fa-arrow-alt-circle-right"}),t._v(" Send ")]):t._e(),1==t.sending?i("div",{staticClass:"linepreloader"},[i("linepreloader")],1):t._e()]):t._e()]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,3274686846)}):t._e()],1)},Kt=[],Vt=i("1da1"),Gt=i("a34a"),Jt=i.n(Gt),Yt=(i("a79d"),i("0826")),qt=i("71da"),Xt={name:"chatTopheader",props:{chat:Object,u:String,roomInfo:!1,aboutUser:!1},components:{chatName:jt["a"],chatIcon:kt["a"],chatTyping:Yt["a"],contacts:qt["a"]},data:function(){return{menuItems:[{click:"callupVideoHandler",title:"Video Call",icon:"fas fa-camera"},{click:"callupHandler",title:"Call",icon:"fas fa-phone"}],menuItemsRoom:[{click:"AddMember",title:"Add",icon:"fas fa-user-plus"},{click:"MuteRoom",title:"Mute",icon:"fas fa-bell-slash"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"}],menuItemsRoomMuted:[{click:"AddMember",title:"Add",icon:"fas fa-user-plus"},{click:"MuteRoom",title:"UnMute",icon:"fas fa-bell"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"}],oneToOne:[{click:"MuteRoom",title:"Mute",icon:"fas fa-bell-slash"},{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],oneToOneMuted:[{click:"MuteRoom",title:"UnMute",icon:"fas fa-bell"},{click:"LeaveFromRoom",title:"Leave and Delete",icon:"fas fa-sign-out-alt"},{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],donateMenu:[{click:"Donate",title:"Donate",icon:"fas fa-money-bill-wave"}],loading:!1,typing:!1,userinfo:null,aboutUserShow:!1,roomBanned:!1,roomMuted:!1,donateUserOpened:!1,receiver:null,donationAmount:0,donationMessage:"",calculatedFees:null,showFeesError:"",showTransactionError:"",calculatingFees:!1,sending:!1,feesDirection:"include",feesDirectionPossibleValues:[{value:"include",label:"To be paid by Receiver"},{value:"exclude",label:"To be paid by Sender"}]}},watch:{},mounted:function(){this.getuserinfo()},computed:Object(c["c"])({auth:function(t){return t.auth},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==t&&(this.roomMuted=!0);var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},m_chat_typing:function(){var t=this;if(!this.chat)return!1;var e=this.chat.roomId,i=this.$store.state.typing[e]||{},n=_.find(i,(function(e,i){var n;if(e)return i!=(null===(n=t.core.user.userinfo)||void 0===n?void 0:n.id)}));return n||!1},totalDonationAmount:function(){return"include"==this.feesDirection?this.donationAmount:this.donationAmount+this.calculatedFees}}),methods:{navigateToProfile:function(t){this.$router.push({path:"/contact?id=".concat(K["a"].getmatrixid(t))})},getuserinfo:function(){var t=this;this.u&&this.core.user.usersInfo(this.u).then((function(e){t.userinfo=e[0]}))},findOtherUser:function(){var t,e=this.m_chat.myUserId,i=this.m_chat.currentState.getMembers();return i.forEach((function(i){i&&i.userId!==e&&(t=i)})),t},addMember:function(){this.modalInviteUser()},menuItemClickHandler:function(t,e){var i=this;if("AddMember"===t.click&&(this.$emit("addMember",!0),this.$refs.dropdownMenu.hidePopup()),"MuteRoom"===t.click){var n=this.chat.roomId,a=(this.core.mtrx.client.deviceId,this),o=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==o?(a.core.mtrx.client.deletePushRule("global","room",n),this.roomMuted=!1):(a.core.mtrx.client.setRoomMutePushRule("global",n,"true"),this.roomMuted=!0),this.$refs.dropdownMenu.hidePopup()}if("LeaveFromRoom"===t.click){this.core.mtrx.client.leave(this.chat.roomId).then((function(t){i.core.mtrx.client.forget(i.chat.roomId,!0).then((function(t){i.$store.commit("DELETE_ROOM",i.chat.roomId)})).then((function(t){i.$router.push({path:"/chats"})}))})),this.$refs.dropdownMenu.hidePopup()}if("BanRoom"===t.click){var r="",s=this.findOtherUser();s&&s.userId&&(r=s.userId);var c=this.chat.roomId;this.core.mtrx.client.ban(c,r,"ban").then((function(t){})),this.roomBanned=!0,this.$refs.dropdownMenu.hidePopup()}if("Unban"===t.click){var d="",l=this.findOtherUser();l&&l.userId&&(d=l.userId),this.core.mtrx.client.unban(this.chat.roomId,d).then((function(t){i.core.mtrx.client.invite(i.chat.roomId,d)})),this.roomBanned=!1,this.$refs.dropdownMenu.hidePopup()}if("Donate"===t.click){this.donateUserOpened=!0,this.$refs.dropdownMenu.hidePopup();var u=this.findOtherUser();this.receiver=u?this.$f.deep(this,"$store.state.users."+this.$f.getmatrixid(u.name)):null}},closeDonateModal:function(){this.donateUserOpened=!1},onCalculateFeesClick:function(){var t=this;this.calculatingFees=!0,this.calculateFees().finally((function(){return t.calculatingFees=!1}))},calculateFees:function(){var t=this,e=this;return this.showFeesError="",new Promise((function(i,n){if(t.donationAmount<=0||!t.receiver||!t.receiver.source||!t.receiver.source.address)return t.showFeesError="invalid",n("Missing amount or receiver");try{var a=window.POCKETNETINSTANCE.platform.sdk;a.node.fee.estimate((function(t){var o=[{address:e.receiver.source.address,amount:e.donationAmount}];a.wallet.txbase([a.address.pnet().address],o,0,e.feesDirection,(function(o,r,s){if(o)return console.error(o),e.showFeesError=o,n(o);var c=a.node.transactions.create.wallet(r,s),d=Math.min(c.virtualSize()*t.feerate,.0999);return e.calculatedFees=d,i()}))}))}catch(o){return console.error(o),e.showFeesError=o,n(o)}}))},sendDonation:function(){var t=this;return Object(Vt["a"])(Jt.a.mark((function e(){var i,n;return Jt.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t,t.sending=!0,t.showTransactionError="",e.prev=3,e.next=6,t.calculateFees();case 6:e.next=13;break;case 8:return e.prev=8,e.t0=e["catch"](3),t.showTransactionError="error",t.sending=!1,e.abrupt("return");case 13:n=window.POCKETNETINSTANCE.platform.sdk,n.node.transactions.get.canSpend(n.address.pnet().address,(function(t){if(!t||isNaN(t)||t<i.totalDonationAmount)return i.showTransactionError="balance too low",void(i.sending=!1);try{var e=[{address:i.receiver.source.address,amount:i.donationAmount}];n.wallet.embed(e,i.donationMessage),n.wallet.txbase([n.address.pnet().address],e,i.calculatedFees,i.feesDirection,(function(t,e,a){if(t)return console.error(t),i.showTransactionError="error",i.sending=!1,reject(t);var o=n.node.transactions.create.wallet(e,a);e.forEach((function(t){t.cantspend=!0})),n.node.transactions.send(o,(function(t,o){if(o)return n.node.transactions.releaseCS(e),i.showTransactionError="error",void(i.sending=!1);var r=e.map((function(t){return t.txid}));n.node.transactions.clearUnspents(r),n.wallet.saveTempInfoWallet(t,e,a),i.core.mtrx.client.sendEvent(i.chat.roomId,"m.room.message",{from:i.$f.getmatrixid(i.m_chat.myUserId),to:i.receiver.id,amount:i.donationAmount,txId:t,msgtype:"m.notice"},""),i.closeDonateModal()}))}))}catch(a){console.error(a),i.showTransactionError="error",i.sending=!1}}));case 15:case"end":return e.stop()}}),e,null,[[3,8]])})))()},resetDonation:function(){this.calculatedFees=null,this.showFeesError="",this.showTransactionError=""}}},Qt=Xt;function Zt(t){var e=i("fd6b");e.__inject__&&e.__inject__(t);var n=i("720d");n.__inject__&&n.__inject__(t);var a=i("2646");a.__inject__&&a.__inject__(t);var o=i("28a4");o.__inject__&&o.__inject__(t)}var te=Object(w["a"])(Qt,Nt,Kt,!1,Zt,"373e6a3c",null,!0),ee=te.exports,ie={name:"pagechat",components:{chat:Ht,topheader:ee,contacts:qt["a"]},data:function(){return{roomInfo:!1,m_chat:{},events:[],openInviteModal:!1}},computed:Object(o["a"])({u:function(){return this.$route.query.u},chat:function(){var t=this.$route.query.id;return this.$store.state.chatsMap[t]}},Object(c["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized}})),mounted:function(){},methods:{closeModal:function(){this.openInviteModal=!1},closeContactModal:function(t){this.openInviteModal=t},addMemberModal:function(t){this.openInviteModal=t},newchat:function(t){},sending:function(){},eventsRoom:function(t){this.events=t}}},ne=ie;function ae(t){var e=i("71b5");e.__inject__&&e.__inject__(t)}var oe=Object(w["a"])(ne,n,a,!1,ae,"05ecafb6",null,!0);e["default"]=oe.exports},ee99:function(t,e,i){var n=i("5bd3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("35d6").default;t.exports.__inject__=function(t){a("3c072542",n,t)}},f029:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .inputWrapper>div[data-v-13a0fb1f]{transition:.3s}#matrix-root[theme=black] .inputWrapper .center[data-v-13a0fb1f]{border:1px solid #c8c0c1;border-radius:50px}#matrix-root[theme=black] .inputWrapper input[data-v-13a0fb1f]{border:1px solid rgba(121,130,132,.3);background:rgba(11,21,32,.5);border-radius:30px}",""]),t.exports=e},f2e2:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,"#matrix-root[theme=black] .chatInputWrapper[data-v-91f63a66]{transition:.3s}#matrix-root[theme=black] .chatInputWrapper.bin[data-v-91f63a66]{border-radius:5px}#matrix-root[theme=black] .encrypted[data-v-91f63a66]{color:#068222}#matrix-root[theme=black] .chatEmpty[data-v-91f63a66],#matrix-root[theme=black] .roomMuted[data-v-91f63a66]{color:#92979d}#matrix-root[theme=black] .preview-wrapper[data-v-91f63a66]{border:1px solid rgba(146,151,157,.3);border-radius:10px}",""]),t.exports=e},f558:function(t,e,i){"use strict";i.r(e);var n=i("76ff");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},f9ce:function(t,e,i){"use strict";i.r(e);var n=i("9bf4");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},fb89:function(t,e,i){"use strict";i.r(e);var n=i("22e5");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)},fd6b:function(t,e,i){"use strict";i.r(e);var n=i("142f");for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a)}}]);
//# sourceMappingURL=matrix-element.4.min.js.map