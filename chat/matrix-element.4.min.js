(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[4],{"18f9":function(t,e,a){"use strict";a.r(e);var i=a("4092");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"266d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page chatInfo"},[t.chat?a("topheader",{staticClass:"topheader",attrs:{chat:t.chat}}):t._e(),a("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[t.chat?a("chatInfo",{attrs:{chat:t.chat}}):t._e()]},proxy:!0}])})],1)},o=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chatTopheader"}},[a("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[a("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[t.chat&&t.cog?a("router-link",{attrs:{to:"/chatSettings?id="+t.chat.roomId.replace("!","%")}},[a("span",[t._v(t._s(t.$t("caption.Info")))])]):a("span",[t._v(t._s(t.$t("caption.Info")))])]},proxy:!0},{key:"right",fn:function(){return[t.chat&&t.cog?a("router-link",{attrs:{to:"/chatSettings?id="+t.chat.roomId.replace("!","%")}},[a("i",{staticClass:"fas fa-cog"})]):t._e()]},proxy:!0}])})],1)},r=[],s={data:function(){return{cog:!1}},props:{chat:{}},mounted(){var t=this.core.mtrx.client.getRoom(this.chat.roomId);100!==t.getMember(this.core.mtrx.client.credentials.userId).powerLevel||t.tetatet||(this.cog=!0)}},c=s,d=a("2877");function l(t){}var m=Object(d["a"])(c,n,r,!1,l,"028211f1",null,!0),u=m.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"maskedtop",class:{minimized:t.minimized,active:t.active},attrs:{id:"chatInfo"}},[a("info",{attrs:{chat:t.chat}})],1)},p=[],f=a("2f62"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aboutRoom"},[a("div",{staticClass:"roomInfoWrapper noSwipe"},[a("div",{class:{chatIconWrapper:"chatIconWrapper"}},[a("chatIcon",{attrs:{slidesPerView:4,dontuseslides:t.minimized&&!t.active,chat:t.chat,m_chat:t.m_chat,hideunseen:!0}}),a("div",{staticClass:"chatGroupIcon"},[a("img",{attrs:{src:t.groupAvatar,alt:""}})])],1),a("chatName",{staticClass:"roomNameLine",attrs:{preview:!0,chat:t.chat,m_chat:t.m_chat}}),t.topicTxt?a("div",{staticClass:"roomInfo"},[a("span",{staticClass:"topicTxt"},[t._v(t._s(t.topicTxt))])]):t._e()],1),a("div",{staticClass:"roomAccordionsList"},[t._l(t.accordionList,(function(e,i){return a("div",{key:i,staticClass:"accordion",class:{active:t.isActive===i}},[a("div",{staticClass:"aHeader",on:{click:function(e){return t.toggleItem(i)}}},[a("div",{staticClass:"head"},[a("div",{staticClass:"leftBlock"},["members"===e.id?a("i",{staticClass:"fas fa-users"}):t._e(),"media"===e.id?a("i",{staticClass:"far fa-image"}):t._e(),"files"===e.id?a("i",{staticClass:"fas fa-folder"}):t._e(),t._v(" "+t._s(e.title)+" ")]),"members"===e.id?a("div",{staticClass:"rightBlock"},[t.membersList?a("div",{staticClass:"membersCount"},[a("span",[t._v(t._s(t.membersList.length))])]):t._e()]):t._e()])]),a("div",{staticClass:"body"},[t.isActive===i&&"members"===e.id?a("members",{attrs:{membersList:t.membersList},on:{admin:t.makeAdmin,kick:t.kickUser,ban:t.banUser}}):t._e(),t.isActive===i&&"media"===e.id?a("images",{attrs:{chat:t.m_chat}}):t._e(),t.isActive===i&&"files"===e.id?a("files",{attrs:{chat:t.m_chat,fileEvents:t.fileEvents}}):t._e()],1)])})),t.public?a("div",{staticClass:"publicRoomElements"},[a("div",{staticClass:"linkwrapper"},[a("div",{staticClass:"linkPlace"},[a("i",{staticClass:"fas fa-link",on:{click:function(e){return t.copyShareLink()}}}),a("span",{on:{click:function(e){return t.copyShareLink()}}},[t._v(t._s(t.shareRoomLink))])]),a("div",{staticClass:"sharelink"},[a("button",{staticClass:"button small rounded ghost",on:{click:t.sharelink}},[t._v(" Share "),a("i",{staticClass:"fas fa-share-alt"})])])])]):t._e()],2),a("div",{staticClass:"roomActionsList"},[t.canInvite?a("button",{staticClass:"button small rounded",on:{click:t.modalInviteUser}},[t._v(" "+t._s(t.$t("caption.add"))+" "),a("i",{staticClass:"fas fa-user-plus"})]):t._e(),a("button",{staticClass:"button small black rounded",on:{click:t.muteRoom}},[t.roomMuted?t._e():a("span",[t._v(" "+t._s(t.$t("caption.mute"))+" "),a("i",{staticClass:"fas fa-bell-slash"})]),t.roomMuted?a("span",[t._v(" "+t._s(t.$t("caption.unmute"))+" "),a("i",{staticClass:"fas fa-bell"})]):t._e()]),t.tetatet?a("button",{staticClass:"button small black rounded",on:{click:t.muteCalls}},[t.roomCallsDisabled?t._e():a("span",[t._v(" "+t._s(t.$t("caption.disableCalls"))+" "),a("i",{staticClass:"fas fa-video-slash"})]),t.roomCallsDisabled?a("span",[t._v(" "+t._s(t.$t("caption.enableCalls"))+" "),a("i",{staticClass:"fas fa-video"})]):t._e()]):t._e(),t.tetatet?t._e():a("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.forgetRoom()}}},[t._v(" "+t._s(t.$t("caption.leave"))+" "),a("i",{staticClass:"fas fa-sign-out-alt"})]),t.tetatet&&!t.blockedCheck?a("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.blockUser()}}},[t._v(" "+t._s(t.$t("button.block"))+" "),a("i",{staticClass:"fas fa-sign-out-alt"})]):t._e(),t.tetatet&&t.blockedCheck?a("button",{staticClass:"button small rounded",on:{click:function(e){return t.unblock()}}},[t._v(" "+t._s(t.$t("button.unblock"))+" "),a("i",{staticClass:"fas fa-sign-out-alt"})]):t._e(),t.curation?a("button",{staticClass:"button small rounded badbutton",on:{click:function(e){return t.complain()}}},[t._v(" "+t._s(t.$t("button.Complain"))+" "),a("i",{staticClass:"fas fa-exclamation-triangle"})]):t._e()]),t.inviteUserOpened?a("modal",{on:{close:t.closeModal},scopedSlots:t._u([{key:"header",fn:function(){return[a("span",[t._v(t._s(t.$t("caption.inviteUser")))])]},proxy:!0},{key:"body",fn:function(){return[a("invite",{attrs:{chatRoomId:t.chat.roomId},on:{completed:t.closeContactModal}})]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,2878587737)}):t._e()],1)},b=[],g=a("1da1"),x=a("aa20"),w=a("3094"),I=a("0826"),k=a("71da"),y=a("3139"),C={name:"chatTopheader",props:{chat:Object,u:String,roomInfo:!1,aboutUser:!1},inject:["isChatEncrypted","matches"],components:{chatName:x["a"],chatIcon:w["a"],chatTyping:I["a"],contacts:k["a"]},data:function(){return{menuItems:[{click:"callupVideoHandler",title:this.$i18n.t("caption.videocall"),icon:"fas fa-camera"},{click:"callupHandler",title:this.$i18n.t("caption.call"),icon:"fas fa-phone"}],menuItemsRoom:[{click:"AddMember",title:this.$i18n.t("caption.add"),icon:"fas fa-user-plus"},{click:"MuteRoom",title:this.$i18n.t("caption.mute"),icon:"fas fa-bell-slash"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"}],menuItemsRoomMuted:[{click:"AddMember",title:this.$i18n.t("caption.add"),icon:"fas fa-user-plus"},{click:"MuteRoom",title:this.$i18n.t("caption.unmute"),icon:"fas fa-bell"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"}],oneToOne:[{click:"MuteRoom",title:this.$i18n.t("caption.mute"),icon:"fas fa-bell-slash"},{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],oneToOneMuted:[{click:"MuteRoom",title:this.$i18n.t("caption.unmute"),icon:"fas fa-bell"},{click:"LeaveFromRoom",title:this.$i18n.t("caption.leaveAndDelete"),icon:"fas fa-sign-out-alt"},{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],donateMenu:[{click:"Donate",title:this.$i18n.t("caption.donate"),icon:"fas fa-money-bill-wave"}],wait:!1,loading:!1,typing:!1,userinfo:null,aboutUserShow:!1,roomBanned:!1,roomMuted:!1,donateUserOpened:!1,receiver:null,donationAmount:0,donationMessage:"",calculatedFees:null,showFeesError:"",showTransactionError:"",calculatingFees:!1,sending:!1,feesDirection:"include",feesDirectionPossibleValues:[{value:"include",label:this.$i18n.t("caption.toBePaidByReceiver")},{value:"exclude",label:this.$i18n.t("caption.toBePaidBySender")}],hoverEncrypt:!1}},watch:{},mounted:function(){this.getuserinfo()},computed:Object(f["c"])({callsEnabled:t=>t.isCallsEnabled,isGroup:function(){return"@"===this.m_chat.name.slice(0,1)},auth:t=>t.auth,isCallsActive:t=>t.isCallsActive,m_chat:function(){if(this.chat&&this.chat.roomId){let e=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==e&&(this.roomMuted=!0);var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}},m_chat_typing:function(){if(!this.chat)return!1;var t=this.chat.roomId,e=this.$store.state.typing[t]||{},a=_.find(e,(t,e)=>{var a;if(t)return e!=(null===(a=this.core.user.userinfo)||void 0===a?void 0:a.id)});return a||!1},totalDonationAmount:function(){return"include"==this.feesDirection?this.donationAmount:this.donationAmount+this.calculatedFees}}),methods:{checkCallsEnabled:function(){var t,e,a,i,o,n,r;let s=this.m_chat.currentState.getStateEvents("m.room.callsEnabled"),c=this.m_chat.currentState.getStateEvents("m.room.request_calls_access");return null!==(t=s.find(t=>{var e,a,i;return!this.core.mtrx.me(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.sender)&&(null===t||void 0===t||null===(a=t.event)||void 0===a?void 0:a.sender.split(":")[0].replace("@",""))===(null===t||void 0===t||null===(i=t.event)||void 0===i?void 0:i.state_key)}))&&void 0!==t&&null!==(e=t.event)&&void 0!==e&&null!==(a=e.content)&&void 0!==a&&a.enabled?(console.log("enabled"),this.wait=!1,!0):null!==(i=c.find(t=>{var e;return this.core.mtrx.me(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.sender)}))&&void 0!==i&&i.event&&void 0===(null===(o=c.find(t=>{var e;return this.core.mtrx.me(null===t||void 0===t||null===(e=t.event)||void 0===e?void 0:e.sender)}))||void 0===o||null===(n=o.event)||void 0===n||null===(r=n.content)||void 0===r?void 0:r.accepted)?(console.log("wait"),"wait"):(console.log("nonono"),!1)},bcCall:function(){if(!this.checkCallsEnabled())return void this.$dialog.confirm(this.$t("caption.request"),{okText:"Yes",cancelText:"No, cancel"}).then(()=>{this.core.mtrx.client.sendStateEvent(this.chat.roomId,"m.room.callsEnabled",{enabled:!0},this.core.user.userinfo.id),this.wait=!0,this.requestCallsAccess()});if("wait"===this.checkCallsEnabled())return;let t=document.querySelector("body");try{let e=this.core.mtrx.bastyonCalls.initCall(this.chat.roomId,t);console.log(e),e&&this.$store.dispatch("CALL",e)}catch(e){return void console.log("ошибка при создании звонка",e)}},requestCallsAccess(){this.core.mtrx.client.sendStateEvent(this.m_chat.roomId,"m.room.request_calls_access")},navigateToProfile(t){this.$router.push({path:"/contact?id="+y["a"].getmatrixid(t)}).catch(t=>{})},getuserinfo:function(){this.u&&this.core.user.usersInfo(this.u).then(t=>{this.userinfo=t[0]})},findOtherUser:function(){let t,e=this.m_chat.myUserId,a=this.m_chat.currentState.getMembers();return a.forEach((function(a){a&&a.userId!==e&&(t=a)})),t},addMember(){this.modalInviteUser()},menuItemClickHandler(t,e){if("AddMember"===t.click&&(this.$emit("addMember",!0),this.$refs.dropdownMenu.hidePopup()),"MuteRoom"===t.click){var a=this.chat.roomId;this.core.mtrx.client.deviceId;let t=this,e=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);null!==e?(t.core.mtrx.client.deletePushRule("global","room",a),this.roomMuted=!1):(t.core.mtrx.client.setRoomMutePushRule("global",a,"true"),this.roomMuted=!0),this.$refs.dropdownMenu.hidePopup()}if("LeaveFromRoom"===t.click){this.core.mtrx.client.leave(this.chat.roomId).then(t=>{this.core.mtrx.client.forget(this.chat.roomId,!0).then(t=>{this.$store.commit("DELETE_ROOM",this.chat.roomId)}).then(t=>{this.$router.push({path:"/chats"}).catch(t=>{})})}),this.$refs.dropdownMenu.hidePopup()}if("BanRoom"===t.click){let t="",e=this.findOtherUser();e&&e.userId&&(t=e.userId);let a=this.chat.roomId;this.core.mtrx.client.ban(a,t,"ban").then(t=>{}),this.roomBanned=!0,this.$refs.dropdownMenu.hidePopup()}if("Unban"===t.click){let t="",e=this.findOtherUser();e&&e.userId&&(t=e.userId),this.core.mtrx.client.unban(this.chat.roomId,t).then(e=>{this.core.mtrx.client.invite(this.chat.roomId,t)}),this.roomBanned=!1,this.$refs.dropdownMenu.hidePopup()}if("Donate"===t.click){this.donateUserOpened=!0,this.$refs.dropdownMenu.hidePopup();let t=this.findOtherUser();this.receiver=t?this.$f.deep(this,"$store.state.users."+this.$f.getmatrixid(t.name)):null}},closeDonateModal(){this.donateUserOpened=!1},onCalculateFeesClick(){this.calculatingFees=!0,this.calculateFees().finally(()=>this.calculatingFees=!1)},calculateFees(){var t=this;return this.showFeesError="",new Promise((e,a)=>{if(this.donationAmount<=0||!this.receiver||!this.receiver.source||!this.receiver.source.address)return this.showFeesError="invalid",a("Missing amount or receiver");try{var i=window.POCKETNETINSTANCE.platform.sdk;i.node.fee.estimate((function(o){var n=[{address:t.receiver.source.address,amount:t.donationAmount}];i.wallet.txbase([i.address.pnet().address],n,0,t.feesDirection,(function(n,r,s){if(n)return console.error(n),t.showFeesError=n,a(n);var c=i.node.transactions.create.wallet(r,s),d=Math.min(c.virtualSize()*o.feerate,.0999);return t.calculatedFees=d,e()}))}))}catch(o){return console.error(o),t.showFeesError=o,a(o)}})},sendDonation(){var t=this;return Object(g["a"])((function*(){var e=t;t.sending=!0,t.showTransactionError="";try{yield t.calculateFees()}catch(i){return t.showTransactionError="error",void(t.sending=!1)}var a=window.POCKETNETINSTANCE.platform.sdk;a.node.transactions.get.canSpend(a.address.pnet().address,t=>{if(!t||isNaN(t)||t<e.totalDonationAmount)return e.showTransactionError="balance too low",void(e.sending=!1);try{var o=[{address:e.receiver.source.address,amount:e.donationAmount}];a.wallet.embed(o,e.donationMessage),a.wallet.txbase([a.address.pnet().address],o,e.calculatedFees,e.feesDirection,(function(t,i,o){if(t)return console.error(t),e.showTransactionError="error",e.sending=!1,reject(t);var n=a.node.transactions.create.wallet(i,o);i.forEach(t=>{t.cantspend=!0}),a.node.transactions.send(n,(function(t,n){if(n)return a.node.transactions.releaseCS(i),e.showTransactionError="error",void(e.sending=!1);var r=i.map(t=>t.txid);a.node.transactions.clearUnspents(r),a.wallet.saveTempInfoWallet(t,i,o),e.core.mtrx.client.sendEvent(e.chat.roomId,"m.room.message",{from:e.$f.getmatrixid(e.m_chat.myUserId),to:e.receiver.id,amount:e.donationAmount,txId:t,msgtype:"m.notice"},""),e.closeDonateModal()}))}))}catch(i){console.error(i),e.showTransactionError="error",e.sending=!1}})}))()},resetDonation(){this.calculatedFees=null,this.showFeesError="",this.showTransactionError=""}}},A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{minimized:t.minimized,active:t.active},attrs:{id:"chatinvite"}},[a("div",{staticClass:"selectedtype"},[a("div",{staticClass:"completewrapper"},[a("button",{staticClass:"button small rounded",class:{orange:t.cancomplete,ghost:!t.cancomplete},on:{click:function(e){return t.complete()}}},[t._v(" Invite ")])])]),a("div",{staticClass:"creationbody"},[a("div",{staticClass:"contactswrapper"},[a("contacts",{attrs:{mode:"Selectmany"},on:{selectedUsers:t.selectedUsers}})],1)])])},R=[],M={name:"chatinvite",props:{chatRoomId:String},components:{contacts:k["a"]},data:function(){return{loading:!1,selected:{}}},created:()=>{},watch:{},computed:Object(f["c"])({auth:t=>t.auth,cancomplete:function(){return this.selectedLength},selectedLength:function(){return _.toArray(this.selected).length},active:t=>t.active,minimized:t=>t.minimized}),methods:{selectedUsers:function(t){this.selected=t},complete(){this.inviteUserAction(this.selected).then(()=>{this.$emit("completed"),this.$store.commit("icon",{icon:"success",message:""})}).catch(t=>{console.error(t);var e="An unexpected error occurred";"cancomplete"==t&&(e="Please select at least one contact"),this.$store.commit("icon",{icon:"error",message:e})})},inviteUserAction(t){if(!this.chatRoomId)return Promise.reject("chatRoomId");if(!this.cancomplete)return Promise.reject("cancomplete");var e=this.chatRoomId;return Promise.all(_.map(t,t=>{var a="@"+t+":"+this.core.domain;return this.core.mtrx.client.invite(e,a)})).then(t=>Promise.resolve())}}},E=M;function $(t){var e=a("a958");e.__inject__&&e.__inject__(t)}var L=Object(d["a"])(E,A,R,!1,$,"846c09ac",null,!0),W=L.exports,S=a("ecec"),j={name:"userspic",props:{users:Array,single:{},unseen:Number,slidesPerView:Number,status:{type:Object,default:{}}},data:function(){return{}},components:{many:S["a"]}},O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.membersList?a("div",{staticClass:"membersList"},t._l(t.membersList,(function(e,i){return a("div",{key:e.userId,staticClass:"roomMember",class:e.membership,on:{click:function(a){t.core.mtrx.opencontact(t.userinfo(e))}}},[a("div",{staticClass:"leftWrapper"},[a("div",{staticClass:"avatarNameWrapper"},[a("userpic",{attrs:{userinfo:t.userinfo(e),status:e.membership}})],1),a("div",{staticClass:"nameRole"},[a("span",{staticClass:"name"},[t._v(t._s(t.userinfo(e).name||""))]),e.powerLevel?a("span",{staticClass:"memberRole"},[t._v(t._s(t.$t("caption."+t.role(e))))]):t._e(),e.userId==t.meid?a("span",{staticClass:"memberRole"},[t._v("You")]):t._e()])]),t.menu(e).length?a("div",[a("div",{staticClass:"rightWrapper"},[a("dropdownMenu",{ref:"dropdownMenu",refInFor:!0,attrs:{menuItems:t.menu(e),rowObject:{user:e,index:i},icon:"fas fa-ellipsis-h"},on:{itemClicked:t.menuItemClickHandler}})],1)]):t._e()])})),0):a("div",{staticClass:"empty"},[a("span",[t._v("List Empty")])])},P=[],T={components:{chatIcon:w["a"]},data:function(){return{moderItems:[{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],menuItems:[{click:"adminMakeModer",title:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}]}},props:{membersList:Array},computed:{meid:function(){return this.core.user.userinfo.id},me:function(){return _.find(this.membersList,t=>t.userId==this.core.user.userinfo.id)||{}}},methods:{userinfo:function(t){return y["a"].deep(this,"core.store.state.users."+t.userId)||{}},role:function(t){var e="member";return t.powerLevel>=50&&(e="moderator"),t.powerLevel>=100&&(e="admin"),e},menu:function(t){var e={setAdmin:{click:"setAdmin",title:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},kick:{click:"kick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"},ban:{click:"ban",title:this.$i18n.t("caption.ban"),icon:"fas fa-user-times"}},a=[];return"ban"===t.membership&&(e.ban.title=this.$i18n.t("caption.removeBan")),0===t.powerLevel&&this.me.powerLevel>=50&&this.core.user.userinfo.id!==t.id&&(a=[e.ban]),0===t.powerLevel&&100===this.me.powerLevel&&this.core.user.userinfo.id!==t.id&&(a=[e.setAdmin,e.ban]),50===t.powerLevel&&this.core.user.userinfo.id!==t.id&&100===this.me.powerLevel&&(e.setAdmin.title=this.$i18n.t("caption.cancelModeration"),a=[e.setAdmin,e.ban]),a},navigateToProfile(t){this.$router.push({path:"/contact?id="+y["a"].getmatrixid(t)}).catch(t=>{})},menuItemClickHandler(t,e,a){return this[t.click]?(this["menu"+t.click](e).then(t=>{a.hidePopup()}).catch(t=>{a.showPopup()}),this[t.click](e.user)):Promise.resolve()},menusetAdmin(t){return this.$emit("admin",t.user),Promise.resolve()},menukick(t){return this.$emit("kick",t.user),Promise.resolve()},menuban(t){return this.$emit("ban",t.user),Promise.resolve()},setAdmin:function(t){return this.$emit("setAdmin",t.id),Promise.resolve()},ban:function(t){return this.$emit("adminKick",t.id),Promise.resolve()},kick:function(t){return this.$emit("adminKick",t.id),Promise.resolve()}}},z=T;function U(t){var e=a("18f9");e.__inject__&&e.__inject__(t)}var F=Object(d["a"])(z,O,P,!1,U,"100918a2",null,!0),N=F.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chatInfoMedia"},[t.empty?a("div",{staticClass:"emptyBlock"},[a("span",[t._v(t._s(t.$t("caption.noImages")))])]):a("imageEvents",{ref:"list",staticClass:"roomAboutWrapper",attrs:{chat:t.chat,filterType:"images"},on:{eventImage:function(e){return t.galleryImage(e)},getEvents:t.eventsList}})],1)},B=[],H=a("4e29"),K={data:function(){return{events:[],empty:!1}},components:{imageEvents:H["a"]},props:{images:Array,chat:Object},computed:{},mounted:function(){this.core.mtrx.kit.prepareChat(this.chat).then(t=>{_.each(this.imageEvents,t=>{this.encrypted(t)&&this.core.mtrx.getImage(this.chat,t).catch(t=>{console.error(t)})})})},methods:{galleryImage(t){this.core.store.dispatch("SHOW_GALLERY_FROMEVENTS",{events:this.events,event:t})},eventsList(t){0===t.length&&(this.empty=!0),this.events=t},showPhotoSwipe(t){this.core.store.dispatch("SHOW_GALLERY_FROMEVENTS",{events:this.imageEvents,event:t})},encrypted:function(t){return!!y["a"].deep(t,"event.content.info.secrets")}}},q=K;function V(t){var e=a("620b");e.__inject__&&e.__inject__(t)}var Y=Object(d["a"])(q,D,B,!1,V,"e573d086",null,!0),G=Y.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[0!==t.fileEvents.length?a("div",{staticClass:"aboutRoomFileWrapper"},t._l(t.fileEvents,(function(e){return a("div",{key:e.event_id,staticClass:"aboutRoomFile"},[a("div",{staticClass:"filePreview"},[a("fileMessage",{attrs:{encryptedData:t.encryptedData(e),file:t.file(e)},on:{download:function(a){return t.download(e)}}}),t.encryptedData?a("div",{staticClass:"encryptedDataIcon"},[a("i",{staticClass:"fas fa-lock"})]):t._e()],1)])})),0):a("div",{staticClass:"emptyBlock"},[a("span",[t._v(t._s(t.$t("caption.noFiles")))])])])},Q=[],X=a("696c2"),Z={props:{fileEvents:Array,chat:Object},components:{fileMessage:X["a"]},computed:{},methods:{encryptedData:function(t){return!(!y["a"].deep(t,"event.content.info.secrets")&&!y["a"].deep(t,"event.content.pbody.secrets"))},jsonConvertor(t){return JSON.parse(t)},humanReadableSize(t){return y["a"].formatBytes(t)},content:function(t){return t.event.content},file:function(t){if("m.file"===this.content(t).msgtype)return this.body(t)},body:function(t){var e=t.event.content;return"m.encrypted"==t.event.content.msgtype&&(e=this.decryptEvent),e.pbody||e.body||""},download(t){this.downloading=!0,this.core.mtrx.downloadFile(this.chat,t).catch(t=>(this.error=t.toString(),Promise.resolve(t))).then(t=>{this.downloading=!1}).catch(t=>{console.error(t)})}}},tt=Z;function et(t){var e=a("5f62");e.__inject__&&e.__inject__(t)}var at=Object(d["a"])(tt,J,Q,!1,et,"3bfa3f24",null,!0),it=at.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.membersList.length>1?a("div",{staticClass:"aboutRoomAvatar"},[2===t.membersList.length?a("div",{staticClass:"userspicwrapper twoAvatars"},[t._l(t.membersList,(function(e){return"invite"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage invited",attrs:{src:e.image}}):t._e()})),t._l(t.membersList,(function(e){return"join"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage",attrs:{src:e.image}}):t._e()}))],2):t._e(),3===t.membersList.length?a("div",{staticClass:"userspicwrapper threeAvatars"},[t._l(t.membersList,(function(e){return"invite"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage invited",attrs:{src:e.image}}):t._e()})),t._l(t.membersList,(function(e){return"join"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage",attrs:{src:e.image}}):t._e()}))],2):t._e(),4===t.membersList.length?a("div",{staticClass:"userspicwrapper fourAvatars"},[t._l(t.membersList,(function(e){return"invite"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage invited",attrs:{src:e.image}}):t._e()})),t._l(t.membersList,(function(e){return"join"===e.roomStatus?a("bgimage",{key:e.id,staticClass:"bgImage",attrs:{src:e.image}}):t._e()}))],2):t._e(),t.membersList.length>4?a("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},[t._l(t.membersList,(function(e){return a("swiper-slide",{key:e.id},["join"===e.roomStatus?a("div",{staticClass:"imageSwiper"},[a("img",{attrs:{src:e.image,alt:""}})]):t._e(),"invite"===e.roomStatus?a("div",{staticClass:"imageSwiper invited"},[a("img",{attrs:{src:e.image,alt:""}})]):t._e()])})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2):t._e()],1):t._e()},nt=[],rt=a("7212"),st={props:{membersList:Array},data:function(){return{swiperOption:{watchSlidesProgress:!0,watchSlidesVisibility:!0,slidesPerView:5,direction:"horizontal",pagination:{el:".swiper-pagination",clickable:!0}}}},components:{Swiper:rt["Swiper"],SwiperSlide:rt["SwiperSlide"]}},ct=st;function dt(t){var e=a("ea26");e.__inject__&&e.__inject__(t)}var lt=Object(d["a"])(ct,ot,nt,!1,dt,"5c24f3fe",null,!0),mt=lt.exports,ut={data:function(){return{usr:{},ind:0,topicTxt:"",roomMuted:!1,roomCallsDisabled:!1,publicRoom:{},public:!1,encryptedEvents:[],imageEvents:[],pics:!1,fileEvents:[],inputActive:!1,menuItems:[{click:"adminMakeModer",title:this.$i18n.t("caption.makeModerator"),icon:"fas fa-user-shield"},{click:"adminBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban",upload:{multiple:!0}},{click:"adminKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],menuItemsModer:[{click:"moderBan",title:this.$i18n.t("caption.ban"),icon:"fas fa-ban"},{click:"moderKick",title:this.$i18n.t("caption.kick"),icon:"fas fa-user-times"}],admin:String,imagesList:[],localRoomName:"",humanSize:Number,inviteUserOpened:!1,msList:[],isOpen:!1,actionMemberShow:!1,options:{index:0,arrowEl:!1,fullscreenEl:!1,shareEl:!1},roomName:"",nameEdit:!1,accordionList:[{title:this.$i18n.t("caption.members"),id:"members"},{title:this.$i18n.t("caption.media"),id:"media"},{title:this.$i18n.t("caption.files"),id:"files"}],isActive:null,isActiveAction:null,currentUser:"",actionUser:{},actionUserMenu:!1,chatMembers:[]}},props:{chat:{}},components:{images:G,members:N,files:it,topheader:C,avatarsList:mt,invite:W,userspic:j,contacts:k["a"],chatName:x["a"],chatIcon:w["a"]},watch:{m_chat:{immediate:!0,handler:function(){this.m_chat&&!_.isEmpty(this.m_chat)&&this.core.mtrx.kit.prepareChat(this.m_chat).then(t=>{this.ready=!0,this.encrypted=this.m_chat.pcrypto.canBeEncrypt()})}},chat:{immediate:!0,handler:function(){this.chat?this.$store.commit("SET_CURRENT_ROOM",this.chat.roomId):this.$store.commit("SET_CURRENT_ROOM",!1)}}},computed:{...Object(f["c"])(["minimized","active"]),curation:function(){if(window.POCKETNETINSTANCE&&window.POCKETNETINSTANCE.curation())return!0},canchangeChatName:function(){return!this.tetatet&&this.me.powerLevel>0},canInvite:function(){return!this.tetatet&&this.me.powerLevel>0},shareRoomLink:function(){return"https://bastyon.com/welcome?publicroom="+this.chat.roomId},me:function(){return _.find(this.membersList,t=>t.userId==this.core.user.userinfo.id)||{}},events:function(){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId),e=this.m_chat.currentState.getStateEvents("m.room.callsEnabled");return console.log(this.core.user.userinfo),null!==t&&(this.roomMuted=!0),e.find(t=>{var e,a,i,o,n,r;return(null===(e=!this.core.mtrx.me(null===t||void 0===t||null===(o=t.event)||void 0===o?void 0:o.sender))||void 0===e||null===(a=e.event)||void 0===a||null===(i=a.content)||void 0===i?void 0:i.enabled)&&(null===t||void 0===t||null===(n=t.event)||void 0===n?void 0:n.sender.split(":")[0].replace("@",""))===(null===t||void 0===t||null===(r=t.event)||void 0===r?void 0:r.state_key)})&&(this.roomCallsDisabled=!0),this.m_chat.timeline||{}},customRoomType:function(){var t=this.core.mtrx.customRoomType(this.chat.roomId);return t},blockedCheck:function(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);if(1==t.length)return this.core.mtrx.blockeduser(t[0].userId)},membersCount:function(){return this.users.length},users:function(){var t;return this.core.mtrx.chatUsersInfo(null===(t=this.chat)||void 0===t?void 0:t.roomId)||[]},m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}},galleryImages:function(){var t=[];return this.imageEvents.forEach((function(e){"m.image"===e.event.content.msgtype&&t.push({src:e.event.content.url,w:e.event.content.info.w,h:e.event.content.info.h})})),t},membersList:function(){return this.core.mtrx.chatUsers(this.chat.roomId).filter(t=>"leave"!==t.membership)},tetatet:function(){return this.core.mtrx.kit.tetatetchat(this.m_chat)},changeRoomName:function(){var t=this.m_chat.name;return t.replace("_"," ")},groupAvatar:function(){if(this.m_chat.currentState.getStateEvents("m.room.avatar")[0])return this.m_chat.currentState.getStateEvents("m.room.avatar")[0].event.content.avatarUrl}},mounted(){this.events;this.eventsList(),"public"===this.m_chat.getJoinRule()&&(this.public=!0,this.getPublicRoom())},methods:{complain:function(){if(this.curation){var t={address1:this.core.user.userinfo.source.address};if(this.tetatet){var e=_.find(this.core.mtrx.chatUsersInfo(this.chat.roomId)||[],t=>t.id!=this.core.user.userinfo.id);e&&(t.address2=e.source.address)}else t.roomid=this.chat.roomId;this.core.mtrx.complain(this.$t("button.Complain"),t)}},getPublicRoom(){this.core.mtrx.client.publicRooms().then(t=>{if(this.publicRoom=t.chunk.filter(t=>t.room_id===this.chat.roomId)[0],this.publicRoom.topic)return this.topicTxt=this.publicRoom.topic.replace(/_/g," ")})},banForgetRoom(){var t="",e=this.m_chat.myUserId,a=this.m_chat.currentState.getMembers();a.forEach((function(a){a!==e&&(t=a.userId)})),this.core.mtrx.client.ban(this.chat.roomId,t,"leave").then(t=>t)},muteCalls(){let t=this.chat.roomId;const e=this;e.roomCallsDisabled?e.roomCallsDisabled=!1:e.roomCallsDisabled=!0,e.core.mtrx.client.sendStateEvent(t,"m.room.callsEnabled",{enabled:!e.roomCallsDisabled},this.core.user.userinfo.id)},muteRoom(){var t=this.chat.roomId,e=(this.core.mtrx.client.deviceId,this);this.roomMuted?(e.core.mtrx.client.deletePushRule("global","room",t),e.roomMuted=!1):(e.core.mtrx.client.setRoomMutePushRule("global",t,"true"),e.roomMuted=!0)},blockUser(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);t.length>1||this.core.mtrx.blockUser(t[0].userId).catch(t=>{})},unblock(){var t=this.core.mtrx.anotherChatUsers(this.chat.roomId);t.length>1||this.core.mtrx.unblockUser(t[0].userId).catch(t=>{})},eventsList(){"function"==typeof this.events.filter&&(this.imageEvents=this.events.filter(t=>"m.image"===t.event.content.msgtype||"m.room.encrypted"===t.event.type&&"m.image"===t.getClearContent().msgtype),this.fileEvents=this.events.filter(t=>"m.file"===t.event.content.msgtype))},toggleItem(t){this.isActive=this.isActive===t?null:t,this.actionMemberShow=null},forgetRoom(){this.$dialog.confirm("Do you really want to leave room?",{okText:this.$i18n.t("yes"),cancelText:this.$i18n.t("cancel")}).then(t=>{this.core.mtrx.client.leave(this.chat.roomId).then(t=>{this.core.mtrx.client.forget(this.chat.roomId,!0).then(t=>t).then(t=>{this.$store.commit("DELETE_ROOM",this.chat.roomId),this.$router.push({path:"/chats"}).catch(t=>{})})})})},changeName(){this.localRoomName=this.m_chat.name.replace(/@/g,""),this.localRoomName.replace("_"," ")},saveRoomName(){this.nameEdit=!1,this.inputActive=!1,this.core.mtrx.client.setRoomName(this.m_chat.roomId,"@"+this.roomName.replace(/[@]*/g,""))},banUser(t){"ban"===t.membership?this.core.mtrx.client.unban(this.m_chat.roomId,y["a"].getMatrixIdFull(t.userId,this.core.domain)).then(e=>{this.core.mtrx.client.invite(this.m_chat.roomId,y["a"].getMatrixIdFull(t.userId,this.core.domain)).then(t=>{})}):this.core.mtrx.client.ban(this.m_chat.roomId,y["a"].getMatrixIdFull(t.userId,this.core.domain),"admin ban").then(t=>{})},kickUser(t){this.core.mtrx.client.kick(this.m_chat.roomId,y["a"].getMatrixIdFull(t.userId,this.core.domain),"admin kicked").then(this.$nextTick((function(){})))},makeAdmin(t){var e=50;50===t.powerLevel&&(e=0);var a=this.m_chat.currentState.getStateEvents("m.room.power_levels");this.core.mtrx.client.setPowerLevel(this.m_chat.roomId,y["a"].getMatrixIdFull(t.userId,this.core.domain),e,a[0]).then(t=>{})},showEditRoomName(){this.nameEdit=!0,this.roomName=this.m_chat.name,this.inputActive=!0},editRoomName(){},showPhotoSwipe(t){this.isOpen=!0,this.$set(this.options,"index",t)},accordion:function(t){t.target.classList.toggle("active")},hidePhotoSwipe(){this.isOpen=!1},focus(){return $event.target.select()},showUserAbout(t){this.$emit("showAbout",t)},getClick(t){this.$emit("showRoomInfo",t)},modalInviteUser(){this.inviteUserOpened=!0},closeModal(){this.inviteUserOpened=!1},closeContactModal(t){this.inviteUserOpened=t},addTopic(){this.core.mtrx.client.setRoomTopic(this.chat.roomId,this.topicTxt.replace(/ /g,"_")).then(t=>{this.getPublicRoom()})},copyShareLink(){this.$f.copytext(this.shareRoomLink),this.core.sitemessage("The link was copied successfully")},sharelink(){this.core.share({urls:[this.shareRoomLink],route:"chatInfo?id="+this.chat.roomId})}}},ht=ut;function pt(t){var e=a("5382");e.__inject__&&e.__inject__(t)}var ft=Object(d["a"])(ht,v,b,!1,pt,"03846037",null,!0),vt=ft.exports,bt={name:"chatInfo",components:{info:vt},props:{chat:{},events:{}},data:function(){return{}},created(){},mounted(){this.$store.commit("blockactive",{value:!0,item:"chatinfo"})},destroyed(){this.$store.commit("blockactive",{value:!1,item:"chatinfo"})},watch:{},computed:Object(f["c"])({pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,active:t=>t.active,auth:t=>t.auth,m_chat:function(){if(this.chat&&this.chat.roomId){var t=this.core.mtrx.client.getRoom(this.chat.roomId);return t||{}}}})},gt=bt;function _t(t){var e=a("da6e");e.__inject__&&e.__inject__(t)}var xt=Object(d["a"])(gt,h,p,!1,_t,"ba78a86e",null,!0),wt=xt.exports,It=a("d3ff"),kt={name:"chatinfo",data:function(){return{}},components:{topheader:u,contact:It["default"],chatInfo:wt},computed:Object(f["c"])({pocketnet:t=>t.pocketnet,minimized:t=>t.minimized,u(){return this.$route.query.u},chat(){var t=this.$route.query.id;return this.$store.state.chatsMap[t]}}),methods:{}},yt=kt;function Ct(t){var e=a("a670");e.__inject__&&e.__inject__(t)}var At=Object(d["a"])(yt,i,o,!1,Ct,"eae8d188",null,!0);e["default"]=At.exports},"2b96":function(t,e,a){var i=a("c0e2");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("e505cbaa",i,t)}},3234:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".encryptedDataIcon[data-v-3bfa3f24]{position:absolute;color:#fff;opacity:.3;padding:.25em .5em;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);left:0;top:0}.encryptedDataIcon i[data-v-3bfa3f24]{font-size:.7em}.filePreview[data-v-3bfa3f24]{position:relative}.filePreview .encryptedDataIcon[data-v-3bfa3f24]{color:rgb(var(--neutral-grad-3));text-shadow:none;right:0;left:auto}.aboutRoomFileWrapper .aboutRoomFile[data-v-3bfa3f24]{display:flex;justify-content:flex-start;align-items:flex-start;margin-bottom:.5em;padding:.5em}.aboutRoomFileWrapper .aboutRoomFile .filePreview[data-v-3bfa3f24]{border:1px solid rgb(var(--background-main));border-radius:10px;position:relative;overflow:hidden}.aboutRoomFileWrapper .aboutRoomFile .fileName[data-v-3bfa3f24]{font-size:1.2em;margin-top:4px}.aboutRoomFileWrapper .aboutRoomFile .fileSize[data-v-3bfa3f24]{font-size:.8em;font-weight:700}.aboutRoomFileWrapper .aboutRoomFile a[data-v-3bfa3f24]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:.2em 0}.emptyBlock[data-v-3bfa3f24]{text-align:center;padding:1.5em 0}.emptyBlock span[data-v-3bfa3f24]{font-size:.9em}",""]),t.exports=e},4092:function(t,e,a){var i=a("adb3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("94b1ddb4",i,t)}},"518c":function(t,e,a){var i=a("c2e8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("732a5568",i,t)}},5382:function(t,e,a){"use strict";a.r(e);var i=a("a663");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"5f62":function(t,e,a){"use strict";a.r(e);var i=a("e646");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},"620b":function(t,e,a){"use strict";a.r(e);var i=a("fe8e");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},8184:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".chatInfoMedia .emptyBlock[data-v-e573d086]{text-align:center;padding:1.5em 0}.chatInfoMedia .emptyBlock span[data-v-e573d086]{font-size:.9em}.chatInfoMedia .roomAboutWrapper[data-v-e573d086]{display:flex;justify-content:flex-start;flex-wrap:wrap;padding:0 .8em;position:relative;height:430px}.chatInfoMedia .roomAboutWrapper #chatList[data-v-e573d086]{width:100%}.chatInfoMedia .roomAboutWrapper .roomAboutImage[data-v-e573d086]{cursor:pointer;padding:.5em .2em;position:relative}.chatInfoMedia .roomAboutWrapper .roomAboutImage img[data-v-e573d086]{display:block;width:100px;height:100px;-o-object-fit:cover;object-fit:cover;border-radius:1em}.chatInfoMedia .roomAboutWrapper .roomAboutImage .encryptedDataIcon[data-v-e573d086]{left:0;top:0;position:absolute;color:rgb(var(--text-on-bg-shadow-color));opacity:.3;padding:.25em .5em;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.chatInfoMedia .roomAboutWrapper .roomAboutImage .encryptedDataIcon i[data-v-e573d086]{font-size:.7em}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events{padding-bottom:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .scrollbottom{display:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex{transform:none;padding:1em 0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr{display:grid;grid-template-columns:repeat(3,1fr);padding:0 1em;row-gap:5px;-moz-column-gap:5px;column-gap:5px;flex-direction:row;flex-wrap:wrap;transform:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper{padding:0;transform:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow{padding:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .actionsWrapper,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .fromimagesfiles,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .iconWrapper,.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .timeWrapper{display:none}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageImg{width:100%;padding:0;margin:0}.chatInfoMedia .roomAboutWrapper[data-v-e573d086] #events .eventsflex .ewr .eventWrapper .event .eventsMessage .messageRow .messageImg .imgMsg .abswrapper{border-radius:1em}",""]),t.exports=e},a62f:function(t,e,a){var i=a("f6f5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("4c3be754",i,t)}},a663:function(t,e,a){var i=a("ef88");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("6697ad28",i,t)}},a670:function(t,e,a){"use strict";a.r(e);var i=a("a62f");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},a958:function(t,e,a){"use strict";a.r(e);var i=a("518c");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},adb3:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,'.membersList[data-v-100918a2]{list-style:none;margin:0;padding:0}.membersList .roomMember[data-v-100918a2]{padding:1em;padding-right:0;display:flex;align-items:center;cursor:pointer;justify-content:space-between;border-bottom:1px solid rgb(var(--background-main))}.membersList .roomMember[data-v-100918a2]:last-child{border-bottom:0}.membersList .roomMember:hover .leftWrapper .nameRole .name[data-v-100918a2]{color:rgb(var(--neutral-grad-3))}.membersList .roomMember .leftWrapper[data-v-100918a2]{display:flex;justify-content:flex-start;align-items:center;width:90%}.membersList .roomMember .leftWrapper .avatarNameWrapper[data-v-100918a2]{display:flex;justify-content:flex-start;align-items:center;width:44px;height:44px;font-size:.5em}.membersList .roomMember .leftWrapper .nameRole[data-v-100918a2]{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin-left:15px}.membersList .roomMember .leftWrapper .nameRole .memberRole[data-v-100918a2]{font-size:.7em;color:rgb(var(--neutral-grad-3))}.membersList .roomMember .rightWrapper[data-v-100918a2]{padding-right:.5em}.membersList .roomMember .rightWrapper[data-v-100918a2] .icon{width:100%;text-align:center}.membersList .roomMember .rightWrapper .adminActionsList .fa-caret-up[data-v-100918a2]{font-size:2em;left:0;color:rgb(var(--neutral-grad-1));z-index:99;top:10px}.invitedAvatar[data-v-100918a2]:after{content:"";position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(var(--color-txt-ac),.5);border-radius:50%}',""]),t.exports=e},adba:function(t,e,a){var i=a("bbdc");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("47e55f0f",i,t)}},bbdc:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".aboutRoomAvatar[data-v-5c24f3fe]{padding-top:1em}.bgImage[data-v-5c24f3fe]{border-radius:50%}.threeAvatars[data-v-5c24f3fe]{position:relative;background:none;width:80px;height:80px;margin:0 auto}.threeAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px}.threeAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;left:50%;top:0;transform:translate(-50%)}.threeAvatars .bgImage[data-v-5c24f3fe]:nth-child(2){position:absolute;right:-3px;bottom:0;transform:translate(0)}.threeAvatars .bgImage[data-v-5c24f3fe]:nth-child(3){position:absolute;left:-3px;bottom:0}.twoAvatars[data-v-5c24f3fe]{background:none;position:relative;margin:0 auto;width:80px;height:80px}.twoAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px;display:flex}.twoAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;top:0;left:0}.twoAvatars .bgImage[data-v-5c24f3fe]:last-child{position:absolute;right:0;bottom:0}.fourAvatars[data-v-5c24f3fe]{background:none;position:relative;margin:0 auto;width:80px;height:80px}.fourAvatars .bgImage[data-v-5c24f3fe]{width:40px;height:40px}.fourAvatars .bgImage[data-v-5c24f3fe]:first-child{position:absolute;top:-3px;left:-3px;transform:translate(0)}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(2){position:absolute;right:-3px;top:-3px;transform:translate(0)}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(3){position:absolute;left:-3px;bottom:-3px}.fourAvatars .bgImage[data-v-5c24f3fe]:nth-child(4){position:absolute;right:-3px;bottom:-3px}.fourMore[data-v-5c24f3fe]{background:none;margin:0 auto;width:80px;height:80px}.bgImageMore[data-v-5c24f3fe]{width:40px;height:40px}.imageSwiper[data-v-5c24f3fe]{width:50px;height:50px;margin:0 auto}.imageSwiper img[data-v-5c24f3fe]{display:block;border-radius:50%;width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.invited[data-v-5c24f3fe]{opacity:.5}",""]),t.exports=e},c0e2:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".minimized[data-v-ba78a86e]:not(.active) .roomActionsList{display:none}.minimized[data-v-ba78a86e]:not(.active) .chatIconWrapper{width:100%}.minimized[data-v-ba78a86e]:not(.active) .aboutRoom .roomInfoWrapper{width:52px;background:transparent!important}.minimized[data-v-ba78a86e]:not(.active) .aboutRoom .nameline{display:none}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .body{display:none!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .aHeader .head{padding:1em 0;border-bottom:0!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .accordion .aHeader .head i{text-align:center;width:52px!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper{padding:1em 0;border-bottom:0!important}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper .linkPlace{padding-left:0}.minimized[data-v-ba78a86e]:not(.active) .roomAccordionsList .publicRoomElements .linkwrapper i{text-align:center;width:52px!important;font-size:.9em;opacity:.7}",""]),t.exports=e},c2e8:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".namebuttoncreate[data-v-846c09ac],.selectedtype[data-v-846c09ac],.type[data-v-846c09ac]{padding:1em;display:flex;align-items:center;border-bottom:1px solid rgb(var(--neutral-grad-0));white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.namebuttoncreate .icon i[data-v-846c09ac],.selectedtype .icon i[data-v-846c09ac],.type .icon i[data-v-846c09ac]{width:30px;opacity:.7;font-size:.8em}.namebuttoncreate span[data-v-846c09ac],.selectedtype span[data-v-846c09ac],.type span[data-v-846c09ac]{font-size:.9em}.namebuttoncreate button[data-v-846c09ac],.selectedtype button[data-v-846c09ac],.type button[data-v-846c09ac]{white-space:nowrap;min-width:0!important;width:100%}.namebuttoncreate input[data-v-846c09ac],.selectedtype input[data-v-846c09ac],.type input[data-v-846c09ac]{width:auto}.namebuttoncreate .completewrapper[data-v-846c09ac],.selectedtype .completewrapper[data-v-846c09ac],.type .completewrapper[data-v-846c09ac]{flex-grow:1;text-align:right}.namebuttoncreate[data-v-846c09ac]{padding-top:0;padding-bottom:0}.namebuttoncreate>div[data-v-846c09ac]{flex-grow:1}.namebuttoncreate input[data-v-846c09ac]{width:100%;padding-top:1em;padding-bottom:1em}.selectedtype[data-v-846c09ac]{background:rgb(var(--background-total-theme));position:sticky;top:-1px;z-index:12}.selectedtype .label[data-v-846c09ac]{font-weight:700;font-size:.8em}.contactswrapper[data-v-846c09ac] .namebuttoncreate{display:none}.contactswrapper[data-v-846c09ac] .searchWrapperEA{background:rgb(var(--background-total-theme));position:sticky;top:-1px;z-index:12;padding-bottom:.5em}",""]),t.exports=e},da6e:function(t,e,a){"use strict";a.r(e);var i=a("2b96");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},e646:function(t,e,a){var i=a("3234");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("7f9a3388",i,t)}},ea26:function(t,e,a){"use strict";a.r(e);var i=a("adba");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o)},ef88:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".linkwrapper[data-v-03846037]{position:relative;display:flex;align-items:center}.linkwrapper button[data-v-03846037]{min-width:0;width:100px;text-align:right;padding-right:1em}.linkPlace[data-v-03846037]{padding:1em;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.linkPlace i[data-v-03846037]{width:30px}.linkPlace span[data-v-03846037]{font-size:.8em;text-align:left;max-width:400px}.linkPlace .shareLink[data-v-03846037]:hover{color:rgb(var(--color-bg-ac))}.chatIconWrapper[data-v-03846037]{width:90%;margin:0 auto;padding:.5em 0}.chatIconWrapper[data-v-03846037] .swiperWrapperFlex .imageSwiper{width:100px;height:100px;line-height:100px}.chatIconWrapper[data-v-03846037] .swiperWrapperFlex{padding-bottom:1em}.chatIconWrapper[data-v-03846037] .fourAvatars,.chatIconWrapper[data-v-03846037] .threeAvatars,.chatIconWrapper[data-v-03846037] .twoAvatars{width:50%;padding-bottom:50%;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7);background:rgba(var(--background-total-theme),.3)}.chatIconWrapper[data-v-03846037] .oneuser{width:50%;margin:0 auto}.chatIconWrapper[data-v-03846037] .bgimage{box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.aboutRoom[data-v-03846037]{padding-bottom:100px}.aboutRoom .roomInfoWrapper[data-v-03846037]{background:rgb(var(--background-secondary-theme));padding:1em 0}.aboutRoom .roomInfoWrapper .roomNameLine[data-v-03846037]{text-overflow:ellipsis;overflow:hidden;width:90%;height:1.2em;font-weight:500;white-space:nowrap;text-align:center;margin:0 auto;display:block}.aboutRoom .roomInfoWrapper .namewrapper[data-v-03846037]{position:relative;text-align:center;padding:1em 0}.aboutRoom .roomInfoWrapper .namewrapper input[data-v-03846037]{text-align:center;font-weight:700}.aboutRoom .roomInfoWrapper .namewrapper .active[data-v-03846037]{border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomInfoWrapper .namewrapper .iconwrapper[data-v-03846037]{position:absolute;right:1em;top:50%;bottom:0;transform:translateY(-50%)}.aboutRoom .roomInfoWrapper .userpicWrapper[data-v-03846037]{border-bottom:1px solid rgb(var(--neutral-grad-0));padding:1em}.aboutRoom .roomInfoWrapper .roomInfo[data-v-03846037]{position:relative}.aboutRoom .roomInfoWrapper .roomInfo .name label[data-v-03846037]{display:flex;justify-content:space-between;align-items:center;width:100%;height:60px;border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomInfoWrapper .roomInfo .name label input[data-v-03846037]{padding:.1em;display:block;border:0;height:90%;width:90%;font-size:.6em;font-weight:700;text-align:center}.aboutRoom .roomInfoWrapper .roomInfo .name span[data-v-03846037]{font-weight:700}.aboutRoom .roomInfoWrapper .topicTxt[data-v-03846037]{text-align:center;font-weight:400;font-size:.9em;display:block;margin:10px 0;padding:0 1em;word-break:break-word;height:44px}.aboutRoom .roomAccordionsList .active .body[data-v-03846037]{border-bottom:1px solid rgb(var(--neutral-grad-0))}.aboutRoom .roomAccordionsList .accordion .membersCount[data-v-03846037]{font-weight:700}.aboutRoom .roomAccordionsList .accordion .aHeader .head[data-v-03846037]{cursor:pointer;display:flex;justify-content:space-between;align-items:center;padding:1em;border-bottom:1px solid rgb(var(--neutral-grad-0));transition:.3s}.aboutRoom .roomAccordionsList .accordion .aHeader .head .leftBlock[data-v-03846037]{flex-grow:1;position:relative}.aboutRoom .roomAccordionsList .accordion .aHeader .head .leftBlock i[data-v-03846037]{font-size:.8em;width:30px;color:#606369}.roomActionsList[data-v-03846037]{padding:1em 0;padding-top:2em;background:rgb(var(--neutral-grad-1));text-align:center}.roomActionsList .button[data-v-03846037]{width:80%;margin-bottom:1em}.roomActionsList .actionsItem[data-v-03846037]{padding:.5em;border-radius:1em;width:80px;box-shadow:0 0 10px rgba(0,0,0,.1)}[data-v-03846037] #modal .modal-wrapper{right:0}",""]),t.exports=e},f6f5:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".topheader[data-v-eae8d188]{top:0;z-index:999}",""]),t.exports=e},fe8e:function(t,e,a){var i=a("8184");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("35d6").default;t.exports.__inject__=function(t){o("21a33e31",i,t)}}}]);
//# sourceMappingURL=matrix-element.4.min.js.map