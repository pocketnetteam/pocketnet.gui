(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[8],{"0010":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'br[data-v-f11e299e]{content:""}.sname[data-v-f11e299e]{font-weight:700}.listPreview[data-v-f11e299e]{display:flex;align-items:center}.statusWrapper[data-v-f11e299e]{padding-left:.5em;margin-top:.25em;margin-left:auto}.statusWrapper .my[data-v-f11e299e]{font-size:.6em;opacity:.5}.previewMessage[data-v-f11e299e]{min-height:25px}.statusError[data-v-f11e299e]{background-color:rgb(var(--color-bad));padding:8px;display:flex;align-items:center;justify-content:center;width:12px;height:12px;border-radius:50%;font-size:10px}.statusError i[data-v-f11e299e]{color:rgb(var(--background-total-theme))}',""]),e.exports=t},"00e8":function(e,t,a){"use strict";a.r(t);var i=a("858e");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"0353":function(e,t,a){"use strict";a.r(t);var i=a("eaa5");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"09ec":function(e,t,a){"use strict";a.r(t);var i=a("0c05");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"0c05":function(e,t,a){var i=a("d361");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("a6afe0da",i,e)}},"0c5c":function(e,t,a){var i=a("e33d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("621de02d",i,e)}},"0f93":function(e,t,a){var i=a("885e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("e17a0038",i,e)}},"108e":function(e,t,a){var i=a("3661");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("106f2aba",i,e)}},1433:function(e,t,a){e.exports=a.p+"img/request.aae215da.png"},"26c9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"eventsMessage",class:{hovering:e.isHovering}},[e.preview||"m.notice"===e.content.msgtype?e._e():t("div",{directives:[{name:"touch",rawName:"v-touch:touchhold",value:e.dropDownMenuShow,expression:"dropDownMenuShow",arg:"touchhold"}],class:{showmeta:e.showmeta,my:e.my,messageRow:"messageRow",urlpreview:e.urlpreview,allscreen:e.urlpreview||"m.image"===e.content.msgtype||e.file,aligncenter:"m.audio"===e.content.msgtype,isHovering:e.isHovering},attrs:{my:!e.streamMode&&e.my},on:{mouseenter:function(t){return e.onMessageHover(!0)},mouseleave:function(t){return e.onMessageHover(!1)}}},[e.urlpreview||e.imageUrl||"m.image"===e.content.msgtype||e.showmeta&&e.my||e.file||e.hasError||e.content.call_id?t("div",{staticClass:"timeWrapper"},[e.hasError?t("button",{staticClass:"error",on:{click:e.showError}},[t("i",{staticClass:"fas fa-exclamation"})]):!e.streamMode&&e.showburn?t("i",{class:"fas fa-fire burn "+e.showburn,on:{click:e.showwhenburn}}):t("span",[e._v(" "+e._s(e.format_date(e.origin.localTimestamp)||"Now")+" ")])]):e._e(),e.isMenuAllowed?t("div",{staticClass:"actionsWrapper"},[e.streamMode||!e.multiSelect||e.hasError?t("i",{staticClass:"fas fa-ellipsis-h setmenu",on:{click:e.setmenu}}):t("div",{staticClass:"multiSelect",on:{click:function(t){return e.eventMessage(e.selectedMessage)}}},[e.selectedMessage?t("i",{staticClass:"far fa-check-circle"}):t("i",{staticClass:"far fa-circle"})])]):e._e(),e.streamMode||!e.my||e.showmyicon?t("div",{staticClass:"iconWrapper",on:{click:function(t){return e.core.mtrx.opencontact(e.userinfo)}}},[t("userpic",{attrs:{userinfo:e.userinfo}})],1):e._e(),"m.image"===e.content.msgtype?t("div",{staticClass:"messageImg"},[!e.reference||e.preview||e.fromreference?e._e():t("div",{staticClass:"reference showreference",on:{click:e.showreference}},[t("eventsEvent",{attrs:{event:e.reference,chat:e.chat,preview:!0}}),e._m(0)],1),e.imageUrl?t("div",{},[e.encryptedData?t("div",{staticClass:"encryptedDataIcon"},[t("i",{staticClass:"fas fa-lock"})]):e._e(),t("div",{staticClass:"imgMsg"},[t("div",{staticClass:"showImage",style:e.imagePaddingStyle(e.content),on:{click:function(t){return e.openImageGallery(e.origin)}}},[t("div",{staticClass:"abswrapper"},[t("img",{directives:[{name:"images-loaded",rawName:"v-images-loaded:on.loaded",value:e.imagesLoaded,expression:"imagesLoaded",arg:"on",modifiers:{loaded:!0}}],attrs:{src:e.imageUrl,alt:""}})])])])]):e._e(),e.imageUrl||e.hasError?e._e():t("div",{staticClass:"preloaderImage",style:e.imagePaddingStyle(e.content)},[t("div",{staticClass:"abswrapper"},[t("linepreloader")],1)]),!e.imageUrl&&e.hasError?t("div",{staticClass:"errorImage"},[t("div",{staticClass:"abswrapper"},[e._v(e._s(e.stringifyiedError))])]):e._e()]):e._e(),"m.audio"===e.content.msgtype?t("div",{staticClass:"messageAudio"},[!e.reference||e.preview||e.fromreference?e._e():t("div",{staticClass:"reference showreference",on:{click:e.showreference}},[t("eventsEvent",{attrs:{event:e.reference,chat:e.chat,preview:!0}}),e._m(1)],1),e.audioUrl?t("VoiceMessage",{attrs:{audioBuffer:e.audioUrl,decryptedInfo:e.decryptedInfo,id:e.event.localTimestamp||Date.now()}}):e._e()],1):e._e(),e.content.call_id?t("div",{staticClass:"messageCall"},[t("Call",{class:{my:e.my},attrs:{my:e.my,event:e.event}})],1):e._e(),"m.room.request_calls_access"===e.event.event.type?t("Request",{attrs:{event:e.event}}):e._e(),"m.encrypted"===e.content.msgtype&&!e.textWithoutLinks&&e.badenctypted?t("div",{staticClass:"maxcontent",class:{my:e.my}},[t("div",{staticClass:"badenctyptedText"},[t("span",[e._v(e._s(e.$t("caption.unabletoDecrypt")))]),t("i",{staticClass:"fas fa-undo decryptagain",on:{click:e.decryptagain}})])]):e._e(),this.streamMode||("m.text"===e.content.msgtype||"m.encrypted"===e.content.msgtype)&&e.textWithoutLinks?t("div",{staticClass:"maxcontent",class:{my:e.my}},[t("div",{staticClass:"messageText",class:e.donationColor},[e.edited?t("div",{staticClass:"edited"},[t("i",{staticClass:"fas fa-pen"}),e._v(" "+e._s(e.$t("caption.edited"))+" ")]):e._e(),t("IncomingMessage",{attrs:{message:e.textWithoutLinks,"marked-text":e.markedText}}),!e.content.from&&!e.my&&e.showmeta||e.showmyicon&&!e.my?t("div",{staticClass:"sendername"},[e.userinfo?t("span",{staticClass:"b"},[e._v(e._s(e.userinfo.name))]):e._e(),e._v(" Â· "),t("span",[e._v(" "+e._s(e.format_date(e.origin.localTimestamp)||"Now")+" ")])]):e._e(),!e.reference||e.preview||e.fromreference?e._e():t("div",{staticClass:"reference showreference",on:{click:e.showreference}},[t("eventsEvent",{attrs:{event:e.reference,chat:e.chat,preview:!0}}),e._m(2)],1),e.content.from?t("div",{staticClass:"from"},[t("div",{staticClass:"fromCaption"},[t("i",{staticClass:"fas fa-share-alt"}),e.userinfo?t("span",[e._v(e._s(e.userinfo.name)+": "+e._s(e.$t("caption.messagefrom").toLowerCase()))]):e._e()])]):e._e(),e.streamMode&&e.content.url&&e.urlpreview?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.pkoindisabled,expression:"!pkoindisabled"}],staticClass:"linkPreview"},[e.sending?t("div",[t("linepreloader")],1):[e.origin.localRedactionEvent()||e.origin.getRedactionEvent()?e._e():t("url",{attrs:{url:e.urlpreview,urllink:e.urlpreview,preview:!0},on:{updatedSize:e.updatedSize,loaded:e.urlloaded,error:e.urlerror}})]],2):e._e()],1)]):e._e(),e.file?t("div",{staticClass:"filePreview"},[t("fileMessage",{attrs:{encryptedData:e.encryptedData,file:e.file,"can-download":!e.hasError,downloaded:e.downloaded,"error-message":e.formattedErrorMessage},on:{download:e.download}}),e.encryptedData?t("div",{staticClass:"encryptedDataIcon"},[t("i",{staticClass:"fas fa-lock"})]):e._e()],1):e._e(),!e.streamMode&&e.urlpreview?t("div",{staticClass:"linkPreview"},[e.sending?t("div",[t("linepreloader")],1):[e.origin.localRedactionEvent()||e.origin.getRedactionEvent()?e._e():t("url",{attrs:{url:e.urlpreview,urllink:e.urlpreview,preview:!0},on:{updatedSize:e.updatedSize,error:e.urlerror}})]],2):e._e(),(e.content.from||e.imageFrom)&&(e.file||"m.image"===e.content.msgtype&&e.imageUrl||"m.audio"===e.content.msgtype&&e.audioUrl)?t("div",{staticClass:"fromimagesfiles"},[t("div",{staticClass:"fromCaption"},[t("i",{staticClass:"fas fa-share-alt"}),e.userinfo?t("span",[e._v(e._s(e.userinfo.name)+": "+e._s(e.$t("caption.messagefrom").toLowerCase())+" ")]):e._e()])]):e._e()],1),e.preview?t("div",{staticClass:"messagePreview"},[t("listPreview",{attrs:{my:e.my,event:e.origin,decryptEvent:e.decryptEvent,userinfo:e.userinfo,chat:e.chat,readed:e.readed}})],1):e._e(),e.streamMode||!e.my||!e.readed||e.preview||e.fromreference?e._e():t("div",{staticClass:"statusWrapper"},[t("div",{staticClass:"my"},[t("i",{staticClass:"fas fa-check-double"}),t("span",[e._v(e._s(e.$t("caption.messageRead")))])])])])},s=[function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"referenceCaption"},[t("span",[t("i",{staticClass:"fas fa-share"})])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"referenceCaption"},[t("span",[t("i",{staticClass:"fas fa-share"})])])},function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"referenceCaption"},[t("span",[t("i",{staticClass:"fas fa-share"})])])}],r=a("1da1"),n=(a("14d9"),a("88a7"),a("271a"),a("5494"),function(){var e=this,t=e._self._c;return t("span",[t("clip-loader",{staticClass:"clipLoader",attrs:{size:"25px",color:"#0035a8",loading:!0}}),t("p",[e._v(e._s(e.preview.name))]),t("p",[e._v(e._s(e.preview.size))])],1)}),o=[],d=a("da7a"),c={props:{preview:Object},components:{clipLoader:d["a"]}},l=c,m=a("2877"),u=Object(m["a"])(l,n,o,!1,null,null,null,!0),p=u.exports,g=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"msgAction"},[t("div",{staticClass:"contentAction",style:{margin:e.position}},[t("ul",[t("li",[t("a",{attrs:{href:"google.com"}},[e._v(e._s(e.$t("button.reply"))+" "),t("i",{staticClass:"fas fa-reply"})])]),t("li",[e._v(e._s(e.$t("button.copy"))+" "),t("i",{staticClass:"far fa-copy"})]),t("li",[e._v(e._s(e.$t("button.select"))+" "),t("i",{staticClass:"far fa-check-circle"})]),t("li",[e._v(e._s(e.$t("button.forward"))+" "),t("i",{staticClass:"fas fa-share"})]),t("li",[e._v(e._s(e.$t("button.delete"))+" "),t("i",{staticClass:"far fa-trash-alt"})])])])])},v=[],h=a("2f62"),f={name:"msgActions",props:{position:String},data:function(){return{loading:!1,actionMessage:!1}},computed:Object(h["d"])({auth:e=>e.auth}),methods:{}},b=f;function w(e){var t=a("00e8");t.__inject__&&t.__inject__(e)}var y=Object(m["a"])(b,g,v,!1,w,"05cd0480",null,!0),x=y.exports,C=a("696c"),k=function(){var e=this,t=e._self._c;return t("div",{staticClass:"listPreview"},[e.urlpreview&&e.metaPreviewLink?t("div",{staticClass:"previewMessage"},[e.senderName?t("span",{staticClass:"sname txt"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+"Â ")]):e._e(),t("span",{staticClass:"linkTitle txt"},[e._v("sent link: "+e._s(e.meta["og:title"])+" ")]),"Pocketnet"===e.meta["og:site_name"]?t("span",{staticClass:"pocketnetLink"},[e._v(" "+e._s(e.meta["og:site_name"])+" ")]):t("span",[e._v(" "+e._s(e.meta["og:site_name"])+" ")])]):e._e(),"m.file"===e.content.msgtype?t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"sname txt"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+"Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.sentfile"))+" "+e._s(JSON.parse(e.content.body).name)+" ")])]):e._e(),"m.bad.encrypted"===e.content.msgtype?t("div",{staticClass:"previewMessage"},[t("span",[e._v(" "+e._s(e.core.vm.$i18n.t("caption.unabletoDecrypt"))+" ")])]):e._e(),"m.room.redaction"===e.event.event.type?t("div",{staticClass:"previewMessage"},[t("span",{staticClass:"txt"},[t("i",{staticClass:"fas fa-eraser"}),e._v(" "+e._s(e.core.vm.$i18n.t("caption.messageDeleted"))+" ")])]):e._e(),"m.room.power_levels"===e.event.event.type?t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(" "+e._s(e.powerLevels)+" ")])]):e._e(),"m.image"===e.content.msgtype?t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.sentImage")))])]):e._e(),"m.audio"===e.content.msgtype?t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.sentVoiceMessage")))])]):e._e(),e.content.call_id?t("div",{staticClass:"previewMessage"},[t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t(e.event.event.type)))])]):e._e(),"m.room.request_calls_access"===e.event.event.type?t("div",{staticClass:"previewMessage"},[t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.requestCallAccess")))])]):e._e(),"m.text"!==e.content.msgtype||e.urlpreview?e._e():t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("IncomingMessage",{attrs:{message:e.content.body,markedText:e.markMatches,preview:!0}})],1),"m.encrypted"!==e.content.msgtype||e.urlpreview?e._e():t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("IncomingMessage",{attrs:{message:e.decryptEvent.body,markedText:e.markMatches}})],1),"invite"===e.content.membership?t("div",{staticClass:"invitedEvent"},[e.senderName&&"You"!=e.senderName&&!e.tetatetchat?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),e.tetatetchat?t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.invitationToChat")))]):e._e(),e.tetatetchat?e._e():t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.invitationToRoom")))])]):e._e(),"leave"===e.content.membership?t("div",{staticClass:"previewMessage"},[e.senderName&&"You"!=e.senderName?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+":Â ")]):e._e(),t("span",{staticClass:"txt sname"},[e._v(" "+e._s(e.name)+" ")]),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.leftChat")))])]):e._e(),"ban"===e.content.membership?t("div",[e.senderName?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+"Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.banned"))+": "+e._s(e.content.displayname))])]):e._e(),"join"===e.content.membership&&e.event.getSender()!==e.userId?t("div",{staticClass:"invitedEvent"},[e.senderName&&"You"!=e.senderName?t("span",{staticClass:"txt sname"},[e._v(e._s("You"==e.senderName?e.core.vm.$i18n.t("caption.you"):e.senderName)+"Â ")]):e._e(),t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.joined")))])]):e._e(),e.content.name?t("div",[t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.chatRenamed"))+" "),t("b",[e._v(e._s(e.content.name))])])]):e._e(),e.content.topic?t("div",[t("span",{staticClass:"txt"},[e._v(e._s(e.core.vm.$i18n.t("caption.chatTopic"))+" "),t("b",[e._v(e._s(e.content.topic.replace(/_/g," ")))])])]):e._e(),e.my?t("div",{staticClass:"statusWrapper"},[t("div",{staticClass:"my"},[e.readed?t("i",{staticClass:"fas fa-check-double"}):e.hasError?t("div",{staticClass:"statusError"},[t("i",{staticClass:"fas fa-exclamation"})]):t("i",{staticClass:"fas fa-check"})])]):e._e()])},R=[],M=a("3139"),j=function(){var e=this,t=e._self._c;return t("div",{staticClass:"msgtext"},[e._l(e.chunks,(function(a,i){return[a.id?t("label",{staticClass:"likelink",on:{click:function(t){return e.show(a)}}},[e._v("@"+e._s(a.name))]):t("label",{domProps:{innerHTML:e._s(e.echotext(a))}})]}))],2)},T=[],$=(a("a1f0"),{name:"IncomingMessage",props:{message:{type:String,default:""},markedText:String,preview:Boolean},data(){return{user_id:/\w{68}:/,userCalled:/@\w{68}:\w{1,50}/g}},computed:{chunks:function(){if(-1==this.message.indexOf("@"))return[this.message];var e=this.message.split(this.userCalled),t=Array.from(this.message.matchAll(this.userCalled),e=>e[0]),a=[];return _.each(e,(function(e,i){if(a.push(e),t[i]){var s=t[i].replace("@","").split(":");2==s.length?a.push({id:s[0],name:s[1]}):a.push(t[i])}})),_.filter(a,e=>e)}},methods:{echotext:function(e){e=e.replace(/&amp;/g,"&");var t=M["a"].superXSS(e);return"undefined"!=typeof joypixels&&(t=joypixels.toImage(t)),t},show:function(e){this.preview||this.core.mtrx.kit.usersInfoById(e.id).then(e=>{core.mtrx.opencontact(e)})}}}),E=$;function I(e){var t=a("f52e");t.__inject__&&t.__inject__(e)}var S=Object(m["a"])(E,j,T,!1,I,"6a7d3d06",null,!0),N=S.exports,z={props:{event:{},chat:{},decryptEvent:{},userinfo:Object,readed:Boolean,my:Boolean},inject:["matches","markText"],components:{IncomingMessage:N},data:function(){return{meta:{}}},computed:{userId:function(){var e;return null===(e=this.core.user.userinfo)||void 0===e?void 0:e.id},countMembers:function(){var e;return _.size(null===(e=this.chat)||void 0===e?void 0:e.currentState.members)},urlpreview:function(){if("m.file"!==this.content.msgtype)return""},tetatetchat:function(){return this.core.mtrx.kit.tetatetchat(this.chat)},unknowngroupusers:function(){return this.core.mtrx.kit.unknowngroupusers(this.m_chat)},senderName:function(){return this.userinfo.id==this.userId?"You":this.userinfo.name||""},metaPreviewLink:function(){return this.core.mtrx.client.getUrlPreview(this.urlpreview,0).then(e=>this.meta=e),this.meta},stringifyiedError:function(){return M["a"].stringify(this.event.error)},hasError:function(){return!!this.stringifyiedError},ev:function(){return this.event._clearEvent||this.event},content:function(){return this.event.event.content},name:function(){var e=this.$store.state.users[""+M["a"].getmatrixid(this.event.event.state_key)].name;return e==this.senderName?"":e},powerLevels:function(){if("m.room.power_levels"===this.event.event.type&&this.event.event.unsigned.prev_content){let e=Object.keys(M["a"].ObjDiff(this.event.event.content.users,this.event.event.unsigned.prev_content.users)),t=this.$store.state.users[""+M["a"].getmatrixid(e[0])],a=this.event.event.content.users[""+e[0]];if(!_.isEmpty(t)&&e[0]){if(0===a&&t.name)return"unmarked "+t.name+" as moderator";if(50===a&&t.name)return"marked "+t.name+" as moderator"}}},markMatches:function(){var e,t;return this.markText?this.markText(null===(e=this.event.event.decrypted||this.event.event.content)||void 0===e?void 0:e.body,!0):null===(t=this.event.event.decrypted||this.event.event.content)||void 0===t?void 0:t.body}}},O=z;function P(e){var t=a("2a39");t.__inject__&&t.__inject__(e)}var A=Object(m["a"])(O,k,R,!1,P,"f11e299e",null,!0),B=A.exports,L=function(){var e=this,t=e._self._c;return t("div",{staticClass:"urlMessage",attrs:{id:"url"}},["empty"==e.urltype||e.error?e._e():t("div",{staticClass:"urlwrapper"},[e.loading?t("div",[t("div",{staticClass:"preloaderWrapperLocal"},[t("linepreloader")],1)]):t("metaMessage",{ref:"metamessage",attrs:{type:e.urltype,name:e.meta["og:site_name"],title:e.meta["og:title"],description:e.meta["og:description"],image:e.previewImageUrl,url:e.url,h:e.meta["og:image:height"],w:e.meta["og:image:width"]},on:{updatedSize:e.updatedSize,loaded:e.loaded}})],1)])},D=[],q=["bin","dat","swf","doc","docx","sig","tif","cdr","xls","xlsx","p7s","mkv","tmp","db","isz","mdf","jpg","cr2","fb2","iso","svg","exe","mdx","vob","ppt","xls","dcm","vsd","mov","img","pdf","jpg","jfif","png"],W={name:"eventsurl",props:{url:String,preview:Boolean,data:Object},components:{metaMessage:()=>a.e(7).then(a.bind(null,"dacd"))},data:function(){return{meta:{},loading:!1,error:!1,groups:{p:["pocketnet.app","bastyon.com"],pt:["test.pocketnet.app","test.bastyon.com"]}}},computed:Object(h["d"])({auth:e=>e.auth,clearurl:function(){var e=this.url||"";return e=e.replace("http://","https://"),-1==e.indexOf("https://")&&(e="https://"+e),e},previewImageUrl(){if(this.meta["og:image"])return this.core.mtrx.client.mxcUrlToHttp(this.meta["og:image"])},urltype:function(){if(!this.url)return"empty";if(this.url.indexOf("embedVideo.php")>-1)return"video";var e={};try{e=new URL(this.url)}catch(t){this.error=t}return"/"==e.pathname?"custom":this.url.indexOf("publicroom=")>-1||this.url.indexOf("connect=")>-1?"matrix":M["a"].deep(window,"POCKETNETINSTANCE.thislink")&&M["a"].deep(window,"POCKETNETINSTANCE.thislink")(this.url)?"pocketnet":"custom"},subtype:function(){if("custom"==this.urltype){if(this.clearurl&&this.clearurl.indexOf&&this.clearurl.indexOf("zoom.us")>-1)return"zoom";if(this.clearurl&&this.clearurl.split){var e=this.clearurl.split(/\//g);if(e.length>2){var t=e[e.length-1]||"",a=t.split(".");if(2==a.length&&q.indexOf(a[a.length-1])>-1)return"file"}}}}}),beforeMount:function(){"custom"==this.urltype?this.geturl():this.loading=!1},methods:{updatedSize:function(e){this.$emit("updatedSize",e)},loaded:function(e){this.$emit("loaded",e)},geturl:function(){if(this.subtype)return"zoom"==this.subtype&&(this.meta={"og:title":"Join our Cloud HD Video Meeting"}),void("file"==this.subtype&&(this.meta={"og:title":"File"}));this.core.mtrx.client.getUrlPreview(this.clearurl,0).then(e=>{var t={};if(_.each(e,(e,a)=>{e&&(t[a]=e)}),_.isEmpty(t))return this.$emit("error","empty"),Promise.reject("empty");this.meta=e}).catch(e=>{this.meta=null,this.error=e,this.$emit("error",e)}).finally(()=>{this.loading=!1})}}},U=W;function Y(e){var t=a("bced");t.__inject__&&t.__inject__(e)}var H=Object(m["a"])(U,L,D,!1,Y,"6abe0e6a",null,!0),V=H.exports,F=a("8ff0"),G=a.n(F),Q=a("a54c"),J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"voiceMessage",class:{playing:e.isPlaying}},[t("div",{staticClass:"voiceMessage_wrapper"},[t("button",{staticClass:"voiceMessage_toggle",class:{encrypted:e.encrypted},on:{touchend:e.audioToggle,click:e.audioToggleClick}},[t("i",{class:e.isPlaying?"fas fa-pause":"fas fa-play"})]),t("div",{staticClass:"voiceMessage_graph"},[t("canvas",{ref:"canvas",attrs:{width:"100",height:"50"},on:{mousedown:e.goTo}})]),e.encrypted&&!e.error?t("div",{staticClass:"encsign"},[t("i",{staticClass:"fas fa-lock"})]):e._e(),t("div",{staticClass:"voiceMessage_options"},[e.error?e._e():t("span",[e._v(e._s(e.getDurationString))]),e.error?t("i",{staticClass:"fas fa-exclamation-circle"}):e._e()])])])},K=[],X=(a("2c66"),a("249d"),a("40e9"),{name:"VoiceMessage",props:{decryptedInfo:Object|ArrayBuffer,audioBuffer:{type:null|String,required:!0},id:{type:Number}},data(){return{voiceMessage:null,isPlaying:!1,interval:null,audioContext:null,audio:null,duration:null,currentTime:null,signal:null,audiobuffer:null,error:null}},inject:["addToQueue","playNext"],mounted(){this.initVoiceMessage()},beforeDestroy(){this.isPlaying&&this.pause(),this.interval&&(clearInterval(this.interval),this.interval=null)},watch:{isPlaying:function(e){this.isPlaying}},computed:{encrypted(){return!!this.decryptedInfo},...Object(h["d"])({mobile:e=>e.mobile}),getDurationString(){if(this.duration){let e,t;return this.currentTime?(t=Math.floor(this.currentTime/60),e=Math.floor(this.currentTime-60*t),`${t}:${e<10?"0"+e:e}`):(t=Math.floor(this.duration/60),e=Math.floor(this.duration-60*t),`${t}:${e<10?"0"+e:e}`)}return"0:00"},percentPlayed(){return this.currentTime/this.duration},localBuffer(){return M["a"].copyArrayBuffer(this.audioBuffer)}},methods:{goTo(e){if(this.$refs.canvas){var t=e.offsetX/this.$refs.canvas.width*this.duration;this.isPlaying?(this.pause(),setTimeout(()=>{this.setTime(t),this.play()},20)):(this.setTime(t),this.play())}},audioToggleClick(){this.mobile||this.audioToggle()},audioToggle(){this.isPlaying?this.pause():this.play()},pause(){this.audio&&(this.audio.stop(),this.audio.disconnect()),this.isPlaying=!1,this.draw();let e=this.$store.state.currentPlayingVoiceMessage;e&&e.id==this.id&&this.$store.commit("SET_CURRENT_PLAYING_VOICE_MESSAGE",null),this.interval&&(clearInterval(this.interval),this.interval=null)},play(){if(!this.audiobuffer)return;if(this.error)return void this.playNext(this.id);this.audioContext=this.core.getAudioContext(),this.isPlaying=!0,this.audio=this.initAudioNode(),this.currentTime>=this.duration&&this.setTime(0),this.audio.start?this.audio.start(0,this.currentTime):this.audio.play?this.audio.play(0,this.currentTime):this.audio.noteOn&&this.audio.noteOn(0,this.currentTime);let e=this.$store.state.currentPlayingVoiceMessage;e&&e.id!==this.id&&e.pause(),this.$store.commit("SET_CURRENT_PLAYING_VOICE_MESSAGE",this),this.interval&&clearInterval(this.interval);var t=50;this.interval=setInterval(()=>{var e=this.currentTime+t/1e3;this.duration-t/1e3<e&&(e=this.duration),this.currentTime>this.duration&&this.pause(),this.draw(),this.setTime(e)},t)},draw(){const e=this.$refs.canvas;if(!this.signal)return;if(!e)return;const t=this.signal;var a=e.width,i=e.height,s=t.length,r=this.percentPlayed;const n=e.getContext("2d");n.clearRect(0,0,a,i);var o=Math.floor(s/20);for(let d=0;d<s;d+=o){let e=Math.floor(d/s*a),o=Math.abs(t[d]*i)+1;n.fillStyle=d/s<=r?"#00a4ff":"#8bddfb",n.fillRect(e,i/2-o/2,2,o)}},initAudioNode(){let e=null;return e=this.audioContext.createBufferSource(),e.buffer=this.audiobuffer,e.connect(this.audioContext.destination),e.onended=()=>{this.audio=null,this.isPlaying&&setTimeout(()=>{this.playNext(this.id)},300),this.duration-100<this.currentTime&&this.setTime(0),this.pause()},e},setTime(e=0){this.currentTime=e},initVoiceMessage(){var e=this;return Object(r["a"])((function*(){try{e.audioContext=e.core.getAudioContext()}catch(t){e.error=t}if(!e.error){e.addToQueue(e,e.id),e.duration=0,e.setTime(0);try{yield e.audioContext.decodeAudioData(e.localBuffer,t=>{e.audiobuffer=t,e.duration=t.duration,e.setTime(0);const a=navigator.userAgent.toLowerCase().includes("firefox");e.signal=a?[...t.getChannelData(0)]:t.getChannelData(0),e.draw()})}catch(t){e.error=t}}}))()}}}),Z=X;function ee(e){var t=a("279b");t.__inject__&&t.__inject__(e)}var te=Object(m["a"])(Z,J,K,!1,ee,"3ed97517",null,!0),ae=te.exports,ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"call",class:{ended:"ended"===this.getDescription(),bad:"reject"===this.getDescription()}},[t("div",{staticClass:"call-icon",class:"ended"===this.getDescription()?"ended":""},[t("i",{class:"reject"===this.getDescription()?"fas fa-phone-slash":"fas fa-phone"})]),t("div",{staticClass:"call-info"},[t("div",{staticClass:"call-info_title"},[e._v(e._s(e.$t(this.getDescription())))])])])},se=[],re={name:"Call",props:{my:Boolean,event:Object},methods:{getDescription:function(){let e;return"m.call.invite"===this.event.event.type&&(e=this.my?"outgoingCall":"incomingCall"),"m.call.hangup"===this.event.event.type&&(e="ended"),"m.call.reject"===this.event.event.type&&(e="reject"),e}}},ne=re;function oe(e){var t=a("0353");t.__inject__&&t.__inject__(e)}var de=Object(m["a"])(ne,ie,se,!1,oe,"85dc1b0a",null,!0),ce=de.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"request"},[t("img",{staticClass:"image",attrs:{src:a("1433"),alt:"request"}}),e.me?[t("div",{staticClass:"title"},[e._v(e._s(e.$t("caption.requestCallAccessYou")))])]:[t("div",{staticClass:"title"},[e._v(e._s(e.$t("caption.requestCallAccess")))]),t("div",{staticClass:"description"},[t("div",[e._v(e._s(e.$t("caption.callAccessWarning")))])]),t("div",{staticClass:"options"},[t("button",{staticClass:"btn bad",on:{click:e.prohibit}},[e._v(" "+e._s(e.$t("caption.prohibit"))+" ")]),t("button",{staticClass:"btn ok",on:{click:e.allow}},[e._v(e._s(e.$t("caption.allow")))])])]],2)},me=[],ue={name:"request",props:{event:{type:Object}},computed:{me:function(){var e,t;return this.core.mtrx.me(null===this||void 0===this||null===(e=this.event)||void 0===e||null===(t=e.event)||void 0===t?void 0:t.sender)||!1}},methods:{allow(){this.core.mtrx.client.sendStateEvent(this.event.event.room_id,"m.room.callsEnabled",{enabled:!0},this.core.user.userinfo.id),this.core.mtrx.client.sendStateEvent(this.event.event.room_id,"m.room.request_calls_access",{accepted:!0}),this.core.store.dispatch("FETCH_EVENTS")},prohibit(){this.core.mtrx.client.sendStateEvent(this.event.event.room_id,"m.room.callsEnabled",{enabled:!1},this.core.user.userinfo.id),this.core.mtrx.client.sendStateEvent(this.event.event.room_id,"m.room.request_calls_access",{accepted:!1}),this.core.store.dispatch("FETCH_EVENTS")}}},pe=ue;function ge(e){var t=a("88cf");t.__inject__&&t.__inject__(e)}var ve=Object(m["a"])(pe,le,me,!1,ge,"cf79d7c2",null,!0),he=ve.exports,fe=function(){var e=this,t=e._self._c;return e.reactions.length?t("div",{staticClass:"reactionDisplay",class:{my:e.my}},[t("div",{staticClass:"reactionsList"},e._l(e.reactions,(function(a){return t("ReactionBubble",{key:a.emoji,attrs:{emoji:a.emoji,count:a.count,"is-own-reaction":!!a.myReaction,users:a.users},on:{toggle:function(t){return e.toggleReaction(a)}}})})),1)]):e._e()},be=[],we=function(){var e=this,t=e._self._c;return t("div",{staticClass:"reactionBubble",class:{active:e.isOwnReaction,clickable:!0},on:{click:e.handleClick,mouseenter:function(t){e.showTooltip=!0},mouseleave:function(t){e.showTooltip=!1}}},[t("span",{staticClass:"emoji"},[e._v(e._s(e.emoji))]),t("span",{staticClass:"count"},[e._v(e._s(e.count))])])},ye=[],_e={name:"ReactionBubble",props:{emoji:{type:String,required:!0},count:{type:Number,required:!0},isOwnReaction:{type:Boolean,default:!1},users:{type:Array,default:()=>[]}},data(){return{showTooltip:!1}},computed:{userNames(){return this.users.map(e=>({id:e.id,name:e.id.split(":")[0].replace("@","")}))}},methods:{handleClick(){this.$emit("toggle")}}},xe=_e;function Ce(e){var t=a("6c7a");t.__inject__&&t.__inject__(e)}var ke=Object(m["a"])(xe,we,ye,!1,Ce,"cd6f9bbc",null,!0),Re=ke.exports,Me={name:"ReactionDisplay",components:{ReactionBubble:Re},props:{event:{type:Object,required:!0},chat:{type:Object,required:!0},reactions:{type:Array,default:()=>[]},showAddButton:{type:Boolean,default:!1},my:{type:Boolean,default:!1}},methods:{toggleReaction(e){e.myReaction?this.$emit("remove-reaction",e.myReaction):this.$emit("add-reaction",e.emoji)}}},je=Me;function Te(e){var t=a("09ec");t.__inject__&&t.__inject__(e)}var $e=Object(m["a"])(je,fe,be,!1,Te,"13c44d32",null,!0),Ee=$e.exports,Ie={name:"eventsMessage",props:{decryptEvent:{},origin:Object,prevevent:Object,event:Object,preview:Boolean,userinfo:Object,readed:Boolean,downloaded:Boolean,baseImg:{type:String,default:"empty"},filePreview:Object,imgEvent:{},add_image:Function,goToGallery:Function,chat:Object,encrypted:!1,encryptedData:Boolean,decryptedInfo:null,error:String,withImage:Boolean,reference:Object,showmyicontrue:!1,fromreference:Boolean,multiSelect:{default:!1,type:Boolean},selectedMessages:{default:[],type:Array},audioBuffer:null},directives:{imagesLoaded:G.a},data:function(){return{referenceshowed:!1,markedText:null,hasurlerror:null,donationColor:null,isHovering:!1,reactionUpdateTrigger:0,hoverTimeout:null,pendingRemovals:[]}},inject:["matches","markText","streamMode","powerLevel","adminActions","menuState"],components:{actions:x,filePreview:p,fileMessage:C["a"],listPreview:B,url:V,dummypreviews:Q["default"],IncomingMessage:N,VoiceMessage:ae,Call:ce,Request:he,ReactionDisplay:Ee},watch:{readyToRender:{immediate:!0,handler:function(){this.readyToRender&&this.$emit("readyToRender")}}},computed:{formattedErrorMessage(){if(this.error)try{const e=JSON.parse(this.error);return e.error||e.message||e.errcode||this.$t("caption.error")}catch(e){return this.error}},pkoindisabled:function(){return this.$store.state.pkoindisabled||!1},showburn:function(){return new Date<new Date(2021,11,28)?"":-moment().diff(this.willburn,this.core.options.burn.v)<this.core.options.burn.b?"big":-moment().diff(this.willburn,this.core.options.burn.v)<this.core.options.burn.m?"medium":""},willburn:function(){var e=moment(this.origin.localTimestamp).add(this.core.options.burn.w,this.core.options.burn.v);return e},readyToRender:function(){var e,t="m.encrypted"===this.content.msgtype&&!this.textWithoutLinks&&this.badenctypted||this.content.membership||("m.text"===this.content.msgtype||"m.encrypted"===this.content.msgtype)&&this.textWithoutLinks||this.file||"m.room.request_calls_access"===this.event.event.type||this.error||"m.image"===this.content.msgtype&&this.imageUrl||"m.audio"===this.content.msgtype&&this.audioUrl||this.urlpreview||(null===this||void 0===this||null===(e=this.content)||void 0===e?void 0:e.call_id)||this.preview;return t},my:function(){var e;return this.userinfo.id===(null===(e=this.core.user.userinfo)||void 0===e?void 0:e.id)},stateChat:function(){var e=this.$route.query.id;return this.$store.state.chatsMap[e]},sending:function(){return"sending"==this.origin.status},showmeta:function(){if(!this.prevevent)return!0;var e=this.$f.getmatrixid(this.prevevent.getSender()),t=6e5;return 0!=moment().diff(this.origin.localTimestamp,"days")&&(t=864e5),e!=this.userinfo.id||this.prevevent.localTimestamp+t<this.origin.localTimestamp||void 0},imageFrom:function(){if(this.content&&this.content.info)return this.content.info.from},showmyicon:function(){return this.streamMode||this.showmyicontrue||"m.image"===this.content.msgtype||"m.file"===this.content.msgtype||this.urlpreview||!this.$store.state.active&&this.$store.state.minimized},file:function(){if("m.file"===this.content.msgtype)return this.body},replacedmintionsbody:function(){return this.body.replace(/@\w{68}:(\w{1,50})/g,(function(e,t){return"@"+t}))},body:function(){let e=this.origin.event.content;"m.encrypted"===e.msgtype&&(e=this.decryptEvent);var t=e.pbody||e.body||"";return window.findAndReplaceLinkClear&&("string"===typeof t||t instanceof String)&&(t=window.findAndReplaceLinkClear(t)),"m.text"===e.msgtype&&this.markMatches(t),t},content:function(){return this.origin.event.content},badenctypted:function(){return"m.bad.encrypted"==this.decryptEvent.msgtype},textWithoutLinks:function(){var e=this.$f.trim(this.body);return this.hasurlerror||!this.urlpreview||this.urlpreview.length<10||e.indexOf(this.urlpreview)>0&&e.indexOf(this.urlpreview)+this.urlpreview.length<e.length?e:this.$f.trim(e.replace(this.urlpreview,""))},imageUrl:function(){if("m.image"===this.content.msgtype)return this.encryptedData&&!this.hasError?this.decryptedInfo:this.content&&this.content.url},audioUrl:function(){var e;if("m.audio"===this.content.msgtype)return this.hasError?null===(e=this.content)||void 0===e?void 0:e.url:this.encryptedData&&this.decryptedInfo?this.decryptedInfo:this.audioBuffer},canediting:function(){var e=M["a"].deep(this.origin,"event.type");if("m.room.message"==e&&("m.encrypted"==this.origin.event.content.msgtype||"m.text"==this.origin.event.content.msgtype)&&!this.hasError)return!0},cancopy:function(){var e=M["a"].deep(this.origin,"event.type");if("m.room.message"==e&&("m.encrypted"==this.origin.event.content.msgtype||"m.text"==this.origin.event.content.msgtype))return!0},stringifyiedError:function(){return M["a"].stringify(this.event.error)},hasError:function(){return!!this.stringifyiedError},menuItems:function(){var e=M["a"].deep(this.origin,"event.type")||"",t=[];return-1===e.indexOf("m.call")&&(t.push({click:"reply",title:this.$i18n.t("button.reply"),icon:"fas fa-reply"}),t.push({click:"showMultiSelect",title:this.$i18n.t("button.select"),icon:"fas fa-check-circle"}),t.push({click:"share",title:this.$i18n.t("button.share"),icon:"fas fa-share-alt"})),this.my&&t.push({click:"delete",title:this.$i18n.t("button.delete"),icon:"far fa-trash-alt"}),"m.room.message"===e&&(t.unshift({click:"copy",title:this.$i18n.t("button.copy"),icon:"far fa-copy"}),this.my&&this.canediting&&t.unshift({click:"edit",title:this.$i18n.t("button.edit"),icon:"far fa-edit"})),t},urlpreview:function(){if(this.streamMode&&this.content.url||!this.streamMode&&!this.preview&&"m.file"!==this.content.msgtype&&"m.image"!==this.content.msgtype&&"m.audio"!==this.content.msgtype){var e=M["a"].getUrl(this.streamMode?this.content.url:this.body);if(e)try{var t=new URL(e);return"/"==t.pathname&&M["a"].knsite(e)?"":e}catch(a){return""}return e||""}},edited:function(){return!!this.content.edited||(!(!this.origin.event.content["m.relates_to"]||"m.replace"!=this.origin.event.content["m.relates_to"]["rel_type"])||void 0)},selectedMessage:function(){var e;const t=this.selectedMessages.filter(e=>e.message_id===this.origin.event.event_id);return(null===(e=t[0])||void 0===e?void 0:e.message_id)===this.origin.event.event_id},user:function(){return this.chat.getMember(this.chat.myUserId)},sender:function(){var e,t,a,i,s;return this.chat.getMember((null===(e=this.event)||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.userId)||(null===(a=this.event)||void 0===a||null===(i=a.event)||void 0===i?void 0:i.sender)||(null===(s=this.event.event)||void 0===s?void 0:s.user_id))},isMenuAllowed:function(){return this.streamMode&&!this.my||!this.streamMode&&!this.content.call_id&&"m.room.request_calls_access"!==this.event.event.type},reactions:function(){if(this.reactionUpdateTrigger,!this.origin||this.preview||this.fromreference)return[];const e=this.core.mtrx.getReactionsForMessage(this.origin);return this.pendingRemovals.length?e.map(e=>{if(e.myReaction&&this.pendingRemovals.includes(e.myReaction)){const t={...e};return t.count--,t.myReaction=null,t.users=t.users.filter(e=>!this.pendingRemovals.includes(e.reactionEventId)),t}return e}).filter(e=>e.count>0):e},quickReactionEmojis:function(){return["ðŸ‘","â¤ï¸","ðŸ”¥","ðŸ‘Ž","ðŸ˜Š","ðŸ‘"]}},mounted(){this.origin&&(console.log("Adding listener to origin:",this.origin.getId?this.origin.getId():"no-id"),this.origin.on("Event.relations",this.onEventRelationsChange),this.origin.on("MatrixEvent.relations",this.onEventRelationsChange))},beforeDestroy(){this.origin&&(this.origin.removeListener("Event.relations",this.onEventRelationsChange),this.origin.removeListener("MatrixEvent.relations",this.onEventRelationsChange))},methods:{onEventRelationsChange(e){console.log("Event.relations triggered!",e),this.reactionUpdateTrigger++},gotoreference:function(){var e=this.reference.getId();this.$emit("gotoreference",e)},showError:function(){return this.$dialog.alert(this.stringifyiedError,{okText:"Ok",backdropClose:!0}).catch(e=>{})},showwhenburn:function(){var e="";e=this.willburn.toDate()<new Date?this.$i18n.t("messagewasburn"):this.$i18n.t("messagewillburn"),this.$store.commit("icon",{icon:"info",message:e})},imagesLoaded:function(){this.updatedSize()},updatedSize:function(e){this.$emit("updatedSize",e)},dropDownMenuShow:function(e){if(!this.streamMode)return 2===(null===e||void 0===e?void 0:e.button)?e.preventDefault():void setTimeout(()=>{this.setmenu()},200)},prepareShare:function(){var e={};if("m.image"===this.content.msgtype&&this.imageUrl&&(e.images=[this.imageUrl]),"m.audio"===this.content.msgtype&&this.audioUrl&&(e.audio=[this.audioUrl]),"m.text"===this.content.msgtype||"m.encrypted"===this.content.msgtype){var t=this.body?this.$f.trim(this.body):"";t&&(e.messages=[t])}return this.file&&(e.download=[{event:this.event,chat:this.chat}]),e.from=this.userinfo.id,e.senderName=this.userinfo.name,e},menushare:function(){return this.$emit("share",this.prepareShare()),Promise.resolve()},menuresend:function(){return this.$emit("resend"),this.hideEventElement(),this.resendMessage().then(this.deleteMessage)},menuedit:function(){return this.$emit("editing",this.body),Promise.resolve()},menushowMultiSelect:function(){return this.$emit("showMultiSelect"),this.selectMessage(),Promise.resolve()},menureply:function(){return this.$emit("reply"),Promise.resolve()},menucopy:function(){var e=this.replacedmintionsbody;return window.findAndReplaceLinkClear&&("string"===typeof e||e instanceof String)&&(e=window.findAndReplaceLinkClear(e)),this.$f.copytext(e),Promise.resolve()},deleteMessage:function(){return this.$emit("remove"),this.core.mtrx.client.redactEvent(this.chat.roomId,this.origin.event.event_id,null,{reason:"messagedeleting"})},menudelete:function(){return this.$dialog.confirm("Do you really want to delete message?",{okText:this.$i18n.t("yes"),cancelText:this.$i18n.t("cancel")}).then(()=>this.deleteMessage()).catch(e=>Promise.resolve())},menuItemClickHandler:function(e,t,a){a.hidePopup(),this["menu"+e.click]().then(e=>{}).catch(e=>{a.showPopup()})},imagePaddingStyle:function(e){if(e.info&&e.info.h&&e.info.w){var t=e.info.h/e.info.w;t>1.7&&(t=1.7);var a="padding-bottom:"+100*t+"%";return a}return""},parser(e){return JSON.parse(e)["og:title"]},openImage(e){this.$emit("openImg",e)},format_date(e){return this.$f.format_date(e)},download:function(){this.$emit("download")},decryptagain:function(){this.$emit("decryptagain")},resendMessage(){var e=this;return Object(r["a"])((function*(){return e.event.event.content.resendMessage()}))()},openImageGallery(e){this.$emit("openGalleryImg",e)},reshareKeys(){this.chat.roomId},textDonation:function(e=!1){var t=this.$i18n.t("caption.somebody"),a="";try{t=this.$f.deep(this,"$store.state.users."+this.content.from).name}catch(s){}var i=this.$i18n.t("caption.somebody");try{i=this.$f.deep(this,"$store.state.users."+this.content.to).name}catch(s){}return a+=t+this.$i18n.t("caption.sent")+this.content.amount+this.$i18n.t("caption.sent")+i,a},menuIsVisibleHandler(e){this.$emit("menuIsVisible",e)},showreference:function(){this.$emit("toreference",this.reference)},selectMessage:function(){var e=this.prepareShare();this.$emit("selectMessage",{message_id:this.origin.event.event_id,sharing:e,time:this.origin._localTimestamp})},removeMessage:function(){this.$emit("removeMessage",{message_id:this.origin.event.event_id})},eventMessage:function(e){e?this.removeMessage():this.selectMessage()},scrollTo:function(){const e=this.$el.parentElement.parentElement,t=e.offsetParent;t&&(t.parentNode.scrollTop=e.offsetTop-t.offsetTop)},urlloaded:function(e){if(!e)return;const t=null===e||void 0===e?void 0:e.el.find(".txcnt"),a={.5:"blue",.6:"violette",.7:"cyan",.8:"orange",.9:"pink"};null===t||void 0===t||t.on("DOMSubtreeModified",()=>{const e=parseFloat(t.find(".output:eq(0) .amount").text());var i,s,r;e>0&&(t.off("DOMSubtreeModified"),Object.keys(a).slice().reverse().every(t=>!(e>=t)||(this.donationColor="donation-message donation-color-"+a[t],!1)),(null===(i=this.event)||void 0===i||null===(s=i.event)||void 0===s||null===(r=s.unsigned)||void 0===r?void 0:r.age)<5e3&&window.app.platform.donateAnimation&&window.app.platform.donateAnimation.inqueue({senderName:this.sender.name,senderMessage:this.body,value:e.toFixed(2)}))})},urlerror:function(e){this.hasurlerror=e},markMatches:function(e){this.matches&&this.markText&&(this.markedText=this.markText(e),this.$nextTick(()=>{const e=this.origin.localTimestamp!==this.origin.localTimestamp,t=Array.from(this.$el.querySelectorAll("mark"));e&&t.reverse(),t.forEach((t,a)=>{this.markedText&&(t.component=this,this.matches[""+(e?"prepend":"append")](t))})}))},hideEventElement:function(){const e=document.querySelector(`[event="${this.event.event.event_id}"]`);e&&(e.style.display="none")},setmenu:function(){document.activeElement&&document.activeElement.blur(),this.menuState.set({items:this.menu(),item:{handleQuickReaction:this.handleQuickReaction}})},menu:function(){const e=M["a"].deep(this.origin,"event.type")||"",t=[],a=-1===e.indexOf("m.call")&&!this.hasError;return this.streamMode,a&&t.push({action:this.menureply,text:"button.reply",icon:"fas fa-reply"}),this.streamMode?(this.user.powerLevel>=this.powerLevel.administrator&&t.push({action:()=>this.adminActions.toggleModerStatus(this.sender),text:"caption."+(this.sender.powerLevel===this.powerLevel.moderator?"cancelModeration":"makeModerator"),icon:"fas fa-user-shield"}),this.user.powerLevel>=this.powerLevel.moderator&&t.push({action:()=>this.adminActions.toggleBanStatus(this.sender),text:"caption."+("ban"===this.sender.membership?"removeBan":"ban"),icon:"fas fa-user-times"})):(a&&(t.push({action:this.menushowMultiSelect,text:"button.select",icon:"fas fa-check-circle"}),t.push({action:this.menushare,text:"button.share",icon:"fas fa-share-alt"})),this.my&&(t.push({action:this.menudelete,text:"button.delete",icon:"far fa-trash-alt"}),this.hasError&&t.push({action:this.menuresend,text:"button.resend",icon:"fa fa-redo"})),"m.room.message"===e&&(t.unshift({action:this.menucopy,text:"button.copy",icon:"far fa-copy"}),this.my&&this.canediting&&t.unshift({action:this.menuedit,text:"button.edit",icon:"far fa-edit"}))),t},handleAddReaction:function(e){return this.core.mtrx.sendReaction(this.chat,this.origin,e).then(()=>{this.reactionUpdateTrigger++}).catch(e=>{console.error("Failed to send reaction:",e),this.$store.commit("icon",{icon:"error",message:this.$t("errors.reactionFailed")||"Failed to send reaction"})})},handleRemoveReaction:function(e){return this.pendingRemovals.push(e),this.reactionUpdateTrigger++,this.core.mtrx.removeReaction(this.chat,e).then(()=>{this.pendingRemovals=this.pendingRemovals.filter(t=>t!==e),this.reactionUpdateTrigger++}).catch(t=>{console.error("Failed to remove reaction:",t),this.pendingRemovals=this.pendingRemovals.filter(t=>t!==e),this.reactionUpdateTrigger++})},handleQuickReaction:function(e){return this.handleAddReaction(e)},onMessageHover:function(e){this.hoverTimeout&&clearTimeout(this.hoverTimeout),e?this.isHovering=!0:this.hoverTimeout=setTimeout(()=>{this.isHovering=!1},200)}}},Se=Ie;function Ne(e){var t=a("ffc4");t.__inject__&&t.__inject__(e)}var ze=Object(m["a"])(Se,i,s,!1,Ne,"6ddd0142",null,!0);t["default"]=ze.exports},"279b":function(e,t,a){"use strict";a.r(t);var i=a("108e");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"2a39":function(e,t,a){"use strict";a.r(t);var i=a("63fd");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"2d7f":function(e,t,a){"use strict";a.r(t);var i=a("756e");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},3661:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".voiceMessage[data-v-3ed97517]{-webkit-tap-highlight-color:rgba(0,0,0,0);display:flex;contain:strict;width:230px;height:100%;height:50px}.voiceMessage_wrapper[data-v-3ed97517]{display:flex;justify-content:flex-end;align-items:center;overflow:hidden;min-width:10em;padding:0 .5em;border-radius:2em;background:rgba(var(--neutral-grad-1),.8)}.voiceMessage_toggle[data-v-3ed97517]{cursor:pointer;height:33px;width:33px;min-width:33px;margin-right:.5em;border-radius:50%;background:rgba(var(--neutral-grad-2),.25);display:flex;align-items:center;justify-content:center;color:rgb(var(--color-bg-ac))}.voiceMessage_toggle i[data-v-3ed97517]{margin-top:2px;margin-left:2px;font-size:.5em}.voiceMessage_graph[data-v-3ed97517]{position:relative;cursor:pointer}.voiceMessage_options[data-v-3ed97517]{display:flex;justify-content:center;margin-left:.5em;padding:.125em .5em;min-width:2em;background:rgba(var(--neutral-grad-2),.25);border-radius:1em}.voiceMessage_options span[data-v-3ed97517]{font-size:.8em;color:rgb(var(--neutral-grad-3))}.voiceMessage.playing .voiceMessage_options span[data-v-3ed97517]{font-size:.8em;color:rgb(var(--color-bg-ac-bright))}.voiceMessage .fa-exclamation-circle[data-v-3ed97517]{font-size:.7em;color:rgb(var(--color-bad));padding:.5em}.voiceMessage .encsign[data-v-3ed97517]{display:flex;align-items:center;margin-left:.5em}.voiceMessage .encsign i[data-v-3ed97517]{font-size:.5em;color:rgb(var(--neutral-grad-2));opacity:.6}",""]),e.exports=t},"3d78":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".wrapper>div[data-v-71ce89e8]{padding:.5em;vertical-align:middle}.wrapper .icon[data-v-71ce89e8]{width:60px;text-align:center;background:rgb(var(--neutral-grad-0))}.wrapper .icon i[data-v-71ce89e8]{font-size:1.2em;opacity:.8}.wrapper .filecontent span[data-v-71ce89e8]{font-size:.8em}.wrapper .filecontent div[data-v-71ce89e8]{max-width:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.wrapper .filecontent .size[data-v-71ce89e8]{color:rgb(var(--color-txt-ac))}.wrapper .filecontent button.button[data-v-71ce89e8]{padding:.25em;margin-top:.5em}.wrapper .filecontent button.button.downloaded[data-v-71ce89e8]{background:rgb(var(--color-good));border-color:rgb(var(--color-good));color:rgb(var(--text-on-bg-ac-color))}.error[data-v-71ce89e8]{color:rgb(var(--color-bad))}",""]),e.exports=t},"63fd":function(e,t,a){var i=a("0010");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("665740bd",i,e)}},"696c":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper table"},[t("div",{staticClass:"filecontent"},[t("div",{staticClass:"name"},[t("span",[e._v(e._s(e.file.name))])]),t("div",{staticClass:"size"},[t("span",[e._v(e._s(e.humanReadableSize(e.file.size)))])]),e.errorMessage?t("div",{staticClass:"error"},[e.isErrorShort?t("span",[e._v(e._s(e.errorMessage))]):t("span",[e._v(e._s(e.$t("error_generic")))])]):e.canDownload?[t("div",{staticClass:"download"},[t("button",{staticClass:"button small rounded",on:{click:e.download}},[e.downloaded?t("span",[e._v(e._s(e.$t("button.downloaded")))]):t("span",[e._v(e._s(e.$t("button.download")))])])])]:e._e()],2),t("div",{staticClass:"icon"},[t("a",{staticClass:"fileMessage",attrs:{href:e.file.url,download:e.download,target:"_external"}},[t("i",{staticClass:"fas fa-file-download"})])])])},s=[],r=a("3139"),n={props:{preview:Object,file:Object,canDownload:{type:Boolean,default:!0},errorMessage:String,encryptedData:Boolean,downloaded:Boolean},computed:{isErrorShort(){return this.errorMessage.length<=35}},methods:{humanReadableSize(e){return r["a"].formatBytes(e)},download(){this.$emit("download")}}},o=n,d=a("2877");function c(e){var t=a("2d7f");t.__inject__&&t.__inject__(e)}var l=Object(d["a"])(o,i,s,!1,c,"71ce89e8",null,!0);t["a"]=l.exports},"6c7a":function(e,t,a){"use strict";a.r(t);var i=a("a801");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"756e":function(e,t,a){var i=a("3d78");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("0c59bbd2",i,e)}},"858e":function(e,t,a){var i=a("8dea");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("ed46dc4e",i,e)}},"85d4":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".reactionBubble[data-v-cd6f9bbc]{display:inline-flex;align-items:center;gap:5px;padding:3px 10px;border-radius:16px;background:rgba(var(--neutral-grad-1),.15);border:1.5px solid rgba(var(--neutral-grad-2),.3);cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:all .15s cubic-bezier(.4,0,.2,1);position:relative;margin:3px 4px 3px 0;min-height:28px}.reactionBubble.active[data-v-cd6f9bbc]{background:rgba(var(--color-bg-ac),.2);border-color:rgba(var(--color-bg-ac),.5);box-shadow:0 0 0 2px rgba(var(--color-bg-ac),.1)}.reactionBubble.clickable[data-v-cd6f9bbc]:hover{transform:translateY(-1px);background:rgba(var(--neutral-grad-1),.25);box-shadow:0 2px 8px rgba(0,0,0,.08)}.reactionBubble.clickable.active[data-v-cd6f9bbc]:hover{background:rgba(var(--color-bg-ac),.3);border-color:rgba(var(--color-bg-ac),.6);box-shadow:0 2px 8px rgba(var(--color-bg-ac),.15)}.reactionBubble[data-v-cd6f9bbc]:active{transform:scale(.95)}.reactionBubble .emoji[data-v-cd6f9bbc]{font-size:15px;line-height:1;display:inline-block}.reactionBubble .count[data-v-cd6f9bbc]{font-size:12px;font-weight:600;color:rgb(var(--text-color));line-height:1;opacity:.9}.reactionBubble .tooltip[data-v-cd6f9bbc]{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);z-index:1000;pointer-events:none}.reactionBubble .tooltip .tooltip-content[data-v-cd6f9bbc]{background:rgb(var(--background-main));border:1px solid rgba(var(--neutral-grad-2),.4);border-radius:8px;padding:8px 12px;box-shadow:0 4px 16px rgba(0,0,0,.2);white-space:nowrap;max-width:200px}.reactionBubble .tooltip .tooltip-content .tooltip-user[data-v-cd6f9bbc]{font-size:12px;color:rgb(var(--text-color));padding:2px 0}@media(max-width:768px){.reactionBubble[data-v-cd6f9bbc]{padding:5px 12px;min-height:34px}.reactionBubble .emoji[data-v-cd6f9bbc]{font-size:17px}.reactionBubble .count[data-v-cd6f9bbc]{font-size:13px}}",""]),e.exports=t},"885e":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.referenceTop[data-v-6ddd0142]{margin-left:.25em;margin-right:.25em;border-radius:10px;border-bottom-left-radius:0;overflow:hidden;margin-bottom:.5em}.referenceTop.my[data-v-6ddd0142]{border-bottom-right-radius:0;border-bottom-left-radius:10px}.actionsWrapper[data-v-6ddd0142]{opacity:1}.actionsWrapper .setmenu[data-v-6ddd0142]{padding:.5em 0}.actionsWrapper i.fa-check-circle[data-v-6ddd0142]{color:rgb(var(--color-txt-ac));opacity:1!important}.actionsWrapper .mnwrapper[data-v-6ddd0142]{transition:"opacity" .3s}.actionsWrapper .multiSelect[data-v-6ddd0142]{position:absolute;top:50%;transform:translateY(-50%);left:0;padding:.5em;z-index:1;width:100%;height:100%;display:flex;flex-direction:column;justify-content:center}.actionsWrapper .multiSelect:hover i[data-v-6ddd0142]{opacity:1}@media(pointer:fine){.messageRow:hover .actionsWrapper .mnwrapper[data-v-6ddd0142]{opacity:1}.messageRow:hover .quickReactionsBar[data-v-6ddd0142]{position:absolute;top:-24px;right:0}}.error[data-v-6ddd0142]{display:flex;align-items:center;justify-content:center;background-color:rgb(var(--color-bad));width:16px;height:16px;border-radius:50%;font-size:8px;margin-bottom:2px}.error i[data-v-6ddd0142]{color:rgb(var(--background-total-theme))}.burn.big[data-v-6ddd0142]{color:rgb(var(--color-bad))}.burn.medium[data-v-6ddd0142]{opacity:.8}.showImage[data-v-6ddd0142]{width:100%;position:relative;overflow:hidden}.showImage .abswrapper[data-v-6ddd0142]{position:absolute;left:0;top:0;bottom:0;right:0;display:flex;text-align:center;align-items:center;justify-content:center}.errorImage[data-v-6ddd0142],.preloaderImage[data-v-6ddd0142]{padding-bottom:100px;border-radius:10px;background:rgba(var(--neutral-grad-0),.5);width:100%;position:relative}.errorImage .abswrapper[data-v-6ddd0142],.preloaderImage .abswrapper[data-v-6ddd0142]{position:absolute;left:0;top:0;bottom:0;right:0;display:flex;text-align:center;align-items:center;justify-content:center}.errorImage .abswrapper>div[data-v-6ddd0142],.preloaderImage .abswrapper>div[data-v-6ddd0142]{opacity:.2}.statusWrapper[data-v-6ddd0142]{padding:.5em;margin-top:.5em;border-top:.5em solid rgb(var(--neutral-grad-0))}.statusWrapper .my[data-v-6ddd0142]{font-size:.7em;opacity:.5;text-align:center}.fade-enter-active[data-v-6ddd0142]{transition:.3s}.fade-enter-from[data-v-6ddd0142]{opacity:0}.messageRow[data-v-6ddd0142]{display:flex;align-items:flex-end;padding-left:.25em;min-height:34px;position:relative}.messageRow.aligncenter[data-v-6ddd0142]{align-items:center}.messageRow[data-v-6ddd0142] .call{border-bottom-left-radius:0;margin-left:.25em}.messageRow.my[data-v-6ddd0142]{padding-left:0;padding-right:.25em}.messageRow.my[data-v-6ddd0142] .call{border-top-right-radius:0;border-bottom-left-radius:1em}.messageRow.my .messageImg .imgMsg .showImage .abswrapper[data-v-6ddd0142]{border-radius:1em;border-top-right-radius:0;border-top-left-radius:1em}.messageRow .maxcontent[data-v-6ddd0142],.messageRow .maxcontent.my[data-v-6ddd0142]{max-width:72%}.messageRow.allscreen[data-v-6ddd0142]{flex-wrap:wrap;transition:background .3s}.messageRow.allscreen .userpic[data-v-6ddd0142]{position:relative}.messageRow.allscreen .userpic[data-v-6ddd0142]:after{border-radius:50%;content:"";position:absolute;left:-5px;right:-5px;top:-5px;bottom:-5px;border:5px solid rgb(var(--neutral-grad-0));z-index:1;box-shadow:0 5px 7px -5px rgba(var(--color-shadow-base),.7)}.messageRow .badenctyptedText .decryptagain[data-v-6ddd0142]{font-size:.8em}.messageRow .metaMsg[data-v-6ddd0142]{width:100%}.messageRow .badencrypted[data-v-6ddd0142]{position:absolute;background:rgb(var(--background-main));left:0;right:0;top:0;bottom:0;padding:.5em}.messageRow .encryptedDataIcon[data-v-6ddd0142]{position:absolute;color:rgb(var(--text-on-bg-ac-color));opacity:.3;padding:.25em .5em;text-shadow:0 0 2px rgba(var(--color-shadow-base),.714),0 0 3px rgba(var(--color-shadow-base),.519);left:0;top:0;z-index:1}.messageRow .encryptedDataIcon i[data-v-6ddd0142]{font-size:.7em}.messageRow .filePreview .encryptedDataIcon[data-v-6ddd0142]{color:rgb(var(--neutral-grad-2));text-shadow:none;right:0;left:auto}.messageRow .messageAudio[data-v-6ddd0142]{margin-left:.25em;display:flex;align-items:center}.messageRow .messageAudio .reference[data-v-6ddd0142]{margin-right:0;max-width:30px;margin-bottom:0}.messageRow .messageAudio .reference i[data-v-6ddd0142]{line-height:28px}.messageRow .messageAudio .reference .event[data-v-6ddd0142]{display:none;max-width:20px}.messageRow .messageImg[data-v-6ddd0142]{width:85%;position:relative;margin-top:.125em}.messageRow .messageImg .img[data-v-6ddd0142]{display:block;border-radius:.5em;position:relative;max-width:100%}.messageRow .messageImg .loadingImg[data-v-6ddd0142]{display:flex;align-items:center;justify-content:center;border-radius:.5em;position:relative;max-width:300px;height:250px}.messageRow .messageImg .loadingImg .imgPreview[data-v-6ddd0142]{border-radius:.5em;position:relative;max-width:100%;height:100%;opacity:.6}.messageRow .messageImg .loadingImg .clipLoader[data-v-6ddd0142]{position:absolute;z-index:9999;left:50%;right:0;top:50%;bottom:0;transform:translate(-50,50);display:flex;align-items:center;justify-content:center}.messageRow .messageImg .imgMsg .showImage[data-v-6ddd0142]{display:flex}.messageRow .messageImg .imgMsg img[data-v-6ddd0142]{max-width:100%;-o-object-fit:cover;object-fit:cover;display:block}.messageRow .messageImg .imgMsg .abswrapper[data-v-6ddd0142]{border-radius:1em;border-top-left-radius:0;overflow:hidden;background:rgb(var(--neutral-grad-0))}.messageRow .messageImg .metaLink[data-v-6ddd0142]{background:#000}.messageRow .messageImg .metaLink .metaMessageLink .metaTitle[data-v-6ddd0142]{font-weight:700;font-size:.9em}.messageRow .messageImg .metaLink .metaMessageLink .metaDescription[data-v-6ddd0142]{margin:.5em 0;font-size:.8em}.messageRow .messageImg .metaLink .metaMessageLink .metaImgWrapper[data-v-6ddd0142]{display:block;max-width:300px;-o-object-fit:cover;object-fit:cover}.messageRow .messageImg .metaLink .metaMessageLink .metaImgWrapper img[data-v-6ddd0142]{display:block;width:100%;height:100%}.messageRow .filePreview[data-v-6ddd0142]{width:90%;border:1px solid rgb(var(--neutral-grad-1));overflow:hidden;border-radius:10px;position:relative;margin-top:.5em;height:100px}.messageRow .filePreview .table[data-v-6ddd0142]{height:100%}.messageRow .linkPreview[data-v-6ddd0142]{width:100%}.messageRow .messagePreview[data-v-6ddd0142]{width:100%;overflow:hidden;text-overflow:ellipsis}.messageRow .messagePreview span[data-v-6ddd0142]{word-break:break-all;white-space:normal}.messageRow .fromimagesfiles[data-v-6ddd0142]{display:flex;order:3;padding:0;line-height:33px;padding-right:.5em}.messageRow .fromimagesfiles .fromCaption[data-v-6ddd0142]{white-space:nowrap;max-width:240px;overflow:hidden;text-overflow:ellipsis}.messageRow .actionsWrapper[data-v-6ddd0142]{order:4;padding-left:.5em;padding-right:.5em;cursor:pointer;text-align:right;margin-left:auto;display:flex;align-items:center;line-height:33px}.messageRow .actionsWrapper i[data-v-6ddd0142]{opacity:.3;transition:opacity .3s}.messageRow .actionsWrapper i.fa-ellipsis-h[data-v-6ddd0142]{font-size:.7em;padding:.5em}.messageRow .actionsWrapper i[data-v-6ddd0142]:hover{opacity:1;transition:opacity .3s}.messageRow .statusWrapper[data-v-6ddd0142]{order:5;padding:.5em .25em;opacity:.6}.messageRow .statusWrapper div[data-v-6ddd0142],.messageRow .statusWrapper span[data-v-6ddd0142]{font-size:.7em}.messageRow .sendername[data-v-6ddd0142]{order:3;opacity:.6;overflow:hidden;font-size:.7em}.messageRow .sendername .b[data-v-6ddd0142]{font-weight:700}.messageRow .timeWrapper[data-v-6ddd0142]{text-align:left;order:2;padding:0 .25em;line-height:33px;opacity:.6;flex-grow:1}.messageRow .timeWrapper span[data-v-6ddd0142]{white-space:nowrap;font-size:.7em}.messageRow .showreference[data-v-6ddd0142]{cursor:pointer}.messageRow.referenceshowed .messageText[data-v-6ddd0142]{background:rgba(var(--neutral-grad-1),.8)!important;color:rgb(var(--color-txt-gray))!important}.messageRow.referenceshowed .reference[data-v-6ddd0142]{padding-bottom:0!important}.messageRow.referenceshowed .referenceCaption button[data-v-6ddd0142]{width:100%}.messageRow .reference[data-v-6ddd0142]{height:32px}.messageRow .from[data-v-6ddd0142],.messageRow .reference[data-v-6ddd0142]{opacity:.8;border-bottom:1px solid rgb(var(--text-on-bg-ac-color));padding:.5em 0;padding-top:0;margin-bottom:.5em;display:flex}.messageRow .from .event[data-v-6ddd0142],.messageRow .reference .event[data-v-6ddd0142]{max-height:38px;text-align:left}.messageRow .from i[data-v-6ddd0142],.messageRow .reference i[data-v-6ddd0142]{width:30px;text-align:center;font-size:.8em}.messageRow .from .referenceCaption[data-v-6ddd0142],.messageRow .reference .referenceCaption[data-v-6ddd0142]{min-width:28px;font-size:.8em}.messageRow .from .sendername[data-v-6ddd0142],.messageRow .reference .sendername[data-v-6ddd0142]{white-space:nowrap}.messageRow .from[data-v-6ddd0142] .messagePreview,.messageRow .reference[data-v-6ddd0142] .messagePreview{font-size:.9em;height:22px}.messageRow .from[data-v-6ddd0142] .messagePreview .statusWrapper,.messageRow .reference[data-v-6ddd0142] .messagePreview .statusWrapper{display:none}.messageRow .from[data-v-6ddd0142] .messagePreview .previewMessage,.messageRow .reference[data-v-6ddd0142] .messagePreview .previewMessage{display:flex;white-space:nowrap}.messageRow .messageText[data-v-6ddd0142]{margin-left:.25em;background:rgba(var(--neutral-grad-1),.8);color:rgb(var(--text-color));padding:.5em .75em;padding-top:.5em;border-radius:1em;border-bottom-left-radius:0;font-weight:400;white-space:normal;display:flex;flex-direction:column-reverse;position:relative}.messageRow .messageText[data-v-6ddd0142] .msgtext{text-align:left;white-space:pre-wrap;word-wrap:break-word}.messageRow .messageText .edited[data-v-6ddd0142]{font-size:.7em;opacity:.5;text-align:right}.messageRow .messageText .quickReactionsBar[data-v-6ddd0142]{position:absolute;top:-12px;right:0;display:flex;gap:2px;background:rgb(var(--neutral-grad-0));border-radius:16px;padding:4px 8px;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:100;left:100%;right:auto;margin-left:6px}.messageRow .messageText .quickReactionsBar[data-v-6ddd0142]:before{content:"";position:absolute;top:0;left:-20px;width:20px;height:100%;background:transparent;z-index:1}.messageRow .messageText .quickReactionsBar.my[data-v-6ddd0142]{left:auto;right:100%;margin-left:0;margin-right:6px}.messageRow .messageText .quickReactionsBar.my[data-v-6ddd0142]:before{left:auto;right:-20px}.messageRow .messageText .quickReactionsBar .quickEmoji[data-v-6ddd0142]{font-size:18px;cursor:pointer;padding:2px 4px;border-radius:6px;transition:all .1s ease-out}.messageRow .messageText .quickReactionsBar .quickEmoji[data-v-6ddd0142]:hover{background:rgba(var(--neutral-grad-1),.6);transform:scale(1.2)}.messageRow .messageText .quickReactionsBar .quickEmoji[data-v-6ddd0142]:active{transform:scale(.9)}.messageRow .messageText div[data-v-6ddd0142]{overflow:hidden;text-overflow:ellipsis}.messageRow .messageReactions[data-v-6ddd0142]{margin-left:calc(33px + .25em)}.messageRow .messageReactions.my[data-v-6ddd0142]{margin-left:auto;margin-right:calc(33px + .5em)}.messageRow .badenctyptedText[data-v-6ddd0142]{margin-left:.5em;color:rgb(var(--text-on-bg-ac-color));padding:.5em .75em;border-radius:1em;background:rgb(var(--neutral-grad-3));word-break:break-all;white-space:normal}.messageRow .badenctyptedText span[data-v-6ddd0142]{font-size:.9em}.messageRow .iconWrapper[data-v-6ddd0142]{width:33px;min-width:33px}.messageRow .withsendername[data-v-6ddd0142]{position:relative}.messageRow .withsendername .sendername[data-v-6ddd0142]{position:absolute;top:100%;margin-top:-5px;left:20px;color:rgb(var(--neutral-grad-3))}.messageRow .withsendername .sendername span[data-v-6ddd0142]{font-size:.7em}.messageRow[my=true][data-v-6ddd0142]{justify-content:flex-end;flex-wrap:wrap}.messageRow[my=true] .iconWrapper[data-v-6ddd0142]{margin-left:.5em;order:1;align-self:flex-start}.messageRow[my=true] .fromimagesfiles[data-v-6ddd0142]{order:-3}.messageRow[my=true] .actionsWrapper[data-v-6ddd0142]{text-align:left;margin-right:auto;margin-left:0;padding-left:.75em;padding-right:.25em;order:-4}.messageRow[my=true] .statusWrapper[data-v-6ddd0142]{order:-3}.messageRow[my=true] .timeWrapper[data-v-6ddd0142]{order:-2;text-align:right;gap:4px;display:flex;justify-content:flex-end;align-items:center}.messageRow[my=true] .messageText[data-v-6ddd0142]{background:rgb(var(--color-bg-ac-bright));color:rgb(var(--text-on-bg-ac-color));text-align:right;border:0;border-radius:1em;border-bottom-left-radius:1em;border-top-right-radius:0}.messageRow[my=true] .messageAudio[data-v-6ddd0142]{margin-left:0}.messageRow[my=true] .messageAudio[data-v-6ddd0142] .voiceMessage_options,.messageRow[my=true] .messageAudio[data-v-6ddd0142] .voiceMessage_wrapper{border-top-right-radius:0}.messageRow[my=true] .messageAudio[data-v-6ddd0142] .voiceMessage{justify-content:flex-end}.messageRow.urlpreview[data-v-6ddd0142]{background:rgb(var(--background-total-theme));padding:.5em;padding-left:.25em}.messageRow.urlpreview .actionsWrapper[data-v-6ddd0142]{padding-right:.5em;padding-left:.5em}.messageRow.allscreen .filePreview[data-v-6ddd0142],.messageRow.allscreen .linkPreview[data-v-6ddd0142],.messageRow.allscreen .messageImg[data-v-6ddd0142],.messageRow.allscreen .metaMsg[data-v-6ddd0142]{order:4;padding-left:.125em}.messageRow.allscreen[my=true] .filePreview[data-v-6ddd0142],.messageRow.allscreen[my=true] .linkPreview[data-v-6ddd0142],.messageRow.allscreen[my=true] .messageImg[data-v-6ddd0142],.messageRow.allscreen[my=true] .metaMsg[data-v-6ddd0142]{order:6}.messageRow.not-preview[data-v-6ddd0142]{align-items:center;justify-content:center;color:rgb(var(--neutral-grad-3));text-align:center;flex-direction:column-reverse}.messageRow.not-preview .messageNoticeWithLink[data-v-6ddd0142]{color:#004680}.eventWrapper .fromCaption[data-v-6ddd0142]{font-size:.8em}.fromimagesfiles .fromCaption[data-v-6ddd0142]{text-align:center}.fromimagesfiles .fromCaption i[data-v-6ddd0142]{width:30px;text-align:center;font-size:.8em}.eventsMessage[data-v-6ddd0142]{position:relative}.eventsMessage.hovering[data-v-6ddd0142]{z-index:200}.eventsMessage .messageRow[data-v-6ddd0142]{position:relative}',""]),e.exports=t},"88cf":function(e,t,a){"use strict";a.r(t);var i=a("bcf7");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},"8dea":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.matrin[data-v-05cd0480]{margin:0 auto 0 0!important}.msgAction[data-v-05cd0480]{position:absolute}.msgAction[data-v-05cd0480]:before{content:"";display:block;width:100%;height:100%;position:fixed;z-index:10;opacity:.9;left:0;right:0;top:0;bottom:0}.msgAction .contentAction[data-v-05cd0480],.msgAction[data-v-05cd0480]:before{background-color:rgb(var(--background-main))}.msgAction .contentAction[data-v-05cd0480]{width:180px;position:relative;z-index:300;border:.1em solid rgb(var(--neutral-grad-0));border-radius:.8em;margin:.6em 0 0 auto}.msgAction .contentAction ul[data-v-05cd0480]{padding:0;list-style:none;margin:0;display:block;width:100%;height:100%}.msgAction .contentAction ul li[data-v-05cd0480]{display:flex;justify-content:space-between;padding:.2em .8em;align-items:center;border-top:.1em solid rgb(var(--neutral-grad-1));font-size:1em}.msgAction .contentAction ul li[data-v-05cd0480]:first-child{border:0}',""]),e.exports=t},a801:function(e,t,a){var i=a("85d4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("6f60a404",i,e)}},a976:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".preloaderWrapperLocal[data-v-6abe0e6a]{padding:.5em 0;text-align:center}.urlwrapper[data-v-6abe0e6a]{margin-top:.25em}",""]),e.exports=t},aed7:function(e,t,a){var i=a("a976");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("5e2fea7d",i,e)}},b4cb:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".request[data-v-cf79d7c2]{display:flex;justify-content:center;align-items:center;flex-direction:column;background-color:rgb(var(--background-secondary-theme));margin:0 10px;border-radius:12px;padding:1em;border:solid rgb(var(--neutral-grad-1)) 1px}.request[data-v-cf79d7c2],.request .image[data-v-cf79d7c2]{width:100%}.request .title[data-v-cf79d7c2]{font-size:1.2em;font-weight:500;text-align:left;margin:1em 0}.request .description[data-v-cf79d7c2]{text-align:left;color:#f2994a;margin:.6em 0;font-size:.8em;width:100%}.request .description i[data-v-cf79d7c2]{margin:5px;color:rgb(var(--color-star-yellow));font-size:2.1em}.request .options[data-v-cf79d7c2]{display:flex;justify-content:space-evenly;width:100%;max-width:350px}.request .options .btn[data-v-cf79d7c2]{background:rgb(var(--color-bg-ac-bright));color:rgb(var(--text-on-bg-ac-color));border:1px solid rgb(var(--color-bg-ac-bright));padding:.5em 2em;font-size:.8em;text-align:center;font-weight:600;border-radius:8px;transition:.3s;cursor:pointer;margin:1em 0 0;width:130px;max-width:40%}.request .options .btn.bad[data-v-cf79d7c2]{background-color:#eb5757;border-color:#eb5757}@media(pointer:fine){.request .options .btn.bad[data-v-cf79d7c2]:hover{background:transparent;color:#eb5757}}@media(pointer:fine){.request .options .btn[data-v-cf79d7c2]:hover{background:transparent;color:rgb(var(--color-bg-ac-bright))}}",""]),e.exports=t},b7eb:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".call[data-v-85dc1b0a]{display:flex;align-items:center;width:200px;height:3em;padding:.25em;border-radius:1em;background-color:rgba(var(--neutral-grad-1),.8)}.call.bad .call-icon[data-v-85dc1b0a]{color:rgb(var(--color-bad))}.call.my[data-v-85dc1b0a]{background-color:rgb(var(--color-bg-ac-bright));color:rgb(var(--text-on-bg-ac-color))}.call.my.bad[data-v-85dc1b0a]{background-color:rgb(var(--color-bad))}.call.my.ended[data-v-85dc1b0a]{background-color:rgba(var(--neutral-grad-1),.8);color:rgb(var(--text-color))}.call.my.ended .call-icon[data-v-85dc1b0a]{color:rgb(var(--color-bg-ac-bright))}.call.my .call-icon[data-v-85dc1b0a]{color:rgb(var(--text-on-bg-ac-color))}.call-icon[data-v-85dc1b0a]{display:flex;justify-content:center;align-items:center;width:2.5em;height:2.5em;background:rgba(0,0,0,.06);border-radius:.83em;color:rgb(var(--color-bg-ac-bright))}.call-icon.ended i[data-v-85dc1b0a]{transform:rotate(-135deg)}.call-icon i[data-v-85dc1b0a]{transform:rotate(90deg)}.call-info[data-v-85dc1b0a]{margin-left:.5em;flex-grow:2;text-align:left;font-weight:600;font-size:.8em;display:flex;flex-direction:column}",""]),e.exports=t},bced:function(e,t,a){"use strict";a.r(t);var i=a("aed7");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},bcf7:function(e,t,a){var i=a("b4cb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("39f0ea84",i,e)}},d361:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".reactionDisplay[data-v-13c44d32]{display:flex;flex-direction:column;margin-top:6px;margin-bottom:4px;font-family:Apple Color Emoji,Segoe UI Emoji,Noto Color Emoji,Android Emoji,EmojiSymbols,EmojiOne Mozilla,Twemoji Mozilla,Segoe UI Symbol,Noto Color Emoji Compat,emoji,sans-serif}.reactionDisplay .reactionsList[data-v-13c44d32]{display:flex;flex-wrap:wrap;align-items:center;gap:0}.reactionDisplay.my .reactionsList[data-v-13c44d32]{justify-content:flex-end}",""]),e.exports=t},e33d:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"label[data-v-6a7d3d06]{cursor:pointer;display:inline}.likelink[data-v-6a7d3d06]{text-decoration:underline;cursor:pointer}",""]),e.exports=t},eaa5:function(e,t,a){var i=a("b7eb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("35d6").default;e.exports.__inject__=function(e){s("cabe9994",i,e)}},f52e:function(e,t,a){"use strict";a.r(t);var i=a("0c5c");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)},ffc4:function(e,t,a){"use strict";a.r(t);var i=a("0f93");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(s)}}]);
//# sourceMappingURL=matrix-element.8.min.js.map